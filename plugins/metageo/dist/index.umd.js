(function(Ke,ge){typeof exports=="object"&&typeof module<"u"?ge(require("@fiftyone/plugins"),require("@fiftyone/operators"),require("react"),require("@fiftyone/state"),require("recoil"),require("@mui/material")):typeof define=="function"&&define.amd?define(["@fiftyone/plugins","@fiftyone/operators","react","@fiftyone/state","recoil","@mui/material"],ge):(Ke=typeof globalThis<"u"?globalThis:Ke||self,ge(Ke.__fop__,Ke.__foo__,Ke.React,Ke.__fos__,Ke.recoil,Ke.__mui__))})(this,function(Ke,ge,o,zo,Ze,i){"use strict";function tr(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const ie=tr(o),Bo=tr(zo);function Wo(e){const t=ge.usePanelEvent();return{define_area_auto:o.useCallback(async r=>new Promise((a,s)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#define_area_auto",params:r,panelId:e.id,callback:l=>{l!=null&&l.error?s(new Error(l.error)):a(l)}})}),[t,e.id]),explore_tags:o.useCallback(async r=>new Promise((a,s)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#explore_tags",params:r,panelId:e.id,callback:l=>{l!=null&&l.error?s(new Error(l.error)):a(l)}})}),[t,e.id]),start_indexing:o.useCallback(async r=>new Promise((a,s)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#start_indexing",params:r,panelId:e.id,callback:l=>{l!=null&&l.error?s(new Error(l.error)):a(l)}})}),[t,e.id]),get_indexing_state:o.useCallback(async()=>new Promise((r,a)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#get_indexing_state",params:{},panelId:e.id,callback:s=>{s!=null&&s.error?a(new Error(s.error)):r(s)}})}),[t,e.id]),get_cell_statuses:o.useCallback(async()=>new Promise((r,a)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#get_cell_statuses",params:{},panelId:e.id,callback:s=>{s!=null&&s.error?a(new Error(s.error)):r(s)}})}),[t,e.id]),get_sample_distribution:o.useCallback(async r=>new Promise((a,s)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#get_sample_distribution",params:r,panelId:e.id,callback:l=>{l!=null&&l.error?s(new Error(l.error)):a(l)}})}),[t,e.id]),get_indexing_status:o.useCallback(async r=>new Promise((a,s)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#get_indexing_status",params:r,panelId:e.id,callback:l=>{l!=null&&l.error?s(new Error(l.error)):a(l)}})}),[t,e.id]),get_current_indexing_state:o.useCallback(async()=>new Promise((r,a)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#get_current_indexing_state",params:{},panelId:e.id,callback:s=>{s!=null&&s.error?a(new Error(s.error)):r(s)}})}),[t,e.id]),get_existing_index:o.useCallback(async()=>new Promise((r,a)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#get_existing_index",params:{},panelId:e.id,callback:s=>{s!=null&&s.error?a(new Error(s.error)):r(s)}})}),[t,e.id]),drop_index:o.useCallback(async()=>new Promise((r,a)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#drop_index",params:{},panelId:e.id,callback:s=>{s!=null&&s.error?a(new Error(s.error)):r(s)}})}),[t,e.id]),cancel_indexing:o.useCallback(async r=>new Promise((a,s)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#cancel_indexing",params:r,panelId:e.id,callback:l=>{l!=null&&l.error?s(new Error(l.error)):a(l)}})}),[t,e.id]),enrich:o.useCallback(async r=>new Promise((a,s)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#enrich",params:r,panelId:e.id,callback:l=>{l!=null&&l.error?s(new Error(l.error)):a(l)}})}),[t,e.id]),cleanup_index:o.useCallback(async r=>new Promise((a,s)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#cleanup_index",params:r,panelId:e.id,callback:l=>{l!=null&&l.error?s(new Error(l.error)):a(l)}})}),[t,e.id]),cleanup_enriched_data:o.useCallback(async r=>new Promise((a,s)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#cleanup_enriched_data",params:r,panelId:e.id,callback:l=>{l!=null&&l.error?s(new Error(l.error)):a(l)}})}),[t,e.id]),create_filters:o.useCallback(async r=>new Promise((a,s)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#create_filters",params:r,panelId:e.id,callback:l=>{l!=null&&l.error?s(new Error(l.error)):a(l)}})}),[t,e.id]),get_available_osm_tags:o.useCallback(async()=>new Promise((r,a)=>{t(e.id,{operator:"@voxel51/metageo/metageo_panel#get_available_osm_tags",params:{},panelId:e.id,callback:s=>{s!=null&&s.error?a(new Error(s.error)):r(s)}})}),[t,e.id])}}const st=Ze.atom({key:"metageoIndexingState",default:{status:"idle",cells:{}}});function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(null,arguments)}function ft(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function nr(e){if(ie.isValidElement(e)||!ft(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=nr(e[n])}),t}function pt(e,t,n={clone:!0}){const r=n.clone?se({},e):e;return ft(e)&&ft(t)&&Object.keys(t).forEach(a=>{ie.isValidElement(t[a])?r[a]=t[a]:ft(t[a])&&Object.prototype.hasOwnProperty.call(e,a)&&ft(e[a])?r[a]=pt(e[a],t[a],n):n.clone?r[a]=ft(t[a])?nr(t[a]):t[a]:r[a]=t[a]}),r}function Do(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var rr={exports:{}},or={exports:{}},ce={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,S=e?Symbol.for("react.lazy"):60116,p=e?Symbol.for("react.block"):60121,k=e?Symbol.for("react.fundamental"):60117,_=e?Symbol.for("react.responder"):60118,M=e?Symbol.for("react.scope"):60119;function Y(x){return typeof x=="string"||typeof x=="function"||x===r||x===f||x===s||x===a||x===m||x===h||typeof x=="object"&&x!==null&&(x.$$typeof===S||x.$$typeof===v||x.$$typeof===l||x.$$typeof===u||x.$$typeof===g||x.$$typeof===k||x.$$typeof===_||x.$$typeof===M||x.$$typeof===p)}function j(x){if(typeof x=="object"&&x!==null){var we=x.$$typeof;switch(we){case t:var Oe=x.type;switch(Oe){case c:case f:case r:case s:case a:case m:return Oe;default:var Ie=Oe&&Oe.$$typeof;switch(Ie){case u:case g:case S:case v:case l:return Ie;default:return we}}case n:return we}}}var Q=c,T=f,w=u,X=l,O=t,J=g,I=r,$=S,b=v,E=n,F=s,z=a,B=m,L=!1;function N(x){return L||(L=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),D(x)||j(x)===c}function D(x){return j(x)===f}function G(x){return j(x)===u}function q(x){return j(x)===l}function H(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function te(x){return j(x)===g}function re(x){return j(x)===r}function be(x){return j(x)===S}function Me(x){return j(x)===v}function K(x){return j(x)===n}function $e(x){return j(x)===s}function Ce(x){return j(x)===a}function Te(x){return j(x)===m}ce.AsyncMode=Q,ce.ConcurrentMode=T,ce.ContextConsumer=w,ce.ContextProvider=X,ce.Element=O,ce.ForwardRef=J,ce.Fragment=I,ce.Lazy=$,ce.Memo=b,ce.Portal=E,ce.Profiler=F,ce.StrictMode=z,ce.Suspense=B,ce.isAsyncMode=N,ce.isConcurrentMode=D,ce.isContextConsumer=G,ce.isContextProvider=q,ce.isElement=H,ce.isForwardRef=te,ce.isFragment=re,ce.isLazy=be,ce.isMemo=Me,ce.isPortal=K,ce.isProfiler=$e,ce.isStrictMode=Ce,ce.isSuspense=Te,ce.isValidElementType=Y,ce.typeOf=j})(),or.exports=ce;var ar=or.exports;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ir=Object.getOwnPropertySymbols,No=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable;function Go(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Uo(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(s){a[s]=s}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Ho=Uo()?Object.assign:function(e,t){for(var n,r=Go(e),a,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var l in n)No.call(n,l)&&(r[l]=n[l]);if(ir){a=ir(n);for(var u=0;u<a.length;u++)Yo.call(n,a[u])&&(r[a[u]]=n[a[u]])}}return r},qo="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sr=qo,lr=Function.call.bind(Object.prototype.hasOwnProperty),xn=function(){};{var Ko=sr,vn={},Vo=lr;xn=function(e){var t="Warning: "+e;typeof console<"u"&&console.error(t);try{throw new Error(t)}catch{}}}function cr(e,t,n,r,a){for(var s in e)if(Vo(e,s)){var l;try{if(typeof e[s]!="function"){var u=Error((r||"React class")+": "+n+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[s]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw u.name="Invariant Violation",u}l=e[s](t,s,r,n,null,Ko)}catch(f){l=f}if(l&&!(l instanceof Error)&&xn((r||"React class")+": type specification of "+n+" `"+s+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof l+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),l instanceof Error&&!(l.message in vn)){vn[l.message]=!0;var c=a?a():"";xn("Failed "+n+" type: "+l.message+(c??""))}}}cr.resetWarningCache=function(){vn={}};var Xo=cr,Jo=ar,Qo=Ho,gt=sr,En=lr,ur=Xo,mt=function(){};mt=function(e){var t="Warning: "+e;typeof console<"u"&&console.error(t);try{throw new Error(t)}catch{}};function Gt(){return null}var Zo=function(e,t){var n=typeof Symbol=="function"&&Symbol.iterator,r="@@iterator";function a(b){var E=b&&(n&&b[n]||b[r]);if(typeof E=="function")return E}var s="<<anonymous>>",l={array:g("array"),bigint:g("bigint"),bool:g("boolean"),func:g("function"),number:g("number"),object:g("object"),string:g("string"),symbol:g("symbol"),any:m(),arrayOf:h,element:v(),elementType:S(),instanceOf:p,node:Y(),objectOf:_,oneOf:k,oneOfType:M,shape:Q,exact:T};function u(b,E){return b===E?b!==0||1/b===1/E:b!==b&&E!==E}function c(b,E){this.message=b,this.data=E&&typeof E=="object"?E:{},this.stack=""}c.prototype=Error.prototype;function f(b){var E={},F=0;function z(L,N,D,G,q,H,te){if(G=G||s,H=H||D,te!==gt){if(t){var re=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw re.name="Invariant Violation",re}else if(typeof console<"u"){var be=G+":"+D;!E[be]&&F<3&&(mt("You are manually calling a React.PropTypes validation function for the `"+H+"` prop on `"+G+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),E[be]=!0,F++)}}return N[D]==null?L?N[D]===null?new c("The "+q+" `"+H+"` is marked as required "+("in `"+G+"`, but its value is `null`.")):new c("The "+q+" `"+H+"` is marked as required in "+("`"+G+"`, but its value is `undefined`.")):null:b(N,D,G,q,H)}var B=z.bind(null,!1);return B.isRequired=z.bind(null,!0),B}function g(b){function E(F,z,B,L,N,D){var G=F[z],q=O(G);if(q!==b){var H=J(G);return new c("Invalid "+L+" `"+N+"` of type "+("`"+H+"` supplied to `"+B+"`, expected ")+("`"+b+"`."),{expectedType:b})}return null}return f(E)}function m(){return f(Gt)}function h(b){function E(F,z,B,L,N){if(typeof b!="function")return new c("Property `"+N+"` of component `"+B+"` has invalid PropType notation inside arrayOf.");var D=F[z];if(!Array.isArray(D)){var G=O(D);return new c("Invalid "+L+" `"+N+"` of type "+("`"+G+"` supplied to `"+B+"`, expected an array."))}for(var q=0;q<D.length;q++){var H=b(D,q,B,L,N+"["+q+"]",gt);if(H instanceof Error)return H}return null}return f(E)}function v(){function b(E,F,z,B,L){var N=E[F];if(!e(N)){var D=O(N);return new c("Invalid "+B+" `"+L+"` of type "+("`"+D+"` supplied to `"+z+"`, expected a single ReactElement."))}return null}return f(b)}function S(){function b(E,F,z,B,L){var N=E[F];if(!Jo.isValidElementType(N)){var D=O(N);return new c("Invalid "+B+" `"+L+"` of type "+("`"+D+"` supplied to `"+z+"`, expected a single ReactElement type."))}return null}return f(b)}function p(b){function E(F,z,B,L,N){if(!(F[z]instanceof b)){var D=b.name||s,G=$(F[z]);return new c("Invalid "+L+" `"+N+"` of type "+("`"+G+"` supplied to `"+B+"`, expected ")+("instance of `"+D+"`."))}return null}return f(E)}function k(b){if(!Array.isArray(b))return arguments.length>1?mt("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):mt("Invalid argument supplied to oneOf, expected an array."),Gt;function E(F,z,B,L,N){for(var D=F[z],G=0;G<b.length;G++)if(u(D,b[G]))return null;var q=JSON.stringify(b,function(te,re){var be=J(re);return be==="symbol"?String(re):re});return new c("Invalid "+L+" `"+N+"` of value `"+String(D)+"` "+("supplied to `"+B+"`, expected one of "+q+"."))}return f(E)}function _(b){function E(F,z,B,L,N){if(typeof b!="function")return new c("Property `"+N+"` of component `"+B+"` has invalid PropType notation inside objectOf.");var D=F[z],G=O(D);if(G!=="object")return new c("Invalid "+L+" `"+N+"` of type "+("`"+G+"` supplied to `"+B+"`, expected an object."));for(var q in D)if(En(D,q)){var H=b(D,q,B,L,N+"."+q,gt);if(H instanceof Error)return H}return null}return f(E)}function M(b){if(!Array.isArray(b))return mt("Invalid argument supplied to oneOfType, expected an instance of array."),Gt;for(var E=0;E<b.length;E++){var F=b[E];if(typeof F!="function")return mt("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+I(F)+" at index "+E+"."),Gt}function z(B,L,N,D,G){for(var q=[],H=0;H<b.length;H++){var te=b[H],re=te(B,L,N,D,G,gt);if(re==null)return null;re.data&&En(re.data,"expectedType")&&q.push(re.data.expectedType)}var be=q.length>0?", expected one of type ["+q.join(", ")+"]":"";return new c("Invalid "+D+" `"+G+"` supplied to "+("`"+N+"`"+be+"."))}return f(z)}function Y(){function b(E,F,z,B,L){return w(E[F])?null:new c("Invalid "+B+" `"+L+"` supplied to "+("`"+z+"`, expected a ReactNode."))}return f(b)}function j(b,E,F,z,B){return new c((b||"React class")+": "+E+" type `"+F+"."+z+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+B+"`.")}function Q(b){function E(F,z,B,L,N){var D=F[z],G=O(D);if(G!=="object")return new c("Invalid "+L+" `"+N+"` of type `"+G+"` "+("supplied to `"+B+"`, expected `object`."));for(var q in b){var H=b[q];if(typeof H!="function")return j(B,L,N,q,J(H));var te=H(D,q,B,L,N+"."+q,gt);if(te)return te}return null}return f(E)}function T(b){function E(F,z,B,L,N){var D=F[z],G=O(D);if(G!=="object")return new c("Invalid "+L+" `"+N+"` of type `"+G+"` "+("supplied to `"+B+"`, expected `object`."));var q=Qo({},F[z],b);for(var H in q){var te=b[H];if(En(b,H)&&typeof te!="function")return j(B,L,N,H,J(te));if(!te)return new c("Invalid "+L+" `"+N+"` key `"+H+"` supplied to `"+B+"`.\nBad object: "+JSON.stringify(F[z],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(b),null,"  "));var re=te(D,H,B,L,N+"."+H,gt);if(re)return re}return null}return f(E)}function w(b){switch(typeof b){case"number":case"string":case"undefined":return!0;case"boolean":return!b;case"object":if(Array.isArray(b))return b.every(w);if(b===null||e(b))return!0;var E=a(b);if(E){var F=E.call(b),z;if(E!==b.entries){for(;!(z=F.next()).done;)if(!w(z.value))return!1}else for(;!(z=F.next()).done;){var B=z.value;if(B&&!w(B[1]))return!1}}else return!1;return!0;default:return!1}}function X(b,E){return b==="symbol"?!0:E?E["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&E instanceof Symbol:!1}function O(b){var E=typeof b;return Array.isArray(b)?"array":b instanceof RegExp?"object":X(E,b)?"symbol":E}function J(b){if(typeof b>"u"||b===null)return""+b;var E=O(b);if(E==="object"){if(b instanceof Date)return"date";if(b instanceof RegExp)return"regexp"}return E}function I(b){var E=J(b);switch(E){case"array":case"object":return"an "+E;case"boolean":case"date":case"regexp":return"a "+E;default:return E}}function $(b){return!b.constructor||!b.constructor.name?s:b.constructor.name}return l.checkPropTypes=ur,l.resetWarningCache=ur.resetWarningCache,l.PropTypes=l,l};{var Ro=ar,ea=!0;rr.exports=Zo(Ro.isElement,ea)}var ta=rr.exports;const V=Do(ta);function Ut(e){if(typeof e!="string")throw new Error("MUI: `capitalize(string)` expects a string argument.");return e.charAt(0).toUpperCase()+e.slice(1)}function na(e,t,n=void 0){const r={};return Object.keys(e).forEach(a=>{r[a]=e[a].reduce((s,l)=>{if(l){const u=t(l);u!==""&&s.push(u),n&&n[l]&&s.push(n[l])}return s},[]).join(" ")}),r}const dr=e=>e,ra=(()=>{let e=dr;return{configure(t){e=t},generate(t){return e(t)},reset(){e=dr}}})(),oa={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function _n(e,t,n="Mui"){const r=oa[t];return r?`${n}-${r}`:`${ra.generate(e)}-${t}`}function aa(e,t,n="Mui"){const r={};return t.forEach(a=>{r[a]=_n(e,a,n)}),r}function rt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=fr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ia(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=fr(e))&&(r&&(r+=" "),r+=t);return r}function Sn(e,t){const n=se({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=se({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const a=e[r]||{},s=t[r];n[r]={},!s||!Object.keys(s)?n[r]=a:!a||!Object.keys(a)?n[r]=s:(n[r]=se({},s),Object.keys(a).forEach(l=>{n[r][l]=Sn(a[l],s[l])}))}else n[r]===void 0&&(n[r]=e[r])}),n}var pr={exports:{}},Ht={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=o,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),S=Symbol.iterator,p="@@iterator";function k(d){if(d===null||typeof d!="object")return null;var C=S&&d[S]||d[p];return typeof C=="function"?C:null}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function M(d){{for(var C=arguments.length,A=new Array(C>1?C-1:0),U=1;U<C;U++)A[U-1]=arguments[U];Y("error",d,A)}}function Y(d,C,A){{var U=_.ReactDebugCurrentFrame,le=U.getStackAddendum();le!==""&&(C+="%s",A=A.concat([le]));var fe=A.map(function(ne){return String(ne)});fe.unshift("Warning: "+C),Function.prototype.apply.call(console[d],console,fe)}}var j=!1,Q=!1,T=!1,w=!1,X=!1,O;O=Symbol.for("react.module.reference");function J(d){return!!(typeof d=="string"||typeof d=="function"||d===r||d===s||X||d===a||d===f||d===g||w||d===v||j||Q||T||typeof d=="object"&&d!==null&&(d.$$typeof===h||d.$$typeof===m||d.$$typeof===l||d.$$typeof===u||d.$$typeof===c||d.$$typeof===O||d.getModuleId!==void 0))}function I(d,C,A){var U=d.displayName;if(U)return U;var le=C.displayName||C.name||"";return le!==""?A+"("+le+")":A}function $(d){return d.displayName||"Context"}function b(d){if(d==null)return null;if(typeof d.tag=="number"&&M("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case r:return"Fragment";case n:return"Portal";case s:return"Profiler";case a:return"StrictMode";case f:return"Suspense";case g:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case u:var C=d;return $(C)+".Consumer";case l:var A=d;return $(A._context)+".Provider";case c:return I(d,d.render,"ForwardRef");case m:var U=d.displayName||null;return U!==null?U:b(d.type)||"Memo";case h:{var le=d,fe=le._payload,ne=le._init;try{return b(ne(fe))}catch{return null}}}return null}var E=Object.assign,F=0,z,B,L,N,D,G,q;function H(){}H.__reactDisabledLog=!0;function te(){{if(F===0){z=console.log,B=console.info,L=console.warn,N=console.error,D=console.group,G=console.groupCollapsed,q=console.groupEnd;var d={configurable:!0,enumerable:!0,value:H,writable:!0};Object.defineProperties(console,{info:d,log:d,warn:d,error:d,group:d,groupCollapsed:d,groupEnd:d})}F++}}function re(){{if(F--,F===0){var d={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:E({},d,{value:z}),info:E({},d,{value:B}),warn:E({},d,{value:L}),error:E({},d,{value:N}),group:E({},d,{value:D}),groupCollapsed:E({},d,{value:G}),groupEnd:E({},d,{value:q})})}F<0&&M("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var be=_.ReactCurrentDispatcher,Me;function K(d,C,A){{if(Me===void 0)try{throw Error()}catch(le){var U=le.stack.trim().match(/\n( *(at )?)/);Me=U&&U[1]||""}return`
`+Me+d}}var $e=!1,Ce;{var Te=typeof WeakMap=="function"?WeakMap:Map;Ce=new Te}function x(d,C){if(!d||$e)return"";{var A=Ce.get(d);if(A!==void 0)return A}var U;$e=!0;var le=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var fe;fe=be.current,be.current=null,te();try{if(C){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(tt){U=tt}Reflect.construct(d,[],ne)}else{try{ne.call()}catch(tt){U=tt}d.call(ne.prototype)}}else{try{throw Error()}catch(tt){U=tt}d()}}catch(tt){if(tt&&U&&typeof tt.stack=="string"){for(var ee=tt.stack.split(`
`),je=U.stack.split(`
`),Ee=ee.length-1,Se=je.length-1;Ee>=1&&Se>=0&&ee[Ee]!==je[Se];)Se--;for(;Ee>=1&&Se>=0;Ee--,Se--)if(ee[Ee]!==je[Se]){if(Ee!==1||Se!==1)do if(Ee--,Se--,Se<0||ee[Ee]!==je[Se]){var qe=`
`+ee[Ee].replace(" at new "," at ");return d.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",d.displayName)),typeof d=="function"&&Ce.set(d,qe),qe}while(Ee>=1&&Se>=0);break}}}finally{$e=!1,be.current=fe,re(),Error.prepareStackTrace=le}var It=d?d.displayName||d.name:"",Lo=It?K(It):"";return typeof d=="function"&&Ce.set(d,Lo),Lo}function we(d,C,A){return x(d,!1)}function Oe(d){var C=d.prototype;return!!(C&&C.isReactComponent)}function Ie(d,C,A){if(d==null)return"";if(typeof d=="function")return x(d,Oe(d));if(typeof d=="string")return K(d);switch(d){case f:return K("Suspense");case g:return K("SuspenseList")}if(typeof d=="object")switch(d.$$typeof){case c:return we(d.render);case m:return Ie(d.type,C,A);case h:{var U=d,le=U._payload,fe=U._init;try{return Ie(fe(le),C,A)}catch{}}}return""}var We=Object.prototype.hasOwnProperty,Ue={},He=_.ReactDebugCurrentFrame;function Qe(d){if(d){var C=d._owner,A=Ie(d.type,d._source,C?C.type:null);He.setExtraStackFrame(A)}else He.setExtraStackFrame(null)}function it(d,C,A,U,le){{var fe=Function.call.bind(We);for(var ne in d)if(fe(d,ne)){var ee=void 0;try{if(typeof d[ne]!="function"){var je=Error((U||"React class")+": "+A+" type `"+ne+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof d[ne]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw je.name="Invariant Violation",je}ee=d[ne](C,ne,U,A,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ee){ee=Ee}ee&&!(ee instanceof Error)&&(Qe(le),M("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",U||"React class",A,ne,typeof ee),Qe(null)),ee instanceof Error&&!(ee.message in Ue)&&(Ue[ee.message]=!0,Qe(le),M("Failed %s type: %s",A,ee.message),Qe(null))}}}var ut=Array.isArray;function et(d){return ut(d)}function P(d){{var C=typeof Symbol=="function"&&Symbol.toStringTag,A=C&&d[Symbol.toStringTag]||d.constructor.name||"Object";return A}}function y(d){try{return W(d),!1}catch{return!0}}function W(d){return""+d}function Z(d){if(y(d))return M("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",P(d)),W(d)}var Le=_.ReactCurrentOwner,R={key:!0,ref:!0,__self:!0,__source:!0},dt,Po;function Vl(d){if(We.call(d,"ref")){var C=Object.getOwnPropertyDescriptor(d,"ref").get;if(C&&C.isReactWarning)return!1}return d.ref!==void 0}function Xl(d){if(We.call(d,"key")){var C=Object.getOwnPropertyDescriptor(d,"key").get;if(C&&C.isReactWarning)return!1}return d.key!==void 0}function Jl(d,C){typeof d.ref=="string"&&Le.current}function Ql(d,C){{var A=function(){dt||(dt=!0,M("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",C))};A.isReactWarning=!0,Object.defineProperty(d,"key",{get:A,configurable:!0})}}function Zl(d,C){{var A=function(){Po||(Po=!0,M("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",C))};A.isReactWarning=!0,Object.defineProperty(d,"ref",{get:A,configurable:!0})}}var Rl=function(d,C,A,U,le,fe,ne){var ee={$$typeof:t,type:d,key:C,ref:A,props:ne,_owner:fe};return ee._store={},Object.defineProperty(ee._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(ee,"_self",{configurable:!1,enumerable:!1,writable:!1,value:U}),Object.defineProperty(ee,"_source",{configurable:!1,enumerable:!1,writable:!1,value:le}),Object.freeze&&(Object.freeze(ee.props),Object.freeze(ee)),ee};function ec(d,C,A,U,le){{var fe,ne={},ee=null,je=null;A!==void 0&&(Z(A),ee=""+A),Xl(C)&&(Z(C.key),ee=""+C.key),Vl(C)&&(je=C.ref,Jl(C,le));for(fe in C)We.call(C,fe)&&!R.hasOwnProperty(fe)&&(ne[fe]=C[fe]);if(d&&d.defaultProps){var Ee=d.defaultProps;for(fe in Ee)ne[fe]===void 0&&(ne[fe]=Ee[fe])}if(ee||je){var Se=typeof d=="function"?d.displayName||d.name||"Unknown":d;ee&&Ql(ne,Se),je&&Zl(ne,Se)}return Rl(d,ee,je,le,U,Le.current,ne)}}var Zn=_.ReactCurrentOwner,ko=_.ReactDebugCurrentFrame;function Ot(d){if(d){var C=d._owner,A=Ie(d.type,d._source,C?C.type:null);ko.setExtraStackFrame(A)}else ko.setExtraStackFrame(null)}var Rn;Rn=!1;function er(d){return typeof d=="object"&&d!==null&&d.$$typeof===t}function Mo(){{if(Zn.current){var d=b(Zn.current.type);if(d)return`

Check the render method of \``+d+"`."}return""}}function tc(d){return""}var $o={};function nc(d){{var C=Mo();if(!C){var A=typeof d=="string"?d:d.displayName||d.name;A&&(C=`

Check the top-level render call using <`+A+">.")}return C}}function Ao(d,C){{if(!d._store||d._store.validated||d.key!=null)return;d._store.validated=!0;var A=nc(C);if($o[A])return;$o[A]=!0;var U="";d&&d._owner&&d._owner!==Zn.current&&(U=" It was passed a child from "+b(d._owner.type)+"."),Ot(d),M('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',A,U),Ot(null)}}function jo(d,C){{if(typeof d!="object")return;if(et(d))for(var A=0;A<d.length;A++){var U=d[A];er(U)&&Ao(U,C)}else if(er(d))d._store&&(d._store.validated=!0);else if(d){var le=k(d);if(typeof le=="function"&&le!==d.entries)for(var fe=le.call(d),ne;!(ne=fe.next()).done;)er(ne.value)&&Ao(ne.value,C)}}}function rc(d){{var C=d.type;if(C==null||typeof C=="string")return;var A;if(typeof C=="function")A=C.propTypes;else if(typeof C=="object"&&(C.$$typeof===c||C.$$typeof===m))A=C.propTypes;else return;if(A){var U=b(C);it(A,d.props,"prop",U,d)}else if(C.PropTypes!==void 0&&!Rn){Rn=!0;var le=b(C);M("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",le||"Unknown")}typeof C.getDefaultProps=="function"&&!C.getDefaultProps.isReactClassApproved&&M("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function oc(d){{for(var C=Object.keys(d.props),A=0;A<C.length;A++){var U=C[A];if(U!=="children"&&U!=="key"){Ot(d),M("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",U),Ot(null);break}}d.ref!==null&&(Ot(d),M("Invalid attribute `ref` supplied to `React.Fragment`."),Ot(null))}}function Fo(d,C,A,U,le,fe){{var ne=J(d);if(!ne){var ee="";(d===void 0||typeof d=="object"&&d!==null&&Object.keys(d).length===0)&&(ee+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var je=tc();je?ee+=je:ee+=Mo();var Ee;d===null?Ee="null":et(d)?Ee="array":d!==void 0&&d.$$typeof===t?(Ee="<"+(b(d.type)||"Unknown")+" />",ee=" Did you accidentally export a JSX literal instead of a component?"):Ee=typeof d,M("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Ee,ee)}var Se=ec(d,C,A,le,fe);if(Se==null)return Se;if(ne){var qe=C.children;if(qe!==void 0)if(U)if(et(qe)){for(var It=0;It<qe.length;It++)jo(qe[It],d);Object.freeze&&Object.freeze(qe)}else M("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else jo(qe,d)}return d===r?oc(Se):rc(Se),Se}}function ac(d,C,A){return Fo(d,C,A,!0)}function ic(d,C,A){return Fo(d,C,A,!1)}var sc=ic,lc=ac;Ht.Fragment=r,Ht.jsx=sc,Ht.jsxs=lc})(),pr.exports=Ht;var me=pr.exports;const sa=ie.createContext(void 0);V.node,V.object;function la(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const a=t.components[n];return a.defaultProps?Sn(a.defaultProps,r):!a.styleOverrides&&!a.variants?Sn(a,r):r}function ca({props:e,name:t}){const n=ie.useContext(sa);return la({props:e,name:t,theme:{components:n}})}V.node,V.object.isRequired;function ua(e){return ca(e)}var Pt={},gr={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(gr);var mr=gr.exports,Cn={exports:{}},hr;function yr(){return hr||(hr=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Cn)),Cn.exports}var Tn={exports:{}},br;function da(){return br||(br=1,function(e){function t(n,r){if(n==null)return{};var a={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)!==-1)continue;a[s]=n[s]}return a}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Tn)),Tn.exports}function fa(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function pa(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ga=function(){function e(n){var r=this;this._insertTag=function(a){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,s),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(pa(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=fa(a);try{s.insertRule(r,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Ae="-ms-",qt="-moz-",oe="-webkit-",xr="comm",wn="rule",On="decl",ma="@import",vr="@keyframes",ha="@layer",ya=Math.abs,Kt=String.fromCharCode,ba=Object.assign;function xa(e,t){return Pe(e,0)^45?(((t<<2^Pe(e,0))<<2^Pe(e,1))<<2^Pe(e,2))<<2^Pe(e,3):0}function Er(e){return e.trim()}function va(e,t){return(e=t.exec(e))?e[0]:e}function ae(e,t,n){return e.replace(t,n)}function In(e,t){return e.indexOf(t)}function Pe(e,t){return e.charCodeAt(t)|0}function kt(e,t,n){return e.slice(t,n)}function Ve(e){return e.length}function Pn(e){return e.length}function Vt(e,t){return t.push(e),e}function Ea(e,t){return e.map(t).join("")}var Xt=1,ht=1,_r=0,Fe=0,_e=0,yt="";function Jt(e,t,n,r,a,s,l){return{value:e,root:t,parent:n,type:r,props:a,children:s,line:Xt,column:ht,length:l,return:""}}function Mt(e,t){return ba(Jt("",null,null,"",null,null,0),e,{length:-e.length},t)}function _a(){return _e}function Sa(){return _e=Fe>0?Pe(yt,--Fe):0,ht--,_e===10&&(ht=1,Xt--),_e}function ze(){return _e=Fe<_r?Pe(yt,Fe++):0,ht++,_e===10&&(ht=1,Xt++),_e}function Xe(){return Pe(yt,Fe)}function Qt(){return Fe}function $t(e,t){return kt(yt,e,t)}function At(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Sr(e){return Xt=ht=1,_r=Ve(yt=e),Fe=0,[]}function Cr(e){return yt="",e}function Zt(e){return Er($t(Fe-1,kn(e===91?e+2:e===40?e+1:e)))}function Ca(e){for(;(_e=Xe())&&_e<33;)ze();return At(e)>2||At(_e)>3?"":" "}function Ta(e,t){for(;--t&&ze()&&!(_e<48||_e>102||_e>57&&_e<65||_e>70&&_e<97););return $t(e,Qt()+(t<6&&Xe()==32&&ze()==32))}function kn(e){for(;ze();)switch(_e){case e:return Fe;case 34:case 39:e!==34&&e!==39&&kn(_e);break;case 40:e===41&&kn(e);break;case 92:ze();break}return Fe}function wa(e,t){for(;ze()&&e+_e!==57;)if(e+_e===84&&Xe()===47)break;return"/*"+$t(t,Fe-1)+"*"+Kt(e===47?e:ze())}function Oa(e){for(;!At(Xe());)ze();return $t(e,Fe)}function Ia(e){return Cr(Rt("",null,null,null,[""],e=Sr(e),0,[0],e))}function Rt(e,t,n,r,a,s,l,u,c){for(var f=0,g=0,m=l,h=0,v=0,S=0,p=1,k=1,_=1,M=0,Y="",j=a,Q=s,T=r,w=Y;k;)switch(S=M,M=ze()){case 40:if(S!=108&&Pe(w,m-1)==58){In(w+=ae(Zt(M),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:w+=Zt(M);break;case 9:case 10:case 13:case 32:w+=Ca(S);break;case 92:w+=Ta(Qt()-1,7);continue;case 47:switch(Xe()){case 42:case 47:Vt(Pa(wa(ze(),Qt()),t,n),c);break;default:w+="/"}break;case 123*p:u[f++]=Ve(w)*_;case 125*p:case 59:case 0:switch(M){case 0:case 125:k=0;case 59+g:_==-1&&(w=ae(w,/\f/g,"")),v>0&&Ve(w)-m&&Vt(v>32?wr(w+";",r,n,m-1):wr(ae(w," ","")+";",r,n,m-2),c);break;case 59:w+=";";default:if(Vt(T=Tr(w,t,n,f,g,a,u,Y,j=[],Q=[],m),s),M===123)if(g===0)Rt(w,t,T,T,j,s,m,u,Q);else switch(h===99&&Pe(w,3)===110?100:h){case 100:case 108:case 109:case 115:Rt(e,T,T,r&&Vt(Tr(e,T,T,0,0,a,u,Y,a,j=[],m),Q),a,Q,m,u,r?j:Q);break;default:Rt(w,T,T,T,[""],Q,0,u,Q)}}f=g=v=0,p=_=1,Y=w="",m=l;break;case 58:m=1+Ve(w),v=S;default:if(p<1){if(M==123)--p;else if(M==125&&p++==0&&Sa()==125)continue}switch(w+=Kt(M),M*p){case 38:_=g>0?1:(w+="\f",-1);break;case 44:u[f++]=(Ve(w)-1)*_,_=1;break;case 64:Xe()===45&&(w+=Zt(ze())),h=Xe(),g=m=Ve(Y=w+=Oa(Qt())),M++;break;case 45:S===45&&Ve(w)==2&&(p=0)}}return s}function Tr(e,t,n,r,a,s,l,u,c,f,g){for(var m=a-1,h=a===0?s:[""],v=Pn(h),S=0,p=0,k=0;S<r;++S)for(var _=0,M=kt(e,m+1,m=ya(p=l[S])),Y=e;_<v;++_)(Y=Er(p>0?h[_]+" "+M:ae(M,/&\f/g,h[_])))&&(c[k++]=Y);return Jt(e,t,n,a===0?wn:u,c,f,g)}function Pa(e,t,n){return Jt(e,t,n,xr,Kt(_a()),kt(e,2,-2),0)}function wr(e,t,n,r){return Jt(e,t,n,On,kt(e,0,r),kt(e,r+1,-1),r)}function bt(e,t){for(var n="",r=Pn(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function ka(e,t,n,r){switch(e.type){case ha:if(e.children.length)break;case ma:case On:return e.return=e.return||e.value;case xr:return"";case vr:return e.return=e.value+"{"+bt(e.children,r)+"}";case wn:e.value=e.props.join(",")}return Ve(n=bt(e.children,r))?e.return=e.value+"{"+n+"}":""}function Ma(e){var t=Pn(e);return function(n,r,a,s){for(var l="",u=0;u<t;u++)l+=e[u](n,r,a,s)||"";return l}}function $a(e){return function(t){t.root||(t=t.return)&&e(t)}}function Or(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Aa=function(t,n,r){for(var a=0,s=0;a=s,s=Xe(),a===38&&s===12&&(n[r]=1),!At(s);)ze();return $t(t,Fe)},ja=function(t,n){var r=-1,a=44;do switch(At(a)){case 0:a===38&&Xe()===12&&(n[r]=1),t[r]+=Aa(Fe-1,n,r);break;case 2:t[r]+=Zt(a);break;case 4:if(a===44){t[++r]=Xe()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Kt(a)}while(a=ze());return t},Fa=function(t,n){return Cr(ja(Sr(t),n))},Ir=new WeakMap,La=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,a=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Ir.get(r))&&!a){Ir.set(t,!0);for(var s=[],l=Fa(n,s),u=r.props,c=0,f=0;c<l.length;c++)for(var g=0;g<u.length;g++,f++)t.props[f]=s[c]?l[c].replace(/&\f/g,u[g]):u[g]+" "+l[c]}}},za=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Pr(e,t){switch(xa(e,t)){case 5103:return oe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return oe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return oe+e+qt+e+Ae+e+e;case 6828:case 4268:return oe+e+Ae+e+e;case 6165:return oe+e+Ae+"flex-"+e+e;case 5187:return oe+e+ae(e,/(\w+).+(:[^]+)/,oe+"box-$1$2"+Ae+"flex-$1$2")+e;case 5443:return oe+e+Ae+"flex-item-"+ae(e,/flex-|-self/,"")+e;case 4675:return oe+e+Ae+"flex-line-pack"+ae(e,/align-content|flex-|-self/,"")+e;case 5548:return oe+e+Ae+ae(e,"shrink","negative")+e;case 5292:return oe+e+Ae+ae(e,"basis","preferred-size")+e;case 6060:return oe+"box-"+ae(e,"-grow","")+oe+e+Ae+ae(e,"grow","positive")+e;case 4554:return oe+ae(e,/([^-])(transform)/g,"$1"+oe+"$2")+e;case 6187:return ae(ae(ae(e,/(zoom-|grab)/,oe+"$1"),/(image-set)/,oe+"$1"),e,"")+e;case 5495:case 3959:return ae(e,/(image-set\([^]*)/,oe+"$1$`$1");case 4968:return ae(ae(e,/(.+:)(flex-)?(.*)/,oe+"box-pack:$3"+Ae+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+oe+e+e;case 4095:case 3583:case 4068:case 2532:return ae(e,/(.+)-inline(.+)/,oe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ve(e)-1-t>6)switch(Pe(e,t+1)){case 109:if(Pe(e,t+4)!==45)break;case 102:return ae(e,/(.+:)(.+)-([^]+)/,"$1"+oe+"$2-$3$1"+qt+(Pe(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~In(e,"stretch")?Pr(ae(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Pe(e,t+1)!==115)break;case 6444:switch(Pe(e,Ve(e)-3-(~In(e,"!important")&&10))){case 107:return ae(e,":",":"+oe)+e;case 101:return ae(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+oe+(Pe(e,14)===45?"inline-":"")+"box$3$1"+oe+"$2$3$1"+Ae+"$2box$3")+e}break;case 5936:switch(Pe(e,t+11)){case 114:return oe+e+Ae+ae(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return oe+e+Ae+ae(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return oe+e+Ae+ae(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return oe+e+Ae+e+e}return e}var Ba=function(t,n,r,a){if(t.length>-1&&!t.return)switch(t.type){case On:t.return=Pr(t.value,t.length);break;case vr:return bt([Mt(t,{value:ae(t.value,"@","@"+oe)})],a);case wn:if(t.length)return Ea(t.props,function(s){switch(va(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bt([Mt(t,{props:[ae(s,/:(read-\w+)/,":"+qt+"$1")]})],a);case"::placeholder":return bt([Mt(t,{props:[ae(s,/:(plac\w+)/,":"+oe+"input-$1")]}),Mt(t,{props:[ae(s,/:(plac\w+)/,":"+qt+"$1")]}),Mt(t,{props:[ae(s,/:(plac\w+)/,Ae+"input-$1")]})],a)}return""})}},Wa=[Ba],kr=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(p){var k=p.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var a=t.stylisPlugins||Wa,s={},l,u=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(p){for(var k=p.getAttribute("data-emotion").split(" "),_=1;_<k.length;_++)s[k[_]]=!0;u.push(p)});var c,f=[La,za];{var g,m=[ka,$a(function(p){g.insert(p)})],h=Ma(f.concat(a,m)),v=function(k){return bt(Ia(k),h)};c=function(k,_,M,Y){g=M,v(k?k+"{"+_.styles+"}":_.styles),Y&&(S.inserted[_.name]=!0)}}var S={key:n,sheet:new ga({key:n,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:c};return S.sheet.hydrate(u),S},Mr={exports:{}},ue={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,S=e?Symbol.for("react.lazy"):60116,p=e?Symbol.for("react.block"):60121,k=e?Symbol.for("react.fundamental"):60117,_=e?Symbol.for("react.responder"):60118,M=e?Symbol.for("react.scope"):60119;function Y(x){return typeof x=="string"||typeof x=="function"||x===r||x===f||x===s||x===a||x===m||x===h||typeof x=="object"&&x!==null&&(x.$$typeof===S||x.$$typeof===v||x.$$typeof===l||x.$$typeof===u||x.$$typeof===g||x.$$typeof===k||x.$$typeof===_||x.$$typeof===M||x.$$typeof===p)}function j(x){if(typeof x=="object"&&x!==null){var we=x.$$typeof;switch(we){case t:var Oe=x.type;switch(Oe){case c:case f:case r:case s:case a:case m:return Oe;default:var Ie=Oe&&Oe.$$typeof;switch(Ie){case u:case g:case S:case v:case l:return Ie;default:return we}}case n:return we}}}var Q=c,T=f,w=u,X=l,O=t,J=g,I=r,$=S,b=v,E=n,F=s,z=a,B=m,L=!1;function N(x){return L||(L=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),D(x)||j(x)===c}function D(x){return j(x)===f}function G(x){return j(x)===u}function q(x){return j(x)===l}function H(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function te(x){return j(x)===g}function re(x){return j(x)===r}function be(x){return j(x)===S}function Me(x){return j(x)===v}function K(x){return j(x)===n}function $e(x){return j(x)===s}function Ce(x){return j(x)===a}function Te(x){return j(x)===m}ue.AsyncMode=Q,ue.ConcurrentMode=T,ue.ContextConsumer=w,ue.ContextProvider=X,ue.Element=O,ue.ForwardRef=J,ue.Fragment=I,ue.Lazy=$,ue.Memo=b,ue.Portal=E,ue.Profiler=F,ue.StrictMode=z,ue.Suspense=B,ue.isAsyncMode=N,ue.isConcurrentMode=D,ue.isContextConsumer=G,ue.isContextProvider=q,ue.isElement=H,ue.isForwardRef=te,ue.isFragment=re,ue.isLazy=be,ue.isMemo=Me,ue.isPortal=K,ue.isProfiler=$e,ue.isStrictMode=Ce,ue.isSuspense=Te,ue.isValidElementType=Y,ue.typeOf=j})(),Mr.exports=ue;var Da=Mr.exports,$r=Da,Na={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ya={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ar={};Ar[$r.ForwardRef]=Na,Ar[$r.Memo]=Ya;var Ga=!0;function jr(e,t,n){var r="";return n.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(r+=a+" ")}),r}var Mn=function(t,n,r){var a=t.key+"-"+n.name;(r===!1||Ga===!1)&&t.registered[a]===void 0&&(t.registered[a]=n.styles)},$n=function(t,n,r){Mn(t,n,r);var a=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+a:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function Ua(e){for(var t=0,n,r=0,a=e.length;a>=4;++r,a-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Ha={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qa=/[A-Z]|^ms/g,Ka=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Fr=function(t){return t.charCodeAt(1)===45},Lr=function(t){return t!=null&&typeof t!="boolean"},An=Or(function(e){return Fr(e)?e:e.replace(qa,"-$&").toLowerCase()}),zr=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Ka,function(r,a,s){return Je={name:a,styles:s,next:Je},a})}return Ha[t]!==1&&!Fr(t)&&typeof n=="number"&&n!==0?n+"px":n};function jt(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var a=n;if(a.anim===1)return Je={name:a.name,styles:a.styles,next:Je},a.name;var s=n;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Je={name:l.name,styles:l.styles,next:Je},l=l.next;var u=s.styles+";";return u}return Va(e,t,n)}case"function":{if(e!==void 0){var c=Je,f=n(e);return Je=c,jt(e,t,f)}break}}var g=n;if(t==null)return g;var m=t[g];return m!==void 0?m:g}function Va(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=jt(e,t,n[a])+";";else for(var s in n){var l=n[s];if(typeof l!="object"){var u=l;t!=null&&t[u]!==void 0?r+=s+"{"+t[u]+"}":Lr(u)&&(r+=An(s)+":"+zr(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(t==null||t[l[0]]===void 0))for(var c=0;c<l.length;c++)Lr(l[c])&&(r+=An(s)+":"+zr(s,l[c])+";");else{var f=jt(e,t,l);switch(s){case"animation":case"animationName":{r+=An(s)+":"+f+";";break}default:r+=s+"{"+f+"}"}}}return r}var Br=/label:\s*([^\s;{]+)\s*(;|$)/g,Je;function Ft(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,a="";Je=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,a+=jt(n,t,s);else{var l=s;a+=l[0]}for(var u=1;u<e.length;u++)if(a+=jt(n,t,e[u]),r){var c=s;a+=c[u]}Br.lastIndex=0;for(var f="",g;(g=Br.exec(a))!==null;)f+="-"+g[1];var m=Ua(a)+f;return{name:m,styles:a,next:Je}}var Xa=function(t){return t()},Wr=ie.useInsertionEffect?ie.useInsertionEffect:!1,Dr=Wr||Xa,Nr=Wr||ie.useLayoutEffect,Yr=ie.createContext(typeof HTMLElement<"u"?kr({key:"css"}):null),Ja=Yr.Provider,jn=function(t){return o.forwardRef(function(n,r){var a=o.useContext(Yr);return t(n,a,r)})},en=ie.createContext({}),Fn={}.hasOwnProperty,Ln="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Qa=function(t,n){var r={};for(var a in n)Fn.call(n,a)&&(r[a]=n[a]);return r[Ln]=t,r},Za=function(t){var n=t.cache,r=t.serialized,a=t.isStringTag;return Mn(n,r,a),Dr(function(){return $n(n,r,a)}),null},Ra=jn(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var a=e[Ln],s=[r],l="";typeof e.className=="string"?l=jr(t.registered,s,e.className):e.className!=null&&(l=e.className+" ");var u=Ft(s,void 0,ie.useContext(en));l+=t.key+"-"+u.name;var c={};for(var f in e)Fn.call(e,f)&&f!=="css"&&f!==Ln&&(c[f]=e[f]);return c.className=l,n&&(c.ref=n),ie.createElement(ie.Fragment,null,ie.createElement(Za,{cache:t,serialized:u,isStringTag:typeof a=="string"}),ie.createElement(a,c))}),ei=Ra;yr();var Gr=function(t,n){var r=arguments;if(n==null||!Fn.call(n,"css"))return ie.createElement.apply(void 0,r);var a=r.length,s=new Array(a);s[0]=ei,s[1]=Qa(t,n);for(var l=2;l<a;l++)s[l]=r[l];return ie.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Gr||(Gr={}));var ti=jn(function(e,t){var n=e.styles,r=Ft([n],void 0,ie.useContext(en)),a=ie.useRef();return Nr(function(){var s=t.key+"-global",l=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),u=!1,c=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(l.before=t.sheet.tags[0]),c!==null&&(u=!0,c.setAttribute("data-emotion",s),l.hydrate([c])),a.current=[l,u],function(){l.flush()}},[t]),Nr(function(){var s=a.current,l=s[0],u=s[1];if(u){s[1]=!1;return}if(r.next!==void 0&&$n(t,r.next,!0),l.tags.length){var c=l.tags[l.tags.length-1].nextElementSibling;l.before=c,l.flush()}t.insert("",r,l,!1)},[t,r.name]),null});function Ur(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ft(t)}function ni(){var e=Ur.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var ri=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oi=Or(function(e){return ri.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),ai=oi,ii=function(t){return t!=="theme"},Hr=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?ai:ii},qr=function(t,n,r){var a;if(n){var s=n.shouldForwardProp;a=t.__emotion_forwardProp&&s?function(l){return t.__emotion_forwardProp(l)&&s(l)}:s}return typeof a!="function"&&r&&(a=t.__emotion_forwardProp),a},si=function(t){var n=t.cache,r=t.serialized,a=t.isStringTag;return Mn(n,r,a),Dr(function(){return $n(n,r,a)}),null},li=function e(t,n){var r=t.__emotion_real===t,a=r&&t.__emotion_base||t,s,l;n!==void 0&&(s=n.label,l=n.target);var u=qr(t,n,r),c=u||Hr(a),f=!c("as");return function(){var g=arguments,m=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&m.push("label:"+s+";"),g[0]==null||g[0].raw===void 0)m.push.apply(m,g);else{var h=g[0];m.push(h[0]);for(var v=g.length,S=1;S<v;S++)m.push(g[S],h[S])}var p=jn(function(k,_,M){var Y=f&&k.as||a,j="",Q=[],T=k;if(k.theme==null){T={};for(var w in k)T[w]=k[w];T.theme=ie.useContext(en)}typeof k.className=="string"?j=jr(_.registered,Q,k.className):k.className!=null&&(j=k.className+" ");var X=Ft(m.concat(Q),_.registered,T);j+=_.key+"-"+X.name,l!==void 0&&(j+=" "+l);var O=f&&u===void 0?Hr(Y):c,J={};for(var I in k)f&&I==="as"||O(I)&&(J[I]=k[I]);return J.className=j,M&&(J.ref=M),ie.createElement(ie.Fragment,null,ie.createElement(si,{cache:_,serialized:X,isStringTag:typeof Y=="string"}),ie.createElement(Y,J))});return p.displayName=s!==void 0?s:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=a,p.__emotion_styles=m,p.__emotion_forwardProp=u,Object.defineProperty(p,"toString",{value:function(){return"."+l}}),p.withComponent=function(k,_){var M=e(k,se({},n,_,{shouldForwardProp:qr(p,_,!0)}));return M.apply(void 0,m)},p}},ci=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],zn=li.bind(null);ci.forEach(function(e){zn[e]=zn(e)});function ui(e,t){const n=kr({key:"css",prepend:e});if(t){const r=n.insert;n.insert=(...a)=>(a[1].styles.match(/^@layer\s+[^{]*$/)||(a[1].styles=`@layer mui {${a[1].styles}}`),r(...a))}return n}const Bn=new Map;function Kr(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,a=ie.useMemo(()=>{const s=`${t}-${n}`;if(typeof document=="object"&&Bn.has(s))return Bn.get(s);const l=ui(t,n);return Bn.set(s,l),l},[t,n]);return t||n?me.jsx(Ja,{value:a,children:r}):r}Kr.propTypes={children:V.node,enableCssLayer:V.bool,injectFirst:V.bool};function di(e){return e==null||Object.keys(e).length===0}function Vr(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?a=>t(di(a)?n:a):t;return me.jsx(ti,{styles:r})}Vr.propTypes={defaultTheme:V.object,styles:V.oneOfType([V.array,V.string,V.object,V.func])};function fi(e,t){const n=zn(e,t);return(...r)=>{const a=typeof e=="string"?`"${e}"`:"component";return r.length===0?console.error([`MUI: Seems like you called \`styled(${a})()\` without a \`style\` argument.`,'You must provide a `styles` argument: `styled("div")(styleYouForgotToPass)`.'].join(`
`)):r.some(s=>s===void 0)&&console.error(`MUI: the styled(${a})(...args) API requires all its args to be defined.`),n(...r)}}const pi=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Xr=[];function gi(e){return Xr[0]=e,Ft(Xr)}const mi=nt(Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Vr,StyledEngineProvider:Kr,ThemeContext:en,css:Ur,default:fi,internal_processStyles:pi,internal_serializeStyles:gi,keyframes:ni},Symbol.toStringTag,{value:"Module"})));function ot(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Jr(e){if(ie.isValidElement(e)||!ot(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Jr(e[n])}),t}function Lt(e,t,n={clone:!0}){const r=n.clone?se({},e):e;return ot(e)&&ot(t)&&Object.keys(t).forEach(a=>{ie.isValidElement(t[a])?r[a]=t[a]:ot(t[a])&&Object.prototype.hasOwnProperty.call(e,a)&&ot(e[a])?r[a]=Lt(e[a],t[a],n):n.clone?r[a]=ot(t[a])?Jr(t[a]):t[a]:r[a]=t[a]}),r}const hi=nt(Object.freeze(Object.defineProperty({__proto__:null,default:Lt,isPlainObject:ot},Symbol.toStringTag,{value:"Module"})));function yi(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const bi=Object.freeze(Object.defineProperty({__proto__:null,default:yi},Symbol.toStringTag,{value:"Module"}));function Wn(e){if(typeof e!="string")throw new Error("MUI: `capitalize(string)` expects a string argument.");return e.charAt(0).toUpperCase()+e.slice(1)}const xi=nt(Object.freeze(Object.defineProperty({__proto__:null,default:Wn},Symbol.toStringTag,{value:"Module"})));var Qr={exports:{}},de={};/**
 * @license React
 * react-is.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function e(p){if(typeof p=="object"&&p!==null){var k=p.$$typeof;switch(k){case t:switch(p=p.type,p){case r:case s:case a:case f:case g:case v:return p;default:switch(p=p&&p.$$typeof,p){case u:case c:case h:case m:return p;case l:return p;default:return k}}case n:return k}}}var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");de.ContextConsumer=l,de.ContextProvider=u,de.Element=t,de.ForwardRef=c,de.Fragment=r,de.Lazy=h,de.Memo=m,de.Portal=n,de.Profiler=s,de.StrictMode=a,de.Suspense=f,de.SuspenseList=g,de.isContextConsumer=function(p){return e(p)===l},de.isContextProvider=function(p){return e(p)===u},de.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===t},de.isForwardRef=function(p){return e(p)===c},de.isFragment=function(p){return e(p)===r},de.isLazy=function(p){return e(p)===h},de.isMemo=function(p){return e(p)===m},de.isPortal=function(p){return e(p)===n},de.isProfiler=function(p){return e(p)===s},de.isStrictMode=function(p){return e(p)===a},de.isSuspense=function(p){return e(p)===f},de.isSuspenseList=function(p){return e(p)===g},de.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===r||p===s||p===a||p===f||p===g||typeof p=="object"&&p!==null&&(p.$$typeof===h||p.$$typeof===m||p.$$typeof===u||p.$$typeof===l||p.$$typeof===c||p.$$typeof===S||p.getModuleId!==void 0)},de.typeOf=e})(),Qr.exports=de;var Zr=Qr.exports;const vi=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Rr(e){const t=`${e}`.match(vi);return t&&t[1]||""}function eo(e,t=""){return e.displayName||e.name||Rr(e)||t}function to(e,t,n){const r=eo(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function Ei(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return eo(e,"Component");if(typeof e=="object")switch(e.$$typeof){case Zr.ForwardRef:return to(e,e.render,"ForwardRef");case Zr.Memo:return to(e,e.type,"memo");default:return}}}const _i=nt(Object.freeze(Object.defineProperty({__proto__:null,default:Ei,getFunctionName:Rr},Symbol.toStringTag,{value:"Module"}))),Si=["values","unit","step"],Ci=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>se({},n,{[r.key]:r.val}),{})};function no(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,a=rt(e,Si),s=Ci(t),l=Object.keys(s);function u(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function c(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function f(h,v){const S=l.indexOf(v);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(S!==-1&&typeof t[l[S]]=="number"?t[l[S]]:v)-r/100}${n})`}function g(h){return l.indexOf(h)+1<l.length?f(h,l[l.indexOf(h)+1]):u(h)}function m(h){const v=l.indexOf(h);return v===0?u(l[1]):v===l.length-1?c(l[v]):f(h,l[l.indexOf(h)+1]).replace("@media","@media not all and")}return se({keys:l,values:s,up:u,down:c,between:f,only:g,not:m,unit:n},a)}const Ti={borderRadius:4},at=V.oneOfType([V.number,V.string,V.object,V.array]);function zt(e,t){return t?Lt(e,t,{clone:!1}):e}const Dn={xs:0,sm:600,md:900,lg:1200,xl:1536},ro={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Dn[e]}px)`};function Re(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||ro;return t.reduce((l,u,c)=>(l[s.up(s.keys[c])]=n(t[c]),l),{})}if(typeof t=="object"){const s=r.breakpoints||ro;return Object.keys(t).reduce((l,u)=>{if(Object.keys(s.values||Dn).indexOf(u)!==-1){const c=s.up(u);l[c]=n(t[u],u)}else{const c=u;l[c]=t[c]}return l},{})}return n(t)}function wi(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,a)=>{const s=e.up(a);return r[s]={},r},{}))||{}}function oo(e,t){return e.reduce((n,r)=>{const a=n[r];return(!a||Object.keys(a).length===0)&&delete n[r],n},t)}function tn(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((a,s)=>a&&a[s]?a[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,a)=>r&&r[a]!=null?r[a]:null,e)}function nn(e,t,n,r=n){let a;return typeof e=="function"?a=e(n):Array.isArray(e)?a=e[n]||r:a=tn(e,n)||r,t&&(a=t(a,r,e)),a}function xe(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:a}=e,s=l=>{if(l[t]==null)return null;const u=l[t],c=l.theme,f=tn(c,r)||{};return Re(l,u,m=>{let h=nn(f,a,m);return m===h&&typeof m=="string"&&(h=nn(f,a,`${t}${m==="default"?"":Wn(m)}`,m)),n===!1?h:{[n]:h}})};return s.propTypes={[t]:at},s.filterProps=[t],s}function Oi(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Ii={m:"margin",p:"padding"},Pi={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ao={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ki=Oi(e=>{if(e.length>2)if(ao[e])e=ao[e];else return[e];const[t,n]=e.split(""),r=Ii[t],a=Pi[n]||"";return Array.isArray(a)?a.map(s=>r+s):[r+a]}),rn=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],on=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Mi=[...rn,...on];function Bt(e,t,n,r){var a;const s=(a=tn(e,t,!1))!=null?a:n;return typeof s=="number"?l=>typeof l=="string"?l:(typeof l!="number"&&console.error(`MUI: Expected ${r} argument to be a number or a string, got ${l}.`),s*l):Array.isArray(s)?l=>typeof l=="string"?l:(Number.isInteger(l)?l>s.length-1&&console.error([`MUI: The value provided (${l}) overflows.`,`The supported values are: ${JSON.stringify(s)}.`,`${l} > ${s.length-1}, you need to add the missing values.`].join(`
`)):console.error([`MUI: The \`theme.${t}\` array type cannot be combined with non integer values.You should either use an integer value that can be used as index, or define the \`theme.${t}\` as a number.`].join(`
`)),s[l]):typeof s=="function"?s:(console.error([`MUI: The \`theme.${t}\` value (${s}) is invalid.`,"It should be a number, an array or a function."].join(`
`)),()=>{})}function io(e){return Bt(e,"spacing",8,"spacing")}function Wt(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function $i(e,t){return n=>e.reduce((r,a)=>(r[a]=Wt(t,n),r),{})}function Ai(e,t,n,r){if(t.indexOf(n)===-1)return null;const a=ki(n),s=$i(a,r),l=e[n];return Re(e,l,s)}function so(e,t){const n=io(e.theme);return Object.keys(e).map(r=>Ai(e,t,r,n)).reduce(zt,{})}function he(e){return so(e,rn)}he.propTypes=rn.reduce((e,t)=>(e[t]=at,e),{}),he.filterProps=rn;function ye(e){return so(e,on)}ye.propTypes=on.reduce((e,t)=>(e[t]=at,e),{}),ye.filterProps=on,Mi.reduce((e,t)=>(e[t]=at,e),{});function ji(e=8){if(e.mui)return e;const t=io({spacing:e}),n=(...r)=>(r.length<=4||console.error(`MUI: Too many arguments provided, expected between 0 and 4, got ${r.length}`),(r.length===0?[1]:r).map(s=>{const l=t(s);return typeof l=="number"?`${l}px`:l}).join(" "));return n.mui=!0,n}function an(...e){const t=e.reduce((r,a)=>(a.filterProps.forEach(s=>{r[s]=a}),r),{}),n=r=>Object.keys(r).reduce((a,s)=>t[s]?zt(a,t[s](r)):a,{});return n.propTypes=e.reduce((r,a)=>Object.assign(r,a.propTypes),{}),n.filterProps=e.reduce((r,a)=>r.concat(a.filterProps),[]),n}function De(e){return typeof e!="number"?e:`${e}px solid`}function Ne(e,t){return xe({prop:e,themeKey:"borders",transform:t})}const Fi=Ne("border",De),Li=Ne("borderTop",De),zi=Ne("borderRight",De),Bi=Ne("borderBottom",De),Wi=Ne("borderLeft",De),Di=Ne("borderColor"),Ni=Ne("borderTopColor"),Yi=Ne("borderRightColor"),Gi=Ne("borderBottomColor"),Ui=Ne("borderLeftColor"),Hi=Ne("outline",De),qi=Ne("outlineColor"),sn=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Bt(e.theme,"shape.borderRadius",4,"borderRadius"),n=r=>({borderRadius:Wt(t,r)});return Re(e,e.borderRadius,n)}return null};sn.propTypes={borderRadius:at},sn.filterProps=["borderRadius"],an(Fi,Li,zi,Bi,Wi,Di,Ni,Yi,Gi,Ui,sn,Hi,qi);const ln=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Bt(e.theme,"spacing",8,"gap"),n=r=>({gap:Wt(t,r)});return Re(e,e.gap,n)}return null};ln.propTypes={gap:at},ln.filterProps=["gap"];const cn=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Bt(e.theme,"spacing",8,"columnGap"),n=r=>({columnGap:Wt(t,r)});return Re(e,e.columnGap,n)}return null};cn.propTypes={columnGap:at},cn.filterProps=["columnGap"];const un=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Bt(e.theme,"spacing",8,"rowGap"),n=r=>({rowGap:Wt(t,r)});return Re(e,e.rowGap,n)}return null};un.propTypes={rowGap:at},un.filterProps=["rowGap"];const Ki=xe({prop:"gridColumn"}),Vi=xe({prop:"gridRow"}),Xi=xe({prop:"gridAutoFlow"}),Ji=xe({prop:"gridAutoColumns"}),Qi=xe({prop:"gridAutoRows"}),Zi=xe({prop:"gridTemplateColumns"}),Ri=xe({prop:"gridTemplateRows"}),es=xe({prop:"gridTemplateAreas"}),ts=xe({prop:"gridArea"});an(ln,cn,un,Ki,Vi,Xi,Ji,Qi,Zi,Ri,es,ts);function xt(e,t){return t==="grey"?t:e}const ns=xe({prop:"color",themeKey:"palette",transform:xt}),rs=xe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:xt}),os=xe({prop:"backgroundColor",themeKey:"palette",transform:xt});an(ns,rs,os);function Be(e){return e<=1&&e!==0?`${e*100}%`:e}const as=xe({prop:"width",transform:Be}),Nn=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,a;const s=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Dn[n];return s?((a=e.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Be(n)}};return Re(e,e.maxWidth,t)}return null};Nn.filterProps=["maxWidth"];const is=xe({prop:"minWidth",transform:Be}),ss=xe({prop:"height",transform:Be}),ls=xe({prop:"maxHeight",transform:Be}),cs=xe({prop:"minHeight",transform:Be});xe({prop:"size",cssProperty:"width",transform:Be}),xe({prop:"size",cssProperty:"height",transform:Be});const us=xe({prop:"boxSizing"});an(as,Nn,is,ss,ls,cs,us);const Dt={border:{themeKey:"borders",transform:De},borderTop:{themeKey:"borders",transform:De},borderRight:{themeKey:"borders",transform:De},borderBottom:{themeKey:"borders",transform:De},borderLeft:{themeKey:"borders",transform:De},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:De},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sn},color:{themeKey:"palette",transform:xt},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:xt},backgroundColor:{themeKey:"palette",transform:xt},p:{style:ye},pt:{style:ye},pr:{style:ye},pb:{style:ye},pl:{style:ye},px:{style:ye},py:{style:ye},padding:{style:ye},paddingTop:{style:ye},paddingRight:{style:ye},paddingBottom:{style:ye},paddingLeft:{style:ye},paddingX:{style:ye},paddingY:{style:ye},paddingInline:{style:ye},paddingInlineStart:{style:ye},paddingInlineEnd:{style:ye},paddingBlock:{style:ye},paddingBlockStart:{style:ye},paddingBlockEnd:{style:ye},m:{style:he},mt:{style:he},mr:{style:he},mb:{style:he},ml:{style:he},mx:{style:he},my:{style:he},margin:{style:he},marginTop:{style:he},marginRight:{style:he},marginBottom:{style:he},marginLeft:{style:he},marginX:{style:he},marginY:{style:he},marginInline:{style:he},marginInlineStart:{style:he},marginInlineEnd:{style:he},marginBlock:{style:he},marginBlockStart:{style:he},marginBlockEnd:{style:he},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ln},rowGap:{style:un},columnGap:{style:cn},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Be},maxWidth:{style:Nn},minWidth:{transform:Be},height:{transform:Be},maxHeight:{transform:Be},minHeight:{transform:Be},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function ds(...e){const t=e.reduce((r,a)=>r.concat(Object.keys(a)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function fs(e,t){return typeof e=="function"?e(t):e}function lo(){function e(n,r,a,s){const l={[n]:r,theme:a},u=s[n];if(!u)return{[n]:r};const{cssProperty:c=n,themeKey:f,transform:g,style:m}=u;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[n]:r};const h=tn(a,f)||{};return m?m(l):Re(l,r,S=>{let p=nn(h,g,S);return S===p&&typeof S=="string"&&(p=nn(h,g,`${n}${S==="default"?"":Wn(S)}`,S)),c===!1?p:{[c]:p}})}function t(n){var r;const{sx:a,theme:s={},nested:l}=n||{};if(!a)return null;const u=(r=s.unstable_sxConfig)!=null?r:Dt;function c(f){let g=f;if(typeof f=="function")g=f(s);else if(typeof f!="object")return f;if(!g)return null;const m=wi(s.breakpoints),h=Object.keys(m);let v=m;return Object.keys(g).forEach(S=>{const p=fs(g[S],s);if(p!=null)if(typeof p=="object")if(u[S])v=zt(v,e(S,p,s,u));else{const k=Re({theme:s},p,_=>({[S]:_}));ds(k,p)?v[S]=t({sx:p,theme:s,nested:!0}):v=zt(v,k)}else v=zt(v,e(S,p,s,u))}),!l&&s.modularCssLayers?{"@layer sx":oo(h,v)}:oo(h,v)}return Array.isArray(a)?a.map(c):c(a)}return t}const dn=lo();dn.filterProps=["sx"];function co(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const ps=["breakpoints","palette","spacing","shape"];function uo(e={},...t){const{breakpoints:n={},palette:r={},spacing:a,shape:s={}}=e,l=rt(e,ps),u=no(n),c=ji(a);let f=Lt({breakpoints:u,direction:"ltr",components:{},palette:se({mode:"light"},r),spacing:c,shape:se({},Ti,s)},l);return f.applyStyles=co,f=t.reduce((g,m)=>Lt(g,m),f),f.unstable_sxConfig=se({},Dt,l==null?void 0:l.unstable_sxConfig),f.unstable_sx=function(m){return dn({sx:m,theme:this})},f}const gs=nt(Object.freeze(Object.defineProperty({__proto__:null,default:uo,private_createBreakpoints:no,unstable_applyStyles:co},Symbol.toStringTag,{value:"Module"}))),ms=["sx"],hs=e=>{var t,n;const r={systemProps:{},otherProps:{}},a=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:Dt;return Object.keys(e).forEach(s=>{a[s]?r.systemProps[s]=e[s]:r.otherProps[s]=e[s]}),r};function ys(e){const{sx:t}=e,n=rt(e,ms),{systemProps:r,otherProps:a}=hs(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...l)=>{const u=t(...l);return ot(u)?se({},r,u):r}:s=se({},r,t),se({},a,{sx:s})}const bs=nt(Object.freeze(Object.defineProperty({__proto__:null,default:dn,extendSxProp:ys,unstable_createStyleFunctionSx:lo,unstable_defaultSxConfig:Dt},Symbol.toStringTag,{value:"Module"})));var vt=mr;Object.defineProperty(Pt,"__esModule",{value:!0});var xs=Pt.default=As;Pt.shouldForwardProp=pn,Pt.systemDefaultTheme=void 0;var Ye=vt(yr()),Yn=vt(da()),fn=Is(mi),vs=hi,Es=vt(xi),_s=vt(_i),Ss=vt(gs),Cs=vt(bs);const Ts=["ownerState"],ws=["variants"],Os=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function fo(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(fo=function(r){return r?n:t})(e)}function Is(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=fo(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Ps(e){return Object.keys(e).length===0}function ks(e){return typeof e=="string"&&e.charCodeAt(0)>96}function pn(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function po(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const Ms=Pt.systemDefaultTheme=(0,Ss.default)(),go=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function gn({defaultTheme:e,theme:t,themeId:n}){return Ps(t)?e:t[n]||t}function $s(e){return e?(t,n)=>n[e]:null}function mn(e,t,n){let{ownerState:r}=t,a=(0,Yn.default)(t,Ts);const s=typeof e=="function"?e((0,Ye.default)({ownerState:r},a)):e;if(Array.isArray(s))return s.flatMap(l=>mn(l,(0,Ye.default)({ownerState:r},a),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:l=[]}=s;let c=(0,Yn.default)(s,ws);return l.forEach(f=>{let g=!0;if(typeof f.props=="function"?g=f.props((0,Ye.default)({ownerState:r},a,r)):Object.keys(f.props).forEach(m=>{(r==null?void 0:r[m])!==f.props[m]&&a[m]!==f.props[m]&&(g=!1)}),g){Array.isArray(c)||(c=[c]);const m=typeof f.style=="function"?f.style((0,Ye.default)({ownerState:r},a,r)):f.style;c.push(n?po((0,fn.internal_serializeStyles)(m),n):m)}}),c}return n?po((0,fn.internal_serializeStyles)(s),n):s}function As(e={}){const{themeId:t,defaultTheme:n=Ms,rootShouldForwardProp:r=pn,slotShouldForwardProp:a=pn}=e,s=l=>(0,Cs.default)((0,Ye.default)({},l,{theme:gn((0,Ye.default)({},l,{defaultTheme:n,themeId:t}))}));return s.__mui_systemSx=!0,(l,u={})=>{(0,fn.internal_processStyles)(l,T=>T.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:c,slot:f,skipVariantsResolver:g,skipSx:m,overridesResolver:h=$s(go(f))}=u,v=(0,Yn.default)(u,Os),S=c&&c.startsWith("Mui")||f?"components":"custom",p=g!==void 0?g:f&&f!=="Root"&&f!=="root"||!1,k=m||!1;let _;c&&(_=`${c}-${go(f||"Root")}`);let M=pn;f==="Root"||f==="root"?M=r:f?M=a:ks(l)&&(M=void 0);const Y=(0,fn.default)(l,(0,Ye.default)({shouldForwardProp:M,label:_},v)),j=T=>typeof T=="function"&&T.__emotion_real!==T||(0,vs.isPlainObject)(T)?w=>{const X=gn({theme:w.theme,defaultTheme:n,themeId:t});return mn(T,(0,Ye.default)({},w,{theme:X}),X.modularCssLayers?S:void 0)}:T,Q=(T,...w)=>{let X=j(T);const O=w?w.map(j):[];c&&h&&O.push($=>{const b=gn((0,Ye.default)({},$,{defaultTheme:n,themeId:t}));if(!b.components||!b.components[c]||!b.components[c].styleOverrides)return null;const E=b.components[c].styleOverrides,F={};return Object.entries(E).forEach(([z,B])=>{F[z]=mn(B,(0,Ye.default)({},$,{theme:b}),b.modularCssLayers?"theme":void 0)}),h($,F)}),c&&!p&&O.push($=>{var b;const E=gn((0,Ye.default)({},$,{defaultTheme:n,themeId:t})),F=E==null||(b=E.components)==null||(b=b[c])==null?void 0:b.variants;return mn({variants:F},(0,Ye.default)({},$,{theme:E}),E.modularCssLayers?"theme":void 0)}),k||O.push(s);const J=O.length-w.length;if(Array.isArray(T)&&J>0){const $=new Array(J).fill("");X=[...T,...$],X.raw=[...T.raw,...$]}const I=Y(X,...O);{let $;c&&($=`${c}${(0,Es.default)(f||"")}`),$===void 0&&($=`Styled(${(0,_s.default)(l)})`),I.displayName=$}return l.muiName&&(I.muiName=l.muiName),I};return Y.withConfig&&(Q.withConfig=Y.withConfig),Q}}function js(e,t){return se({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var ve={};const Fs=nt(bi);function Ls(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const zs=nt(Object.freeze(Object.defineProperty({__proto__:null,default:Ls},Symbol.toStringTag,{value:"Module"})));var mo=mr;Object.defineProperty(ve,"__esModule",{value:!0}),ve.alpha=vo,ve.blend=Xs,ve.colorChannel=void 0;var Bs=ve.darken=Un;ve.decomposeColor=Ge,ve.emphasize=Eo;var ho=ve.getContrastRatio=Us;ve.getLuminance=hn,ve.hexToRgb=yo,ve.hslToRgb=xo;var Ws=ve.lighten=Hn;ve.private_safeAlpha=Hs,ve.private_safeColorChannel=void 0,ve.private_safeDarken=qs,ve.private_safeEmphasize=Vs,ve.private_safeLighten=Ks,ve.recomposeColor=Et,ve.rgbToHex=Gs,mo(Fs);var Ds=mo(zs);function Gn(e,t=0,n=1){return(e<t||e>n)&&console.error(`MUI: The value provided ${e} is out of range [${t}, ${n}].`),(0,Ds.default)(e,t,n)}function yo(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ns(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Ge(e){if(e.type)return e;if(e.charAt(0)==="#")return Ge(yo(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(`MUI: Unsupported \`${e}\` color.
The following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().`);let r=e.substring(t+1,e.length-1),a;if(n==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a)===-1)throw new Error(`MUI: unsupported \`${a}\` color space.
The following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020.`)}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:a}}const bo=e=>{const t=Ge(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};ve.colorChannel=bo;const Ys=(e,t)=>{try{return bo(e)}catch{return t&&console.warn(t),e}};ve.private_safeColorChannel=Ys;function Et(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((a,s)=>s<3?parseInt(a,10):a):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Gs(e){if(e.indexOf("#")===0)return e;const{values:t}=Ge(e);return`#${t.map((n,r)=>Ns(r===3?Math.round(255*n):n)).join("")}`}function xo(e){e=Ge(e);const{values:t}=e,n=t[0],r=t[1]/100,a=t[2]/100,s=r*Math.min(a,1-a),l=(f,g=(f+n/30)%12)=>a-s*Math.max(Math.min(g-3,9-g,1),-1);let u="rgb";const c=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return e.type==="hsla"&&(u+="a",c.push(t[3])),Et({type:u,values:c})}function hn(e){e=Ge(e);let t=e.type==="hsl"||e.type==="hsla"?Ge(xo(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Us(e,t){const n=hn(e),r=hn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function vo(e,t){return e=Ge(e),t=Gn(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Et(e)}function Hs(e,t,n){try{return vo(e,t)}catch{return n&&console.warn(n),e}}function Un(e,t){if(e=Ge(e),t=Gn(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Et(e)}function qs(e,t,n){try{return Un(e,t)}catch{return n&&console.warn(n),e}}function Hn(e,t){if(e=Ge(e),t=Gn(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Et(e)}function Ks(e,t,n){try{return Hn(e,t)}catch{return n&&console.warn(n),e}}function Eo(e,t=.15){return hn(e)>.5?Un(e,t):Hn(e,t)}function Vs(e,t,n){try{return Eo(e,t)}catch{return n&&console.warn(n),e}}function Xs(e,t,n,r=1){const a=(c,f)=>Math.round((c**(1/r)*(1-n)+f**(1/r)*n)**r),s=Ge(e),l=Ge(t),u=[a(s.values[0],l.values[0]),a(s.values[1],l.values[1]),a(s.values[2],l.values[2])];return Et({type:"rgb",values:u})}const Nt={black:"#000",white:"#fff"},Js={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},_t={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},St={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Yt={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Ct={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Tt={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},wt={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Qs=["mode","contrastThreshold","tonalOffset"],_o={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Nt.white,default:Nt.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},qn={text:{primary:Nt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Nt.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function So(e,t,n,r){const a=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Ws(e.main,a):t==="dark"&&(e.dark=Bs(e.main,s)))}function Zs(e="light"){return e==="dark"?{main:Ct[200],light:Ct[50],dark:Ct[400]}:{main:Ct[700],light:Ct[400],dark:Ct[800]}}function Rs(e="light"){return e==="dark"?{main:_t[200],light:_t[50],dark:_t[400]}:{main:_t[500],light:_t[300],dark:_t[700]}}function el(e="light"){return e==="dark"?{main:St[500],light:St[300],dark:St[700]}:{main:St[700],light:St[400],dark:St[800]}}function tl(e="light"){return e==="dark"?{main:Tt[400],light:Tt[300],dark:Tt[700]}:{main:Tt[700],light:Tt[500],dark:Tt[900]}}function nl(e="light"){return e==="dark"?{main:wt[400],light:wt[300],dark:wt[700]}:{main:wt[800],light:wt[500],dark:wt[900]}}function rl(e="light"){return e==="dark"?{main:Yt[400],light:Yt[300],dark:Yt[700]}:{main:"#ed6c02",light:Yt[500],dark:Yt[900]}}function ol(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,a=rt(e,Qs),s=e.primary||Zs(t),l=e.secondary||Rs(t),u=e.error||el(t),c=e.info||tl(t),f=e.success||nl(t),g=e.warning||rl(t);function m(p){const k=ho(p,qn.text.primary)>=n?qn.text.primary:_o.text.primary;{const _=ho(p,k);_<3&&console.error([`MUI: The contrast ratio of ${_}:1 for ${k} on ${p}`,"falls below the WCAG recommended absolute minimum contrast ratio of 3:1.","https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast"].join(`
`))}return k}const h=({color:p,name:k,mainShade:_=500,lightShade:M=300,darkShade:Y=700})=>{if(p=se({},p),!p.main&&p[_]&&(p.main=p[_]),!p.hasOwnProperty("main"))throw new Error(`MUI: The color${k?` (${k})`:""} provided to augmentColor(color) is invalid.
The color object needs to have a \`main\` property or a \`${_}\` property.`);if(typeof p.main!="string")throw new Error(`MUI: The color${k?` (${k})`:""} provided to augmentColor(color) is invalid.
\`color.main\` should be a string, but \`${JSON.stringify(p.main)}\` was provided instead.

Did you intend to use one of the following approaches?

import { green } from "@mui/material/colors";

const theme1 = createTheme({ palette: {
  primary: green,
} });

const theme2 = createTheme({ palette: {
  primary: { main: green[500] },
} });`);return So(p,"light",M,r),So(p,"dark",Y,r),p.contrastText||(p.contrastText=m(p.main)),p},v={dark:qn,light:_o};return v[t]||console.error(`MUI: The palette mode \`${t}\` is not supported.`),pt(se({common:se({},Nt),mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:u,name:"error"}),warning:h({color:g,name:"warning"}),info:h({color:c,name:"info"}),success:h({color:f,name:"success"}),grey:Js,contrastThreshold:n,getContrastText:m,augmentColor:h,tonalOffset:r},v[t]),a)}const al=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function il(e){return Math.round(e*1e5)/1e5}const Co={textTransform:"uppercase"},To='"Roboto", "Helvetica", "Arial", sans-serif';function sl(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=To,fontSize:a=14,fontWeightLight:s=300,fontWeightRegular:l=400,fontWeightMedium:u=500,fontWeightBold:c=700,htmlFontSize:f=16,allVariants:g,pxToRem:m}=n,h=rt(n,al);typeof a!="number"&&console.error("MUI: `fontSize` is required to be a number."),typeof f!="number"&&console.error("MUI: `htmlFontSize` is required to be a number.");const v=a/14,S=m||(_=>`${_/f*v}rem`),p=(_,M,Y,j,Q)=>se({fontFamily:r,fontWeight:_,fontSize:S(M),lineHeight:Y},r===To?{letterSpacing:`${il(j/M)}em`}:{},Q,g),k={h1:p(s,96,1.167,-1.5),h2:p(s,60,1.2,-.5),h3:p(l,48,1.167,0),h4:p(l,34,1.235,.25),h5:p(l,24,1.334,0),h6:p(u,20,1.6,.15),subtitle1:p(l,16,1.75,.15),subtitle2:p(u,14,1.57,.1),body1:p(l,16,1.5,.15),body2:p(l,14,1.43,.15),button:p(u,14,1.75,.4,Co),caption:p(l,12,1.66,.4),overline:p(l,12,2.66,1,Co),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return pt(se({htmlFontSize:f,pxToRem:S,fontFamily:r,fontSize:a,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:u,fontWeightBold:c},k),h,{clone:!1})}const ll=.2,cl=.14,ul=.12;function pe(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${ll})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${cl})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${ul})`].join(",")}const dl=["none",pe(0,2,1,-1,0,1,1,0,0,1,3,0),pe(0,3,1,-2,0,2,2,0,0,1,5,0),pe(0,3,3,-2,0,3,4,0,0,1,8,0),pe(0,2,4,-1,0,4,5,0,0,1,10,0),pe(0,3,5,-1,0,5,8,0,0,1,14,0),pe(0,3,5,-1,0,6,10,0,0,1,18,0),pe(0,4,5,-2,0,7,10,1,0,2,16,1),pe(0,5,5,-3,0,8,10,1,0,3,14,2),pe(0,5,6,-3,0,9,12,1,0,3,16,2),pe(0,6,6,-3,0,10,14,1,0,4,18,3),pe(0,6,7,-4,0,11,15,1,0,4,20,3),pe(0,7,8,-4,0,12,17,2,0,5,22,4),pe(0,7,8,-4,0,13,19,2,0,5,24,4),pe(0,7,9,-4,0,14,21,2,0,5,26,4),pe(0,8,9,-5,0,15,22,2,0,6,28,5),pe(0,8,10,-5,0,16,24,2,0,6,30,5),pe(0,8,11,-5,0,17,26,2,0,6,32,5),pe(0,9,11,-5,0,18,28,2,0,7,34,6),pe(0,9,12,-6,0,19,29,2,0,7,36,6),pe(0,10,13,-6,0,20,31,3,0,8,38,7),pe(0,10,13,-6,0,21,33,3,0,8,40,7),pe(0,10,14,-6,0,22,35,3,0,8,42,7),pe(0,11,14,-7,0,23,36,3,0,9,44,8),pe(0,11,15,-7,0,24,38,3,0,9,46,8)],fl=["duration","easing","delay"],pl={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},gl={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function wo(e){return`${Math.round(e)}ms`}function ml(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function hl(e){const t=se({},pl,e.easing),n=se({},gl,e.duration);return se({getAutoHeightDuration:ml,create:(a=["all"],s={})=>{const{duration:l=n.standard,easing:u=t.easeInOut,delay:c=0}=s,f=rt(s,fl);{const g=h=>typeof h=="string",m=h=>!isNaN(parseFloat(h));!g(a)&&!Array.isArray(a)&&console.error('MUI: Argument "props" must be a string or Array.'),!m(l)&&!g(l)&&console.error(`MUI: Argument "duration" must be a number or a string but found ${l}.`),g(u)||console.error('MUI: Argument "easing" must be a string.'),!m(c)&&!g(c)&&console.error('MUI: Argument "delay" must be a number or a string.'),typeof s!="object"&&console.error(["MUI: Secong argument of transition.create must be an object.","Arguments should be either `create('prop1', options)` or `create(['prop1', 'prop2'], options)`"].join(`
`)),Object.keys(f).length!==0&&console.error(`MUI: Unrecognized argument(s) [${Object.keys(f).join(",")}].`)}return(Array.isArray(a)?a:[a]).map(g=>`${g} ${typeof l=="string"?l:wo(l)} ${u} ${typeof c=="string"?c:wo(c)}`).join(",")}},e,{easing:t,duration:n})}const yl={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},bl=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function xl(e={},...t){const{mixins:n={},palette:r={},transitions:a={},typography:s={}}=e,l=rt(e,bl);if(e.vars&&e.generateCssVars===void 0)throw new Error("MUI: `vars` is a private field used for CSS variables support.\nPlease use another name.");const u=ol(r),c=uo(e);let f=pt(c,{mixins:js(c.breakpoints,n),palette:u,shadows:dl.slice(),typography:sl(u,s),transitions:hl(a),zIndex:se({},yl)});f=pt(f,l),f=t.reduce((g,m)=>pt(g,m),f);{const g=["active","checked","completed","disabled","error","expanded","focused","focusVisible","required","selected"],m=(h,v)=>{let S;for(S in h){const p=h[S];if(g.indexOf(S)!==-1&&Object.keys(p).length>0){{const k=_n("",S);console.error([`MUI: The \`${v}\` component increases the CSS specificity of the \`${S}\` internal state.`,"You can not override it like this: ",JSON.stringify(h,null,2),"",`Instead, you need to use the '&.${k}' syntax:`,JSON.stringify({root:{[`&.${k}`]:p}},null,2),"","https://mui.com/r/state-classes-guide"].join(`
`))}h[S]={}}}};Object.keys(f.components).forEach(h=>{const v=f.components[h].styleOverrides;v&&h.indexOf("Mui")===0&&m(v,h)})}return f.unstable_sxConfig=se({},Dt,l==null?void 0:l.unstable_sxConfig),f.unstable_sx=function(m){return dn({sx:m,theme:this})},f}const vl=xl(),El="$$material";function _l(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Sl=xs({themeId:El,defaultTheme:vl,rootShouldForwardProp:e=>_l(e)&&e!=="classes"});function Cl(e){return _n("MuiSvgIcon",e)}aa("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Tl=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],wl=e=>{const{color:t,fontSize:n,classes:r}=e,a={root:["root",t!=="inherit"&&`color${Ut(t)}`,`fontSize${Ut(n)}`]};return na(a,Cl,r)},Ol=Sl("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Ut(n.color)}`],t[`fontSize${Ut(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,a,s,l,u,c,f,g,m,h,v,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(a=e.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(l=s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem",medium:((u=e.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,24))||"1.5rem",large:((f=e.typography)==null||(g=f.pxToRem)==null?void 0:g.call(f,35))||"2.1875rem"}[t.fontSize],color:(m=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?m:{action:(v=(e.vars||e).palette)==null||(v=v.action)==null?void 0:v.active,disabled:(S=(e.vars||e).palette)==null||(S=S.action)==null?void 0:S.disabled,inherit:void 0}[t.color]}}),yn=ie.forwardRef(function(t,n){const r=ua({props:t,name:"MuiSvgIcon"}),{children:a,className:s,color:l="inherit",component:u="svg",fontSize:c="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:m,viewBox:h="0 0 24 24"}=r,v=rt(r,Tl),S=ie.isValidElement(a)&&a.type==="svg",p=se({},r,{color:l,component:u,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:h,hasSvgAsChild:S}),k={};g||(k.viewBox=h);const _=wl(p);return me.jsxs(Ol,se({as:u,className:ia(_.root,s),focusable:"false",color:f,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:n},k,v,S&&a.props,{ownerState:p,children:[S?a.props.children:a,m?me.jsx("title",{children:m}):null]}))});yn.propTypes={children:V.node,classes:V.object,className:V.string,color:V.oneOfType([V.oneOf(["inherit","action","disabled","primary","secondary","error","info","success","warning"]),V.string]),component:V.elementType,fontSize:V.oneOfType([V.oneOf(["inherit","large","medium","small"]),V.string]),htmlColor:V.string,inheritViewBox:V.bool,shapeRendering:V.string,sx:V.oneOfType([V.arrayOf(V.oneOfType([V.func,V.object,V.bool])),V.func,V.object]),titleAccess:V.string,viewBox:V.string},yn.muiName="SvgIcon";function ke(e,t){function n(r,a){return me.jsx(yn,se({"data-testid":`${t}Icon`,ref:a},r,{children:e}))}return n.displayName=`${t}Icon`,n.muiName=yn.muiName,ie.memo(ie.forwardRef(n))}const Oo=ke(me.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),Il=ke(me.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Pl=ke(me.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),lt=ke(me.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),ct=ke(me.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),kl=ke(me.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"}),"CloudDownload"),Kn=ke(me.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),Ml=ke(me.jsx("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z"}),"Explore"),$l=ke(me.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M8 20H4v-4h4zm0-6H4v-4h4zm0-6H4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4z"}),"GridOn"),Al=ke(me.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),Vn=ke(me.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),Xn=ke(me.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"}),"Map"),Jn=ke(me.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),jl=ke(me.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Io=ke(me.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),Qn=ke(me.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),bn=ke(me.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),Fl=(e,t,n)=>{const a=(()=>{if(Object.keys(e).length===0)return t;const[g,m,h,v]=t,S=Math.sqrt(Object.keys(e).length),p=(h-g)/S,k=(v-m)/S;let _=h,M=g,Y=v,j=m;Object.entries(e).forEach(([T,w])=>{if(w>0){const[X,O]=T.split("_").map(Number),J=g+O*p,I=J+p,$=m+X*k,b=$+k;_=Math.min(_,J),M=Math.max(M,I),Y=Math.min(Y,$),j=Math.max(j,b)}});const Q=.001;return[Math.max(g,_-Q),Math.max(m,Y-Q),Math.min(h,M+Q),Math.min(v,j+Q)]})(),s=Object.values(e).reduce((g,m)=>g+m,0),l={id:"root",bbox:a,sampleCount:s,depth:0,maxDepth:n.maxDepth,minSize:n.minSize},u=g=>{const[m,h,v,S]=g.bbox,p=v-m,k=S-h;if(g.depth<n.maxDepth&&g.sampleCount>n.threshold&&p>n.minSize&&k>n.minSize){const M=(m+v)/2,Y=(h+S)/2,j=[{id:`${g.id}_NW`,bbox:[m,Y,M,S]},{id:`${g.id}_NE`,bbox:[M,Y,v,S]},{id:`${g.id}_SW`,bbox:[m,h,M,Y]},{id:`${g.id}_SE`,bbox:[M,h,v,Y]}];g.children=j.map(Q=>{let T=0;const[w,X,O,J]=Q.bbox;return Object.entries(e).forEach(([I,$])=>{if($>0){const[b,E]=I.split("_").map(Number),[F,z,B,L]=t,N=Math.sqrt(Object.keys(e).length),D=(B-F)/N,G=(L-z)/N,q=F+E*D,H=q+D,te=z+b*G,re=te+G;H>w&&q<O&&re>X&&te<J&&(T+=$)}}),u({id:Q.id,bbox:Q.bbox,sampleCount:T,depth:g.depth+1,maxDepth:n.maxDepth,minSize:n.minSize})})}return g},c=u(l),f=g=>g.children&&g.children.length>0?g.children.flatMap(f):[g];return f(c)};function Ll({sampleDistribution:e,bbox:t,onQuadtreeCellsChange:n}){const r=i.useTheme(),[a,s]=o.useState({maxDepth:4,minSize:.01,threshold:50,maxSamplesPerCell:100}),[l,u]=o.useState([]),[c,f]=o.useState(!1),g=o.useCallback(()=>{if(!t)return;const v=Fl(e,t,a);u(v),n(v),f(!0)},[e,t,a,n]),m=Object.values(e).reduce((v,S)=>v+S,0),h=l.length*.5+m*.001;return o.createElement(i.Paper,{elevation:1,sx:{p:3,mb:3,background:i.alpha(r.palette.info.main,.05),border:`1px solid ${i.alpha(r.palette.info.main,.2)}`,borderRadius:2}},o.createElement(i.Box,{sx:{display:"flex",alignItems:"center",mb:2}},o.createElement(Oo,{sx:{mr:1,color:r.palette.info.main}}),o.createElement(i.Typography,{variant:"h6",sx:{fontWeight:600,color:r.palette.text.primary}},"Adaptive Quadtree Grid")),o.createElement(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},"Automatically split cells based on sample density for optimal OSM data retrieval. Dense areas get finer resolution, sparse areas stay coarse."),o.createElement(i.Grid,{container:!0,spacing:3,sx:{mb:3}},o.createElement(i.Grid,{item:!0,xs:12,sm:6,md:3},o.createElement(i.FormControl,{fullWidth:!0,size:"small"},o.createElement(i.InputLabel,null,"Max Depth"),o.createElement(i.Select,{value:a.maxDepth,onChange:v=>s(S=>({...S,maxDepth:v.target.value})),label:"Max Depth"},o.createElement(i.MenuItem,{value:2},"2 levels (4 cells)"),o.createElement(i.MenuItem,{value:3},"3 levels (16 cells)"),o.createElement(i.MenuItem,{value:4},"4 levels (64 cells)"),o.createElement(i.MenuItem,{value:5},"5 levels (256 cells)"),o.createElement(i.MenuItem,{value:6},"6 levels (1,024 cells)")))),o.createElement(i.Grid,{item:!0,xs:12,sm:6,md:3},o.createElement(i.FormControl,{fullWidth:!0,size:"small"},o.createElement(i.InputLabel,null,"Split Threshold"),o.createElement(i.Select,{value:a.threshold,onChange:v=>s(S=>({...S,threshold:v.target.value})),label:"Split Threshold"},o.createElement(i.MenuItem,{value:10},"10 samples"),o.createElement(i.MenuItem,{value:25},"25 samples"),o.createElement(i.MenuItem,{value:50},"50 samples"),o.createElement(i.MenuItem,{value:100},"100 samples"),o.createElement(i.MenuItem,{value:200},"200 samples")))),o.createElement(i.Grid,{item:!0,xs:12,sm:6,md:3},o.createElement(i.FormControl,{fullWidth:!0,size:"small"},o.createElement(i.InputLabel,null,"Min Cell Size"),o.createElement(i.Select,{value:a.minSize,onChange:v=>s(S=>({...S,minSize:v.target.value})),label:"Min Cell Size"},o.createElement(i.MenuItem,{value:.001},"~100m"),o.createElement(i.MenuItem,{value:.005},"~500m"),o.createElement(i.MenuItem,{value:.01},"~1km"),o.createElement(i.MenuItem,{value:.05},"~5km"),o.createElement(i.MenuItem,{value:.1},"~10km")))),o.createElement(i.Grid,{item:!0,xs:12,sm:6,md:3},o.createElement(i.Button,{onClick:g,disabled:!t||Object.keys(e).length===0,variant:"contained",startIcon:o.createElement($l,null),sx:{height:40}},"Generate Quadtree"))),c&&l.length>0&&o.createElement(i.Box,null,o.createElement(i.Alert,{severity:"success",sx:{mb:2}},o.createElement(i.AlertTitle,null,"Quadtree Generated"),"Created ",l.length," adaptive cells with estimated"," ",h.toFixed(1),"s processing time.",l.length<50&&" This is much more efficient than a fixed grid!"),o.createElement(i.Box,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2}},l.slice(0,20).map((v,S)=>o.createElement(i.Chip,{key:v.id,label:`${v.sampleCount} samples`,size:"small",color:v.sampleCount>a.threshold?"warning":"default",variant:v.sampleCount>a.threshold?"filled":"outlined"})),l.length>20&&o.createElement(i.Chip,{label:`+${l.length-20} more`,size:"small",variant:"outlined"})),o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},o.createElement("strong",null,"Distribution:")," ",l.filter(v=>v.sampleCount>0).length," active cells,",l.filter(v=>v.sampleCount>a.threshold).length," ","dense cells that were split, average"," ",(m/l.length).toFixed(1)," samples per cell.")))}function zl({stepData:e,setStepData:t,loading:n,sampleDistributionLoading:r,realSampleDistribution:a,quadtreeCells:s,hasExistingIndex:l,existingIndexData:u,onAutoBbox:c,onCalculateSampleDistribution:f,onStartIndexing:g,onPauseIndexing:m,onRetryIndexing:h,onCancelIndexing:v,onDropIndex:S,onQuadtreeCellsChange:p,geoFields:k}){var M,Y,j,Q;const _=i.useTheme();return o.createElement(i.Box,null,o.createElement(i.Typography,{variant:"h6",sx:{mb:3,fontWeight:600,color:_.palette.text.primary,display:"flex",alignItems:"center",gap:1}},o.createElement(Qn,{color:"primary"}),"Step 1: Index Configuration"),o.createElement(i.Typography,{variant:"body2",sx:{mb:3,color:_.palette.text.secondary,lineHeight:1.6}},"Configure the prerequisites for indexing: select the geographic field, set bounding box boundaries, and calculate sample distribution. This step is required before you can start indexing."),o.createElement(i.Paper,{elevation:1,sx:{p:3,mb:3,background:i.alpha(_.palette.primary.main,.02),border:`1px solid ${i.alpha(_.palette.primary.main,.1)}`,borderRadius:2}},o.createElement(i.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:_.palette.text.primary}},"Geographic Field Selection"),o.createElement(i.FormControl,{fullWidth:!0,size:"medium",sx:{mb:3}},o.createElement(i.InputLabel,null,"Select Geographic Field"),o.createElement(i.Select,{value:e.mapping.geoField,onChange:T=>t(w=>({...w,mapping:{...w.mapping,geoField:T.target.value}})),label:"Select Geographic Field"},o.createElement(i.MenuItem,{value:""},"Choose a field containing geographic data..."),k==null?void 0:k.map(T=>o.createElement(i.MenuItem,{key:T,value:T},T)))),o.createElement(i.Button,{onClick:c,disabled:n||!e.mapping.geoField,startIcon:o.createElement(Ml,null),variant:"contained",size:"large",sx:{mb:3,px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},"Auto-Detect Geographic Boundaries")),o.createElement(i.Paper,{elevation:1,sx:{p:3,mb:3,background:`linear-gradient(135deg, ${i.alpha(_.palette.primary.main,.03)} 0%, ${i.alpha(_.palette.secondary.main,.02)} 100%)`,border:`1px solid ${i.alpha(_.palette.primary.main,.15)}`,borderRadius:2}},o.createElement(i.Box,{sx:{display:"flex",alignItems:"center",mb:3}},o.createElement(i.Typography,{variant:"h6",sx:{fontWeight:600,color:_.palette.text.primary}},"Geographic Boundaries"),e.index.bbox&&e.index.bbox.every(T=>T!==0)&&o.createElement(lt,{sx:{ml:1,color:_.palette.success.main,fontSize:20}})),o.createElement(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},"Define the geographic area for OSM data indexing. You can auto-detect from your dataset or manually specify coordinates."),o.createElement(i.Grid,{container:!0,spacing:3},o.createElement(i.Grid,{item:!0,xs:12,sm:6},o.createElement(i.Typography,{variant:"subtitle2",sx:{mb:2,fontWeight:600,color:_.palette.text.primary}},"Southwest Corner (Min)"),o.createElement(i.Stack,{spacing:2},o.createElement(i.TextField,{fullWidth:!0,size:"medium",label:"Longitude",type:"number",value:((M=e.index.bbox)==null?void 0:M[0])||"",onChange:T=>{const w=parseFloat(T.target.value);if(!isNaN(w)){const X=[...e.index.bbox||[0,0,0,0]];X[0]=w,t(O=>({...O,index:{...O.index,bbox:X}}))}},inputProps:{step:1e-6,placeholder:"e.g., -74.432085"},sx:{"& .MuiInputBase-input":{fontFamily:"monospace",fontSize:"0.9rem"}}}),o.createElement(i.TextField,{fullWidth:!0,size:"medium",label:"Latitude",type:"number",value:((Y=e.index.bbox)==null?void 0:Y[1])||"",onChange:T=>{const w=parseFloat(T.target.value);if(!isNaN(w)){const X=[...e.index.bbox||[0,0,0,0]];X[1]=w,t(O=>({...O,index:{...O.index,bbox:X}}))}},inputProps:{step:1e-6,placeholder:"e.g., 40.542997"},sx:{"& .MuiInputBase-input":{fontFamily:"monospace",fontSize:"0.9rem"}}}))),o.createElement(i.Grid,{item:!0,xs:12,sm:6},o.createElement(i.Typography,{variant:"subtitle2",sx:{mb:2,fontWeight:600,color:_.palette.text.primary}},"Northeast Corner (Max)"),o.createElement(i.Stack,{spacing:2},o.createElement(i.TextField,{fullWidth:!0,size:"medium",label:"Longitude",type:"number",value:((j=e.index.bbox)==null?void 0:j[2])||"",onChange:T=>{const w=parseFloat(T.target.value);if(!isNaN(w)){const X=[...e.index.bbox||[0,0,0,0]];X[2]=w,t(O=>({...O,index:{...O.index,bbox:X}}))}},inputProps:{step:1e-6,placeholder:"e.g., -73.418955"},sx:{"& .MuiInputBase-input":{fontFamily:"monospace",fontSize:"0.9rem"}}}),o.createElement(i.TextField,{fullWidth:!0,size:"medium",label:"Latitude",type:"number",value:((Q=e.index.bbox)==null?void 0:Q[3])||"",onChange:T=>{const w=parseFloat(T.target.value);if(!isNaN(w)){const X=[...e.index.bbox||[0,0,0,0]];X[3]=w,t(O=>({...O,index:{...O.index,bbox:X}}))}},inputProps:{step:1e-6,placeholder:"e.g., 41.041774"},sx:{"& .MuiInputBase-input":{fontFamily:"monospace",fontSize:"0.9rem"}}}))))),o.createElement(i.Paper,{elevation:1,sx:{p:3,mb:3,background:i.alpha(_.palette.info.main,.02),border:`1px solid ${i.alpha(_.palette.info.main,.1)}`,borderRadius:2}},o.createElement(i.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:_.palette.text.primary}},"Indexing Configuration"),o.createElement(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},"Configure the indexing process. Currently only immediate execution is supported for simplified testing and development."),o.createElement(i.Box,{sx:{mt:3,p:2,bgcolor:i.alpha(_.palette.info.main,.05),borderRadius:1}},o.createElement(i.Typography,{variant:"body2",sx:{display:"flex",alignItems:"center",gap:1}},o.createElement("span",null,"ℹ️"),o.createElement("strong",null,"Immediate Execution:")," Indexing runs synchronously and completes immediately. Perfect for testing and small datasets."))),a&&Object.keys(a).length>0&&e.index.bbox&&o.createElement(Ll,{sampleDistribution:a,bbox:e.index.bbox,onQuadtreeCellsChange:p}),e.index.bbox&&e.mapping.geoField&&o.createElement(i.Paper,{elevation:1,sx:{p:3,mb:3,background:i.alpha(_.palette.success.main,.02),border:`1px solid ${i.alpha(_.palette.success.main,.1)}`,borderRadius:2}},o.createElement(i.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:_.palette.text.primary}},"Sample Distribution Analysis (Optional)"),o.createElement(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},"Calculate the real sample distribution across your grid to see which geographic regions contain your dataset samples. This step is optional - you can start indexing directly without calculating the distribution."),o.createElement(i.Box,{sx:{mb:3}},o.createElement(i.Typography,{variant:"subtitle2",sx:{mb:2,fontWeight:600,color:_.palette.text.primary}},"Grid Resolution"),o.createElement(i.FormControl,{fullWidth:!0,size:"medium"},o.createElement(i.InputLabel,null,"Grid Size"),o.createElement(i.Select,{value:e.index.gridTiles,onChange:T=>{const w=T.target.value;t(X=>({...X,index:{...X.index,gridTiles:w}}))},label:"Grid Size"},o.createElement(i.MenuItem,{value:3},"3x3 (9 cells)"),o.createElement(i.MenuItem,{value:9},"9x9 (81 cells)"),o.createElement(i.MenuItem,{value:10},"10x10 (100 cells)"),o.createElement(i.MenuItem,{value:16},"16x16 (256 cells)"),o.createElement(i.MenuItem,{value:25},"25x25 (625 cells)"),o.createElement(i.MenuItem,{value:50},"50x50 (2,500 cells)"),o.createElement(i.MenuItem,{value:100},"100x100 (10,000 cells)"))),o.createElement(i.Typography,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"}},"Higher resolution = smaller geographic regions per cell, more precise indexing")),o.createElement(i.Stack,{direction:"row",spacing:2},o.createElement(i.Button,{onClick:f,disabled:r||!e.index.bbox||!e.mapping.geoField,startIcon:r?o.createElement(i.CircularProgress,{size:20}):o.createElement(Oo,null),variant:"contained",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600,bgcolor:_.palette.success.main,"&:hover":{bgcolor:_.palette.success.dark}}},r?"Calculating Sample Distribution...":"Calculate Sample Distribution"),e.index.gridCells.length>0&&o.createElement(i.Button,{onClick:()=>{t(T=>({...T,index:{...T.index,gridCells:[]}}))},startIcon:o.createElement(ct,null),variant:"outlined",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600,borderColor:_.palette.warning.main,color:_.palette.warning.main,"&:hover":{borderColor:_.palette.warning.dark,color:_.palette.warning.dark}}},"Clear Distribution")),e.index.gridCells.length>0&&o.createElement(i.Box,{sx:{mt:3,p:2,bgcolor:i.alpha(_.palette.success.main,.05),borderRadius:1}},o.createElement(i.Typography,{variant:"body2",sx:{display:"flex",alignItems:"center",gap:1}},o.createElement("span",{style:{color:_.palette.success.main}},"✅"),o.createElement("strong",null,"Sample distribution calculated!")," The grid now shows real sample counts for each geographic region."))),e.index.bbox?o.createElement(o.Fragment,null,o.createElement(i.Paper,{elevation:1,sx:{p:4,textAlign:"center",background:i.alpha(_.palette.info.main,.05),border:`1px solid ${i.alpha(_.palette.info.main,.2)}`,borderRadius:2}},o.createElement("span",{style:{fontSize:48,marginBottom:16,display:"block"}},"📊"),o.createElement(i.Typography,{variant:"h6",sx:{mb:2,fontWeight:600}},"Grid Visualization"),o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},"The grid visualization and indexing controls are now available in the Indexing step. Proceed to the next step to see the grid and start indexing.")),o.createElement(i.Paper,{elevation:1,sx:{p:4,textAlign:"center",background:i.alpha(_.palette.warning.main,.05),border:`1px solid ${i.alpha(_.palette.warning.main,.2)}`,borderRadius:2}},o.createElement("span",{style:{fontSize:48,marginBottom:16,display:"block"}},"⚙️"),o.createElement(i.Typography,{variant:"h6",sx:{mb:2,fontWeight:600}},"Indexing Controls"),o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},"The indexing controls are now available in the Indexing step. Proceed to the next step to start, pause, or manage your indexing operation."))):o.createElement(i.Paper,{elevation:1,sx:{p:4,textAlign:"center",background:i.alpha(_.palette.grey[100],.5),border:`2px dashed ${_.palette.grey[300]}`}},o.createElement(Vn,{sx:{fontSize:48,color:_.palette.grey[400],mb:2}}),o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},"Please set geographic boundaries to continue")))}function Bl({bbox:e,onCellStatusChange:t,realSampleCounts:n,isLoading:r=!1,quadtreeCells:a=[],useQuadtree:s=!1,indexingStatus:l,gridCells:u=[]}){const c=i.useTheme(),[f,g]=o.useState([]),m=Ze.useRecoilValue(st),h=o.useCallback(()=>!e||!a.length?[]:a.map((I,$)=>({id:I.id,status:I.sampleCount===0?"empty":"idle",progress:0,coordinates:I.bbox,sample_count:I.sampleCount,depth:I.depth||0})),[e,a]),v=o.useCallback(()=>{if(console.log("generateFixedGridCells called"),console.log("bbox:",e),console.log("realSampleCounts:",n),console.log("isLoading:",r),!e)return[];const[I,$,b,E]=e,F=()=>{if(!n||Object.keys(n).length===0)return{dataMinLon:I,dataMaxLon:b,dataMinLat:$,dataMaxLat:E,gridSize:16};const te=Math.sqrt(Object.keys(n).length),re=(b-I)/te,be=(E-$)/te;let Me=b,K=I,$e=E,Ce=$;Object.entries(n).forEach(([x,we])=>{if(we>0){const[Oe,Ie]=x.split("_").map(Number),We=I+Ie*re,Ue=We+re,He=$+Oe*be,Qe=He+be;Me=Math.min(Me,We),K=Math.max(K,Ue),$e=Math.min($e,He),Ce=Math.max(Ce,Qe)}});const Te=.001;return{dataMinLon:Math.max(I,Me-Te),dataMaxLon:Math.min(b,K+Te),dataMinLat:Math.max($,$e-Te),dataMaxLat:Math.min(E,Ce+Te),gridSize:Math.max(8,Math.min(50,te))}},{dataMinLon:z,dataMaxLon:B,dataMinLat:L,dataMaxLat:N,gridSize:D}=F(),G=[],q=(B-z)/D,H=(N-L)/D;for(let te=0;te<D;te++)for(let re=0;re<D;re++){const be=`${te}_${re}`,Me=z+re*q,K=Me+q,$e=L+te*H,Ce=$e+H;let Te,x;if(r)x="unknown",Te=-1;else if(n&&Object.keys(n).length>0){const we=Math.sqrt(Object.keys(n).length),Oe=(b-I)/we,Ie=(E-$)/we;let We=0;for(let Ue=0;Ue<we;Ue++)for(let He=0;He<we;He++){const Qe=`${Ue}_${He}`,it=I+He*Oe,ut=it+Oe,et=$+Ue*Ie,P=et+Ie;ut>Me&&it<K&&P>$e&&et<Ce&&(We+=n[Qe]||0)}Te=We,x=Te===0?"empty":"idle",console.log(`Cell ${be}: sample_count=${Te}, status=${x}`)}else x="unknown",Te=-1;G.push({id:be,status:x,progress:0,coordinates:[Me,$e,K,Ce],sample_count:Te})}return G},[e,n,r]);o.useEffect(()=>{if(console.log("useEffect triggered - regenerating cells"),console.log("realSampleCounts:",n),console.log("isLoading:",r),console.log("useQuadtree:",s),console.log("quadtreeCells:",a),console.log("gridCells from backend:",u),console.log("indexingStatus:",l),console.log("Recoil indexingState:",m),m.cells&&Object.keys(m.cells).length>0){console.log("Using Recoil state cells for real-time updates");const I=Object.values(m.cells).map($=>({id:$.id,status:$.status,progress:$.progress,error:$.error||void 0,coordinates:[0,0,0,0],sample_count:0}));if(u&&u.length>0){const $=I.map(b=>{const E=u.find(F=>F.id===b.id);return{...b,coordinates:(E==null?void 0:E.coordinates)||[0,0,0,0],sample_count:(E==null?void 0:E.sample_count)||0}});g($)}else g(I)}else u&&u.length>0?(console.log("Using gridCells from backend"),g(u)):s&&a.length>0?g(h()):g(v())},[v,h,n,r,s,a,u,l,m.cells]);const S=I=>{switch(I){case"idle":return i.alpha(c.palette.primary.main,.3);case"running":return i.alpha(c.palette.warning.main,.6);case"success":case"completed":return i.alpha(c.palette.success.main,.4);case"failed":return i.alpha(c.palette.error.main,.4);case"rate_limited":return i.alpha(c.palette.warning.main,.4);case"empty":return i.alpha(c.palette.grey[600],.3);case"unknown":return i.alpha(c.palette.info.main,.3);default:return i.alpha(c.palette.grey[400],.2)}},p=I=>{const $=s?14:12;switch(I){case"idle":return o.createElement(Jn,{sx:{fontSize:$}});case"running":return o.createElement(i.CircularProgress,{size:$});case"success":case"completed":return o.createElement(lt,{sx:{fontSize:$}});case"failed":return o.createElement(Kn,{sx:{fontSize:$}});case"rate_limited":return o.createElement(Kn,{sx:{fontSize:$,color:c.palette.warning.main}});case"empty":return null;case"unknown":return o.createElement(i.CircularProgress,{size:$});default:return null}},k=I=>{switch(I){case"idle":return"Ready";case"running":return"Processing...";case"success":case"completed":return"Completed";case"failed":return"Failed";case"rate_limited":return"Rate Limited";case"empty":return"No samples";case"unknown":return"Calculating...";default:return"Unknown"}},_=(I,$)=>{$==="failed"&&t&&t(I,"idle")};if(!e)return o.createElement(i.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:200,border:`2px dashed ${c.palette.divider}`,borderRadius:2}},o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},"Define geographic boundaries to view the indexing grid"));const M=()=>{if(!a.length)return{cols:0,rows:0};const I=a.length,$=Math.ceil(Math.sqrt(I)),b=Math.ceil(I/$);return{cols:$,rows:b}},Y=()=>{if(!e||!n||Object.keys(n).length===0)return{cols:16,rows:16};const I=Math.sqrt(Object.keys(n).length),$=Math.max(8,Math.min(50,I));return{cols:$,rows:$}},{cols:j,rows:Q}=s?M():Y(),w=(()=>{if(!m||m.status!=="running"||!u||u.length===0)return{progress:0,completed:0,total:0,features:0,processed:0,failed:0,rateLimited:0};const I=u.length,$=u.filter(L=>L.status==="completed").length,b=u.filter(L=>L.status==="failed").length,E=u.filter(L=>L.status==="rate_limited").length,F=$+b+E,z=I>0?F/I*100:0,B=u.filter(L=>L.status==="completed").reduce((L,N)=>L+(N.osm_feature_count||0),0);return{progress:z,completed:$,total:I,features:B,processed:F,failed:b,rateLimited:E}})(),X=(m==null?void 0:m.status)==="running",J=(()=>{if(!X||!w.processed||w.processed===0)return null;const I=Date.now()-new Date(m.started_at||Date.now()).getTime(),$=w.processed/(I/1e3),b=w.total-w.processed,E=$>0?b/$:0;return E<60?`${Math.ceil(E)}s`:E<3600?`${Math.ceil(E/60)}m`:`${Math.ceil(E/3600)}h ${Math.ceil(E%3600/60)}m`})();return o.createElement(i.Box,null,X&&o.createElement(i.Box,{sx:{mb:3,p:3,bgcolor:i.alpha(c.palette.primary.main,.05),borderRadius:2,border:`1px solid ${i.alpha(c.palette.primary.main,.1)}`}},o.createElement(i.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2}},o.createElement(i.Typography,{variant:"h6",sx:{fontWeight:600,color:c.palette.primary.main}},"Indexing Progress"),o.createElement(i.Box,{sx:{display:"flex",gap:2,alignItems:"center"}},o.createElement(i.Chip,{label:`${w.completed} completed`,size:"small",color:"success",variant:"outlined"}),o.createElement(i.Chip,{label:`${w.failed} failed`,size:"small",color:"error",variant:"outlined"}),o.createElement(i.Chip,{label:`${w.rateLimited} rate limited`,size:"small",color:"warning",variant:"outlined"}),J&&o.createElement(i.Chip,{label:`~${J} remaining`,size:"small",color:"info",variant:"outlined"}))),o.createElement(i.Box,{sx:{mb:2}},o.createElement(i.Box,{sx:{display:"flex",justifyContent:"space-between",mb:1}},o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},"Processing cells..."),o.createElement(i.Typography,{variant:"body2",color:"text.secondary",sx:{fontWeight:600}},w.processed,"/",w.total," (",w.progress.toFixed(1),"%)")),o.createElement(i.LinearProgress,{variant:"determinate",value:w.progress,sx:{height:8,borderRadius:4,bgcolor:i.alpha(c.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:4}}})),w.features>0&&o.createElement(i.Typography,{variant:"body2",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:1}},o.createElement(lt,{fontSize:"small",color:"success"}),o.createElement("strong",null,w.features.toLocaleString())," OSM features found so far")),o.createElement(i.Box,{sx:{mb:2,display:"flex",alignItems:"center",gap:2}},o.createElement(i.Typography,{variant:"h6",sx:{fontWeight:600}},"Geo Index Status"),o.createElement(i.Chip,{label:`${f.length} cells`,size:"small",color:"primary",variant:"outlined"}),s&&o.createElement(i.Chip,{label:`${f.filter(I=>I.sample_count>0).length} active`,size:"small",color:"success",variant:"outlined"}),w.features>0&&o.createElement(i.Chip,{label:`${w.features.toLocaleString()} features`,size:"small",color:"success",variant:"outlined"})),o.createElement(i.Box,{sx:{display:"grid",gridTemplateColumns:`repeat(${j}, 1fr)`,gap:1,height:"60vh",maxHeight:"500px",minHeight:"200px",overflow:"hidden",p:1,border:`1px solid ${c.palette.divider}`,borderRadius:1,background:c.palette.background.paper,"& > *":{minWidth:0,minHeight:0}}},f.map(I=>o.createElement(i.Tooltip,{key:I.id,title:o.createElement(i.Box,null,o.createElement(i.Typography,{variant:"caption",display:"block"},o.createElement("strong",null,"Cell:")," ",I.id),o.createElement(i.Typography,{variant:"caption",display:"block"},o.createElement("strong",null,"Samples:")," ",I.sample_count===-1?"Calculating...":I.sample_count),o.createElement(i.Typography,{variant:"caption",display:"block"},o.createElement("strong",null,"Status:")," ",k(I.status)),s&&I.depth!==void 0&&o.createElement(i.Typography,{variant:"caption",display:"block"},o.createElement("strong",null,"Depth:")," ",I.depth),o.createElement(i.Typography,{variant:"caption",display:"block"},o.createElement("strong",null,"Bounds:")," [",I.coordinates[0].toFixed(4),","," ",I.coordinates[1].toFixed(4),"] to [",I.coordinates[2].toFixed(4),","," ",I.coordinates[3].toFixed(4),"]")),arrow:!0},o.createElement(i.Box,{onClick:()=>_(I.id,I.status),sx:{aspectRatio:"1",backgroundColor:S(I.status),border:`1px solid ${i.alpha(c.palette.divider,.3)}`,borderRadius:.5,display:"flex",alignItems:"center",justifyContent:"center",cursor:I.status==="failed"?"pointer":"default",position:"relative",width:"100%",height:"100%",fontSize:"0.7rem","&:hover":{backgroundColor:i.alpha(S(I.status),.8),transform:I.status==="failed"?"scale(1.05)":"none",transition:"all 0.2s ease-in-out"}}},I.sample_count>0?o.createElement(i.Typography,{variant:"caption",sx:{fontSize:"0.7rem",fontWeight:600,color:c.palette.text.primary,textAlign:"center",lineHeight:1,textShadow:"0 0 2px white"}},I.sample_count):p(I.status),I.status==="completed"&&I.osm_features&&I.osm_features>0&&o.createElement(i.Typography,{variant:"caption",sx:{position:"absolute",bottom:1,right:1,fontSize:"0.5rem",fontWeight:600,color:c.palette.success.main,textShadow:"0 0 2px white",lineHeight:1}},I.osm_features," OSM"))))),o.createElement(i.Box,{sx:{mt:2,display:"flex",gap:1,flexWrap:"wrap"}},o.createElement(i.Chip,{icon:o.createElement(Jn,null),label:"Ready",size:"small",sx:{backgroundColor:i.alpha(c.palette.primary.main,.3)}}),o.createElement(i.Chip,{icon:o.createElement(i.CircularProgress,{size:16}),label:"Processing",size:"small",sx:{backgroundColor:i.alpha(c.palette.warning.main,.6)}}),o.createElement(i.Chip,{icon:o.createElement(lt,null),label:"Completed",size:"small",sx:{backgroundColor:i.alpha(c.palette.success.main,.4)}}),o.createElement(i.Chip,{icon:o.createElement(Kn,null),label:"Failed",size:"small",sx:{backgroundColor:i.alpha(c.palette.error.main,.4)}}),o.createElement(i.Chip,{label:"Empty",size:"small",sx:{backgroundColor:i.alpha(c.palette.grey[600],.3)}})))}function Wl({stepData:e,onStartIndexing:t,onPauseIndexing:n,onRetryIndexing:r,onCancelIndexing:a,onDropIndex:s,hasExistingIndex:l,existingIndexData:u,loading:c}){const f=i.useTheme();return o.createElement(i.Box,null,o.createElement(i.Typography,{variant:"h6",sx:{mb:3,fontWeight:600,color:f.palette.text.primary,display:"flex",alignItems:"center",gap:1}},o.createElement(Vn,{color:"primary"}),"Step 2: Indexing"),o.createElement(i.Typography,{variant:"body2",sx:{mb:3,color:f.palette.text.secondary,lineHeight:1.6}},"Run the indexing operation to download OpenStreetMap data for each geographic region. This step requires the configuration from Step 1."),e.index.bbox?o.createElement(o.Fragment,null,o.createElement(Bl,{bbox:e.index.bbox,isLoading:!1,realSampleCounts:e.index.realSampleDistribution||{},onCellStatusChange:(g,m)=>{console.log(`Cell ${g} status changed to ${m}`)},quadtreeCells:e.index.quadtreeCells||[],useQuadtree:(e.index.quadtreeCells||[]).length>0,indexingStatus:e.index.indexingStatus,gridCells:e.index.gridCells||[]}),o.createElement(i.Paper,{elevation:1,sx:{p:3,mt:3,background:i.alpha(f.palette.warning.main,.02),border:`1px solid ${i.alpha(f.palette.warning.main,.1)}`,borderRadius:2}},o.createElement(i.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:f.palette.text.primary}},"Indexing Controls"),o.createElement(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},"Control the indexing process. Start indexing to begin downloading OSM data for each geographic region."),l&&o.createElement(i.Box,{sx:{mb:3,p:2,bgcolor:i.alpha(f.palette.info.main,.05),borderRadius:1,border:`1px solid ${i.alpha(f.palette.info.main,.2)}`}},o.createElement(i.Typography,{variant:"body2",sx:{display:"flex",alignItems:"center",gap:1,mb:2}},o.createElement("span",null,"ℹ️"),o.createElement("strong",null,"Existing index loaded!")," You can continue with this index or drop it to start fresh."),o.createElement(i.Typography,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:2}},"Index ID: ",u==null?void 0:u.indexing_id," | Completed: ",u==null?void 0:u.completed_cells," ","cells | Features:"," ",u==null?void 0:u.total_features," | Completed:"," ",u==null?void 0:u.completed_at),o.createElement(i.Button,{onClick:s,startIcon:o.createElement(ct,null),variant:"outlined",size:"small",sx:{borderColor:f.palette.error.main,color:f.palette.error.main,"&:hover":{borderColor:f.palette.error.dark,color:f.palette.error.dark}}},"Drop Index")),o.createElement(i.Stack,{direction:"row",spacing:2,sx:{mb:3}},o.createElement(i.Button,{onClick:t,disabled:c||!e.index.bbox||e.index.indexingStatus==="running",variant:"contained",color:"success",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},e.index.indexingStatus==="running"?"Indexing...":e.index.indexingStatus==="idle"&&l?"Resume Indexing":"Start Indexing"),o.createElement(i.Button,{onClick:n,disabled:c||e.index.indexingStatus!=="running",variant:"outlined",color:"warning",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},"Pause"),o.createElement(i.Button,{onClick:r,disabled:c||e.index.indexingStatus!=="failed",variant:"outlined",color:"info",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},"Retry"),o.createElement(i.Button,{onClick:a,disabled:c||e.index.indexingStatus==="idle",variant:"outlined",color:"error",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},"Cancel & Clear")))):o.createElement(i.Paper,{elevation:1,sx:{p:4,textAlign:"center",background:i.alpha(f.palette.grey[100],.5),border:`2px dashed ${f.palette.grey[300]}`}},o.createElement(bn,{sx:{fontSize:48,color:f.palette.warning.main,mb:2}}),o.createElement(i.Typography,{variant:"h6",sx:{mb:2,fontWeight:600}},"Configuration Required"),o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},"Please complete the Index Configuration step first to set geographic boundaries before you can start indexing.")))}function Dl({stepData:e,setStepData:t,osmTags:n,osmTagsLoading:r,onLoadOsmTags:a}){var l;const s=i.useTheme();return o.createElement(i.Box,null,o.createElement(i.Typography,{variant:"h6",sx:{mb:3,fontWeight:600,color:s.palette.text.primary,display:"flex",alignItems:"center",gap:1}},o.createElement("span",null,"⚙️"),"Step 3: Mapping Configuration"),o.createElement(i.Typography,{variant:"body2",sx:{mb:3,color:s.palette.text.secondary,lineHeight:1.6}},"Configure how OpenStreetMap data should be mapped to your dataset. Choose between form-based configuration or YAML editor."),o.createElement(i.Box,{sx:{mb:3}},o.createElement(i.FormControl,{component:"fieldset"},o.createElement(i.Typography,{variant:"subtitle1",sx:{mb:2,fontWeight:600}},"Configuration Mode"),o.createElement(i.Stack,{direction:"row",spacing:2},o.createElement(i.Button,{variant:e.mapping.useYamlConfig?"outlined":"contained",onClick:()=>t(u=>({...u,mapping:{...u.mapping,useYamlConfig:!1}})),startIcon:o.createElement("span",null,"⚙️")},"Form Configuration"),o.createElement(i.Button,{variant:e.mapping.useYamlConfig?"contained":"outlined",onClick:()=>t(u=>({...u,mapping:{...u.mapping,useYamlConfig:!0}})),startIcon:o.createElement("span",null,"💻")},"YAML Editor")))),!e.mapping.useYamlConfig&&o.createElement(i.Box,{sx:{mb:3}},o.createElement(i.Typography,{variant:"subtitle1",sx:{mb:2,fontWeight:600}},"Available OSM Tags"),o.createElement(i.Stack,{direction:"row",spacing:2,alignItems:"center"},o.createElement(i.Button,{onClick:a,disabled:r,startIcon:r?o.createElement(i.CircularProgress,{size:20}):o.createElement(ExploreIcon,null),variant:"outlined",size:"small"},r?"Loading...":"Load OSM Tags"),n&&o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},n.length," tags available"))),!e.mapping.useYamlConfig&&o.createElement(i.Box,null,o.createElement(i.Paper,{elevation:1,sx:{p:3,mb:3,background:i.alpha(s.palette.primary.main,.02),border:`1px solid ${i.alpha(s.palette.primary.main,.1)}`,borderRadius:2}},o.createElement(i.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:s.palette.text.primary}},"Basic Configuration"),o.createElement(i.Grid,{container:!0,spacing:3},o.createElement(i.Grid,{item:!0,xs:12,md:6},o.createElement(i.FormControl,{fullWidth:!0,size:"medium"},o.createElement(i.InputLabel,null,"Radius (meters)"),o.createElement(i.Select,{value:e.mapping.radius,onChange:u=>t(c=>({...c,mapping:{...c.mapping,radius:u.target.value}})),label:"Radius (meters)"},o.createElement(i.MenuItem,{value:100},"100m"),o.createElement(i.MenuItem,{value:250},"250m"),o.createElement(i.MenuItem,{value:500},"500m"),o.createElement(i.MenuItem,{value:1e3},"1km"),o.createElement(i.MenuItem,{value:2500},"2.5km"),o.createElement(i.MenuItem,{value:5e3},"5km")))))),o.createElement(i.Paper,{elevation:1,sx:{p:3,mb:3,background:i.alpha(s.palette.secondary.main,.02),border:`1px solid ${i.alpha(s.palette.secondary.main,.1)}`,borderRadius:2}},o.createElement(i.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:s.palette.text.primary}},"3D Detections"),o.createElement(i.FormControlLabel,{control:o.createElement(i.Switch,{checked:e.mapping.enable3DDetections,onChange:u=>t(c=>({...c,mapping:{...c.mapping,enable3DDetections:u.target.checked}}))}),label:"Enable 3D detections"}),e.mapping.enable3DDetections&&o.createElement(i.Box,{sx:{mt:2}},o.createElement(i.Grid,{container:!0,spacing:3},o.createElement(i.Grid,{item:!0,xs:12,md:6},o.createElement(i.TextField,{fullWidth:!0,label:"3D Slice",value:e.mapping.threeDSlice,onChange:u=>t(c=>({...c,mapping:{...c.mapping,threeDSlice:u.target.value}})),placeholder:"e.g., point_cloud",helperText:"Name of the 3D slice in your dataset"})),o.createElement(i.Grid,{item:!0,xs:12,md:6},o.createElement(i.TextField,{fullWidth:!0,label:"Field Name",value:e.mapping.detectionFieldName,onChange:u=>t(c=>({...c,mapping:{...c.mapping,detectionFieldName:u.target.value}})),placeholder:"e.g., my_detections",helperText:"Name for the new detection field"})),o.createElement(i.Grid,{item:!0,xs:12},o.createElement(i.Autocomplete,{multiple:!0,options:n||[],value:[e.mapping.detectionLabelTag].filter(Boolean),onChange:(u,c)=>t(f=>({...f,mapping:{...f.mapping,detectionLabelTag:(c==null?void 0:c[0])||""}})),renderInput:u=>o.createElement(i.TextField,{...u,label:"OSM Tags for Labels",placeholder:"e.g., type, highway",helperText:"Select OSM tags to use as detection labels"}),renderTags:(u,c)=>u.map((f,g)=>o.createElement(i.Chip,{...c({index:g}),key:f,label:f,size:"small"}))}))))),o.createElement(i.Paper,{elevation:1,sx:{p:3,mb:3,background:i.alpha(s.palette.success.main,.02),border:`1px solid ${i.alpha(s.palette.success.main,.1)}`,borderRadius:2}},o.createElement(i.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:s.palette.text.primary}},"Sample Tagging"),o.createElement(i.FormControlLabel,{control:o.createElement(i.Switch,{checked:e.mapping.enableSampleTagging,onChange:u=>t(c=>({...c,mapping:{...c.mapping,enableSampleTagging:u.target.checked}}))}),label:"Enable sample tagging"}),e.mapping.enableSampleTagging&&o.createElement(i.Box,{sx:{mt:2}},o.createElement(i.Grid,{container:!0,spacing:3},o.createElement(i.Grid,{item:!0,xs:12,md:6},o.createElement(i.TextField,{fullWidth:!0,label:"Slice",value:e.mapping.tagSlice,onChange:u=>t(c=>({...c,mapping:{...c.mapping,tagSlice:u.target.value}})),placeholder:"e.g., main",helperText:"Slice where tags should be added"})),o.createElement(i.Grid,{item:!0,xs:12},o.createElement(i.Autocomplete,{multiple:!0,options:n||[],value:((l=e.mapping.tagMappings)==null?void 0:l.map(u=>u.osmKey))||[],onChange:(u,c)=>{const f=c.map(g=>({osmKey:g,fieldName:`${g}_tag`,fieldType:"string"}));t(g=>({...g,mapping:{...g.mapping,tagMappings:f}}))},renderInput:u=>o.createElement(i.TextField,{...u,label:"OSM Tags to Use",placeholder:"e.g., building, highway",helperText:"Select OSM tags to add as sample fields"}),renderTags:(u,c)=>u.map((f,g)=>o.createElement(i.Chip,{...c({index:g}),key:f,label:f,size:"small"}))}))))),o.createElement(i.Paper,{elevation:1,sx:{p:3,mb:3,background:i.alpha(s.palette.info.main,.02),border:`1px solid ${i.alpha(s.palette.info.main,.1)}`,borderRadius:2}},o.createElement(i.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:s.palette.text.primary}},"Field Mapping"),o.createElement(i.FormControlLabel,{control:o.createElement(i.Switch,{checked:e.mapping.enableFieldMapping,onChange:u=>t(c=>({...c,mapping:{...c.mapping,enableFieldMapping:u.target.checked}}))}),label:"Enable field mapping"}),e.mapping.enableFieldMapping&&o.createElement(i.Box,{sx:{mt:2}},o.createElement(i.Grid,{container:!0,spacing:3},o.createElement(i.Grid,{item:!0,xs:12,md:6},o.createElement(i.Autocomplete,{options:n||[],value:e.mapping.osmTagName||null,onChange:(u,c)=>t(f=>({...f,mapping:{...f.mapping,osmTagName:c||""}})),renderInput:u=>o.createElement(i.TextField,{...u,label:"OSM Tag Name",placeholder:"e.g., highway",helperText:"Name of the OSM tag to map"})})),o.createElement(i.Grid,{item:!0,xs:12,md:6},o.createElement(i.FormControl,{fullWidth:!0,size:"medium"},o.createElement(i.InputLabel,null,"Field Type"),o.createElement(i.Select,{value:e.mapping.fieldType,onChange:u=>t(c=>({...c,mapping:{...c.mapping,fieldType:u.target.value}})),label:"Field Type"},o.createElement(i.MenuItem,{value:"string"},"String"),o.createElement(i.MenuItem,{value:"int"},"Integer"),o.createElement(i.MenuItem,{value:"float"},"Float"),o.createElement(i.MenuItem,{value:"bool"},"Boolean")))))))),e.mapping.useYamlConfig&&o.createElement(i.Paper,{elevation:1,sx:{p:3,mb:3,background:i.alpha(s.palette.warning.main,.02),border:`1px solid ${i.alpha(s.palette.warning.main,.1)}`,borderRadius:2}},o.createElement(i.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:s.palette.text.primary}},"YAML Configuration"),o.createElement(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},"Edit the mapping configuration in YAML format. This allows for more advanced and flexible configuration options."),o.createElement(i.TextField,{fullWidth:!0,multiline:!0,rows:15,value:e.mapping.yamlConfig,onChange:u=>t(c=>({...c,mapping:{...c.mapping,yamlConfig:u.target.value}})),placeholder:"Enter YAML configuration here...",variant:"outlined"})))}function Nl(e){var et;const{data:t}=e,n=Wo(e),r=i.useTheme();Ze.useRecoilValue(Bo.dataset);const[a,s]=Ze.useRecoilState(st),[l,u]=o.useState(!1),c={INDEX_CONFIGURATION:0,INDEXING:1,MAPPING:2,ENRICH:3,SEARCH_CLEANUP:4},[f,g]=o.useState(c.INDEX_CONFIGURATION),[m,h]=o.useState(!1),[v,S]=o.useState(null),[p,k]=o.useState(!0),[_,M]=o.useState([]),[Y,j]=o.useState(!1),[Q,T]=o.useState(null),[w,X]=o.useState(null);o.useEffect(()=>{if(t){const P=t.geo_fields||[],y={geo_fields:P,has_geo_fields:P.length>0,dataset_name:t.dataset_name||"Unknown",total_fields:t.total_fields||0,can_proceed:P.length>0};S(y),k(!1)}},[t]);const[O,J]=o.useState({index:{bbox:null,gridTiles:16,location:"",gridCells:[],executionMode:"immediate",indexingStatus:"idle"},mapping:{radius:100,geoField:(t==null?void 0:t.default_geo_field)||"",enable3DDetections:!1,threeDSlice:"",detectionFieldName:"my_detections",detectionLabelTag:"type",enableSampleTagging:!1,tagSlice:"",tagMappings:[],tagRadius:100,renderOn3D:!0,renderOn2D:!0,enableFieldMapping:!1,fieldMappings:[],useYamlConfig:!1,yamlConfig:""},enrich:{prefetchId:null,enrichedCount:0},search:{filters:[]},cleanup:{removeIndex:!1,removeEnrichedData:!1}}),[I,$]=o.useState([]),[b,E]=o.useState(!1),[F,z]=o.useState(!1),[B,L]=o.useState({}),[N,D]=o.useState([]),[G,q]=o.useState(!1),[H,te]=o.useState(null),re=o.useCallback(()=>{u(!0)},[]),be=o.useCallback(async()=>{var P;console.log("🔄 loadCurrentIndexingState: Starting...");try{const y=await n.get_current_indexing_state();console.log("🔄 loadCurrentIndexingState: Backend result:",y),console.log("🔄 loadCurrentIndexingState: Result status:",y==null?void 0:y.status),console.log("🔄 loadCurrentIndexingState: Has grid cells:",(P=y==null?void 0:y.grid_cells)==null?void 0:P.length);const W=(y==null?void 0:y.result)||y;if((W==null?void 0:W.status)==="found"){console.log("🔄 loadCurrentIndexingState: Found existing state, updating UI..."),q(!0),te(W),u(!0),console.log("🔄 loadCurrentIndexingState: Set hasStarted = true");const Z=W.grid_cells||[],Le={};Z.forEach(R=>{R!=null&&R.id&&(Le[R.id]={id:R.id,status:R.status||"idle",progress:0,osm_features:R.osm_features||0,error:R.error||null,updated_at:new Date().toISOString()})}),s(R=>({...R,status:y.status||"idle",cells:Le,total_cells:y.total_cells||0,active_cells:y.active_cells||0,completed_cells:y.completed_cells||0,failed_cells:y.failed_cells||0,rate_limited_cells:y.rate_limited_cells||0,total_features:y.total_features||0,progress:y.progress||0,started_at:y.started_at,last_updated:new Date().toISOString()})),y.bbox&&Array.isArray(y.bbox)&&y.bbox.length===4&&J(R=>({...R,index:{...R.index,bbox:y.bbox,gridTiles:y.grid_tiles||16,indexingStatus:y.status||"idle"},mapping:{...R.mapping,geoField:y.geo_field||R.mapping.geoField}})),J(R=>({...R,index:{...R.index,gridCells:Z}})),y.indexing_status==="completed"?g(c.MAPPING):y.indexing_status==="running"||y.indexing_status==="paused"||y.indexing_status==="failed"?g(c.INDEXING):g(c.INDEX_CONFIGURATION),console.log("✅ Current indexing state loaded from backend")}else q(!1),te(null),s(Z=>({...Z,status:"idle",cells:{},total_cells:0,active_cells:0,completed_cells:0,failed_cells:0,rate_limited_cells:0,total_features:0,progress:0})),console.log("ℹ️ No indexing state found - starting fresh")}catch(y){console.error("Error loading current indexing state:",y)}},[n,s]);o.useEffect(()=>{console.log("🔄 useEffect: Loading current indexing state on mount..."),be()},[]);const Me=o.useCallback(()=>{g(P=>Math.max(P-1,0))},[]),K=o.useCallback(()=>{T(null),X(null)},[]),$e=o.useCallback(async()=>{if(!O.mapping.geoField){T("Please select a geo field first");return}h(!0),K();try{const P=await n.define_area_auto({geo_field:O.mapping.geoField});console.log("Auto-detect result:",P),console.log("Result type:",typeof P),console.log("Result keys:",P?Object.keys(P):"null");const y=P==null?void 0:P.result;console.log("Actual result:",y),console.log("Bbox from actual result:",y==null?void 0:y.bbox),console.log("Sample count from actual result:",y==null?void 0:y.sample_count),J(W=>{console.log("Previous state bbox:",W.index.bbox);const Z={...W,index:{...W.index,bbox:y==null?void 0:y.bbox}};return console.log("New state bbox:",Z.index.bbox),console.log("Setting bbox to:",y==null?void 0:y.bbox),Z})}catch(P){console.error("Auto-detect error:",P),T(`Failed to auto-detect bounding box: ${P}`)}finally{h(!1)}},[O.mapping.geoField,n,K]);o.useCallback(async()=>{if(!O.index.bbox){T("Please complete the indexing step first");return}h(!0),K();try{const P=await n.explore_tags({bbox:O.index.bbox});$((P==null?void 0:P.keys)||[])}catch(P){T(`Failed to explore tags: ${P}`)}finally{h(!1)}},[O.index.bbox,n,K]);const Ce=o.useCallback(async()=>{j(!0),K();try{const P=await n.get_available_osm_tags(),y=P==null?void 0:P.result;(y==null?void 0:y.status)==="success"&&(y!=null&&y.tags)?M(y.tags):(y==null?void 0:y.status)==="no_index"?T("No completed index found. Please complete the indexing step first."):T((y==null?void 0:y.message)||"Failed to load OSM tags")}catch(P){T(`Failed to load OSM tags: ${P}`)}finally{j(!1)}},[n,K]);o.useEffect(()=>{f===1&&(t!=null&&t.has_existing_index)&&_.length===0&&!Y&&Ce()},[f,t==null?void 0:t.has_existing_index,_.length,Y,Ce]);const Te=o.useCallback(async()=>{if(!O.index.bbox||!O.mapping.geoField){T("Please complete previous steps first");return}E(!0),K();try{const P=await n.get_sample_distribution({bbox:O.index.bbox,grid_tiles:O.index.gridTiles,geo_field:O.mapping.geoField}),y=P==null?void 0:P.result,W={};y!=null&&y.grid_cells&&y.grid_cells.forEach(R=>{W[R.id]=R.sample_count}),console.log("Sample distribution calculated:",W),console.log("Sample distribution keys:",Object.keys(W)),console.log("Sample distribution values:",Object.values(W)),L(W);const Z=(y==null?void 0:y.grid_cells)||[],Le={};Z.forEach(R=>{Le[R.id]={id:R.id,status:R.sample_count===0?"empty":"idle",progress:0,osm_features:0,error:null,updated_at:new Date().toISOString()}}),s(R=>({...R,status:"idle",cells:Le,total_cells:Z.length,active_cells:Z.filter(dt=>dt.sample_count>0).length,completed_cells:0,failed_cells:0,rate_limited_cells:0,total_features:0,progress:0})),J(R=>({...R,index:{...R.index,gridCells:Z}}))}catch(P){T(`Failed to calculate sample distribution: ${P}`)}finally{E(!1)}},[O.index.bbox,O.index.gridTiles,O.mapping.geoField,n,K,s]),x=o.useCallback(async()=>{if(!O.index.bbox||!O.mapping.geoField){T("Please complete previous steps first");return}if(!(a.cells&&Object.keys(a.cells).length>0)){const y=O.index.gridTiles,W=y*y,Z={};for(let Le=0;Le<y;Le++)for(let R=0;R<y;R++){const dt=`${Le}_${R}`;Z[dt]={id:dt,status:"idle",progress:0,osm_features:0,error:null,updated_at:new Date().toISOString()}}s(Le=>({...Le,status:"idle",cells:Z,total_cells:W,active_cells:W,completed_cells:0,failed_cells:0,rate_limited_cells:0,total_features:0,progress:0}))}h(!0),K();try{s(Z=>({...Z,status:"running",started_at:new Date().toISOString(),last_updated:new Date().toISOString()}));const y=await n.start_indexing({bbox:O.index.bbox,grid_tiles:O.index.gridTiles,geo_field:O.mapping.geoField,execution_mode:O.index.executionMode});console.log("Start indexing result:",y),console.log("Result type:",typeof y),console.log("Result result property:",y==null?void 0:y.result);const W=y==null?void 0:y.result;console.log("Actual result:",W),console.log("Actual result status:",W==null?void 0:W.status),console.log("Actual result error:",W==null?void 0:W.error),console.log("Actual result message:",W==null?void 0:W.message),(W==null?void 0:W.status)==="started"?(console.log("✅ Indexing started successfully!"),console.log("Active cells to process:",a.active_cells||0),console.log("Indexing ID:",W==null?void 0:W.indexing_id),J(Z=>({...Z,index:{...Z.index,indexingStatus:"running"}})),we()):(s(Z=>({...Z,status:"failed"})),T(`Failed to start indexing: ${(W==null?void 0:W.error)||"Unknown error"}`))}catch(y){console.error("Start indexing error details:",y),console.error("Error type:",typeof y),console.error("Error message:",y==null?void 0:y.message),console.error("Error stack:",y==null?void 0:y.stack),s(Z=>({...Z,status:"failed"}));const W=(y==null?void 0:y.message)||(y==null?void 0:y.error)||String(y);T(`Failed to start indexing: ${W}`)}finally{h(!1)}},[O.index.bbox,O.index.gridTiles,O.mapping.geoField,O.index.executionMode,n,K,a.cells,a.active_cells,s]),we=o.useCallback(()=>{const P=setInterval(async()=>{try{const y=await n.get_cell_statuses();(y==null?void 0:y.status)==="found"&&(y!=null&&y.cell_statuses)&&(console.log("Polled cell statuses:",y.cell_statuses),J(Z=>({...Z,index:{...Z.index,gridCells:y.cell_statuses}})),y.cell_statuses.every(Z=>Z.status==="completed"||Z.status==="failed")&&(clearInterval(P),J(Z=>({...Z,index:{...Z.index,indexingStatus:"completed"}}))))}catch(y){console.error("Error polling cell statuses:",y)}},2e3);return()=>clearInterval(P)},[n]);o.useEffect(()=>{},[]);const Oe=o.useCallback(async()=>{if(f===0)try{h(!0),K(),await x(),g(1)}catch(P){console.error("Failed to start indexing:",P),T("Failed to start indexing. Please check your configuration.")}finally{h(!1)}else g(P=>Math.min(P+1,2))},[f,x,K,h,T]),Ie=o.useCallback(async()=>{h(!0),K();try{console.log("Pausing indexing..."),J(P=>({...P,index:{...P.index,indexingStatus:"paused"}}))}catch(P){T(`Failed to pause indexing: ${P}`)}finally{h(!1)}},[K]),We=o.useCallback(async()=>{if(!O.index.bbox||!O.mapping.geoField){T("Please complete previous steps first");return}if(!a.cells||Object.keys(a.cells).length===0){T("Please calculate sample distribution first to build the indexing grid");return}h(!0),K();try{const P={};Object.keys(a.cells).forEach(W=>{const Z=a.cells[W];P[W]={...Z,status:Z.status==="empty"?"empty":"idle",progress:0,error:null,updated_at:new Date().toISOString()}}),s(W=>({...W,status:"running",cells:P,completed_cells:0,failed_cells:0,rate_limited_cells:0,total_features:0,progress:0,started_at:new Date().toISOString(),last_updated:new Date().toISOString()}));const y=await n.start_indexing({bbox:O.index.bbox,grid_tiles:O.index.gridTiles,geo_field:O.mapping.geoField,execution_mode:O.index.executionMode});J(W=>({...W,index:{...W.index,indexingStatus:"running"}})),(y==null?void 0:y.status)==="started"||(s(W=>({...W,status:"failed"})),T(`Failed to retry indexing: ${(y==null?void 0:y.error)||"Unknown error"}`))}catch(P){s(y=>({...y,status:"failed"})),T(`Failed to retry indexing: ${P}`)}finally{h(!1)}},[O.index.bbox,O.index.gridTiles,O.index.executionMode,O.mapping.geoField,n,K,a.cells,a.active_cells,s]),Ue=o.useCallback(async()=>{h(!0),K();try{ge.abortOperationsByURI("@voxel51/metageo/index_grid"),ge.abortOperationsByURI("@voxel51/metageo/watch_indexing"),await n.cancel_indexing(),console.log("Indexing cancelled - operators aborted"),s({status:"idle",cells:{},total_cells:0,active_cells:0,completed_cells:0,failed_cells:0,rate_limited_cells:0,total_features:0,progress:0}),J(P=>({...P,index:{...P.index,indexingStatus:"idle"}}))}catch(P){T(`Failed to cancel indexing: ${P}`)}finally{h(!1)}},[n,K,s]);o.useCallback(async()=>{if(!O.enrich.prefetchId||!O.mapping.geoField){T("Please complete prefetch and select geo field");return}h(!0),K();try{const P=await n.enrich({geo_field:O.mapping.geoField,radius_m:O.mapping.radius,prefetch_id:O.enrich.prefetchId});J(y=>({...y,enrich:{...y.enrich,enrichedCount:(P==null?void 0:P.samples_enriched)||0}}))}catch(P){T(`Failed to enrich samples: ${P}`)}finally{h(!1)}},[O.enrich.prefetchId,O.mapping.geoField,O.mapping.radius,n,K]);const He=o.useCallback(async()=>{h(!0),K();try{const P=await n.cleanup_index({prefetch_id:O.enrich.prefetchId||void 0})}catch(P){T(`Failed to cleanup index: ${P}`)}finally{h(!1)}},[O.enrich.prefetchId,n,K]),Qe=o.useCallback(async()=>{h(!0),K();try{const P=await n.cleanup_enriched_data()}catch(P){T(`Failed to cleanup enriched data: ${P}`)}finally{h(!1)}},[n,K]),it=o.useCallback(async()=>{h(!0),K();try{await n.drop_index(),q(!1),te(null),s(P=>({...P,status:"idle",cells:{},total_cells:0,active_cells:0,completed_cells:0,failed_cells:0,rate_limited_cells:0,total_features:0,progress:0})),z(!1)}catch(P){T(`Failed to drop index: ${P}`)}finally{h(!1)}},[n,K,s]),ut=[{label:"Index Configuration",description:"Set location field, bounds, and sample distribution",icon:o.createElement(Qn,null)},{label:"Indexing",description:"Run indexing operation and monitor progress",icon:o.createElement(Vn,null)},{label:"Mapping",description:"Configure tag mapping",icon:o.createElement(Qn,null)},{label:"Enrich",description:"Fetch and apply data",icon:o.createElement(kl,null)},{label:"Search & Cleanup",description:"Create filters and cleanup",icon:o.createElement(Io,null)}];return p?o.createElement(i.Box,{sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:3,background:`linear-gradient(135deg, ${i.alpha(r.palette.primary.main,.05)} 0%, ${i.alpha(r.palette.secondary.main,.05)} 100%)`}},o.createElement(i.Card,{elevation:3,sx:{maxWidth:500,width:"100%",background:r.palette.background.paper,borderRadius:3}},o.createElement(i.CardContent,{sx:{p:4}},o.createElement(i.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:3}},o.createElement(Xn,{sx:{fontSize:64,color:r.palette.primary.main,mr:2}}),o.createElement(i.Typography,{variant:"h4",component:"h1",sx:{fontWeight:700,color:r.palette.text.primary}},"Metageo")),o.createElement(i.Typography,{variant:"h6",sx:{mb:2,color:r.palette.text.secondary,fontWeight:500}},"Analyzing Your Dataset"),o.createElement(i.Typography,{variant:"body1",sx:{color:r.palette.text.secondary,lineHeight:1.6}},"Checking for geographic fields in your dataset...")))):v&&!v.can_proceed?o.createElement(i.Box,{sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:3,background:`linear-gradient(135deg, ${i.alpha(r.palette.warning.main,.08)} 0%, ${i.alpha(r.palette.error.main,.06)} 50%, ${i.alpha(r.palette.info.main,.04)} 100%)`}},o.createElement(i.Card,{elevation:3,sx:{maxWidth:800,width:"100%",background:r.palette.background.paper,borderRadius:3}},o.createElement(i.CardContent,{sx:{p:4}},o.createElement(i.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:3}},o.createElement(bn,{sx:{fontSize:64,color:r.palette.warning.main,mr:2}}),o.createElement(i.Typography,{variant:"h4",component:"h1",sx:{fontWeight:700,color:r.palette.text.primary}},"No Geographic Data Found")),o.createElement(i.Alert,{severity:"warning",sx:{mb:3},icon:o.createElement(bn,{sx:{fontSize:32}})},o.createElement(i.AlertTitle,{sx:{fontSize:"1.2rem",fontWeight:600}},"Cannot Proceed"),o.createElement(i.Typography,{variant:"body1",sx:{mt:1}},"The Metageo panel requires geographic data to function, but no geographic fields were found in your dataset.")),o.createElement(i.Box,{sx:{mt:3}},o.createElement(i.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0},"Dataset Information"),o.createElement(i.Grid,{container:!0,spacing:2},o.createElement(i.Grid,{item:!0,xs:12,sm:6},o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},o.createElement("strong",null,"Dataset:")," ",v.dataset_name)),o.createElement(i.Grid,{item:!0,xs:12,sm:6},o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},o.createElement("strong",null,"Total Fields:")," ",v.total_fields)),o.createElement(i.Grid,{item:!0,xs:12,sm:6},o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},o.createElement("strong",null,"Geographic Fields:")," ",v.geo_fields.length)),o.createElement(i.Grid,{item:!0,xs:12},o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},o.createElement("strong",null,"All Fields:")," ",((et=t==null?void 0:t.all_fields)==null?void 0:et.join(", "))||"None")),o.createElement(i.Grid,{item:!0,xs:12},o.createElement(i.Typography,{variant:"body2",color:"text.secondary"},o.createElement("strong",null,"Geo Fields Found:")," ",v.geo_fields.join(", ")||"None")))),o.createElement(i.Box,{sx:{mt:4}},o.createElement(i.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0},"How to Add Geographic Data"),o.createElement(i.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2}},"To use the Metageo panel, your dataset must contain geographic fields. You can:"),o.createElement(i.Box,{component:"ul",sx:{pl:2}},o.createElement(i.Typography,{component:"li",variant:"body2",color:"text.secondary",sx:{mb:1}},"Import data with latitude/longitude coordinates"),o.createElement(i.Typography,{component:"li",variant:"body2",color:"text.secondary",sx:{mb:1}},"Add geographic fields manually to your samples"),o.createElement(i.Typography,{component:"li",variant:"body2",color:"text.secondary",sx:{mb:1}},"Use FiftyOne's geospatial importers for supported formats"))),o.createElement(i.Box,{sx:{mt:4,textAlign:"center"}},o.createElement(i.Button,{variant:"outlined",startIcon:o.createElement(jl,null),onClick:()=>window.location.reload()},"Refresh Dataset"))))):l?o.createElement(i.Box,{sx:{height:"100%",display:"flex",flexDirection:"column",background:r.palette.background.default}},o.createElement(i.Paper,{elevation:1,sx:{position:"sticky",top:0,zIndex:10,borderRadius:0,borderBottom:`1px solid ${r.palette.divider}`,background:r.palette.background.paper}},o.createElement(i.Box,{sx:{p:2,pb:1}},o.createElement(i.Box,{sx:{display:"flex",alignItems:"center",mb:1.5}},o.createElement(Xn,{sx:{fontSize:22,color:r.palette.primary.main,mr:1}}),o.createElement(i.Typography,{variant:"h6",component:"h1",sx:{fontWeight:600,color:r.palette.text.primary,mr:2,minWidth:"fit-content"}},"Metageo"),o.createElement(i.Stepper,{activeStep:f,alternativeLabel:!0,sx:{flex:1,"& .MuiStepLabel-root":{"& .MuiStepLabel-label":{fontSize:"0.7rem",fontWeight:500,lineHeight:1.2,marginTop:0}},"& .MuiStepLabel-iconContainer":{padding:.5,marginBottom:0}}},ut.map((P,y)=>o.createElement(i.Step,{key:y},o.createElement(i.StepLabel,{icon:P.icon,sx:{"& .MuiStepLabel-iconContainer":{color:y<=f?r.palette.primary.main:r.palette.grey[400]}}},P.label))))))),(Q||w)&&o.createElement(i.Box,{sx:{p:2}},Q&&o.createElement(i.Alert,{severity:"error",onClose:K,sx:{mb:1}},o.createElement(i.AlertTitle,null,"Error"),Q),w&&o.createElement(i.Alert,{severity:"success",onClose:K,sx:{mb:1}},o.createElement(i.AlertTitle,null,"Success"),w)),o.createElement(i.Box,{sx:{flex:1,overflow:"auto",p:2}},o.createElement(i.Card,{elevation:2,sx:{minHeight:"100%",background:r.palette.background.paper,borderRadius:2}},o.createElement(i.CardContent,{sx:{p:3}},f===c.INDEX_CONFIGURATION&&o.createElement(zl,{stepData:O,setStepData:J,loading:m,sampleDistributionLoading:b,realSampleDistribution:B,quadtreeCells:N,hasExistingIndex:G,existingIndexData:H,onAutoBbox:$e,onCalculateSampleDistribution:Te,onStartIndexing:x,onPauseIndexing:Ie,onRetryIndexing:We,onCancelIndexing:Ue,onDropIndex:it,onQuadtreeCellsChange:D,geoFields:(t==null?void 0:t.geo_fields)||[]}),f===c.INDEXING&&o.createElement(Wl,{stepData:O,onStartIndexing:x,onPauseIndexing:Ie,onRetryIndexing:We,onCancelIndexing:Ue,onDropIndex:it,hasExistingIndex:G,existingIndexData:H,loading:m}),f===c.MAPPING&&o.createElement(Dl,{stepData:O,setStepData:J,osmTags:_,osmTagsLoading:Y,onLoadOsmTags:Ce}),f===c.ENRICH&&o.createElement(i.Box,null,o.createElement(i.Typography,{variant:"h6",sx:{mb:3,fontWeight:600,color:r.palette.text.primary,display:"flex",alignItems:"center",gap:1}},o.createElement(Io,{color:"primary"}),"Step 4: Create Search Filters"),o.createElement(i.Typography,{variant:"body2",sx:{mb:3,color:r.palette.text.secondary,lineHeight:1.6}},"Your samples have been enriched! You can now create filters in the sidebar to search through the new OSM data."),o.createElement(i.Alert,{severity:"info",icon:o.createElement(Al,null)},o.createElement(i.AlertTitle,null,"Ready for Filtering"),"Use the sidebar filters to search by the newly added OSM tags and properties. The enriched data is now available as regular FiftyOne fields.")),f===c.SEARCH_CLEANUP&&o.createElement(i.Box,null,o.createElement(i.Typography,{variant:"h6",sx:{mb:3,fontWeight:600,color:r.palette.text.primary,display:"flex",alignItems:"center",gap:1}},o.createElement(ct,{color:"primary"}),"Step 5: Cleanup"),o.createElement(i.Typography,{variant:"body2",sx:{mb:3,color:r.palette.text.secondary,lineHeight:1.6}},"Optionally remove the indexed OSM data and enriched fields from your dataset to free up space."),o.createElement(i.Stack,{spacing:2},o.createElement(i.Button,{onClick:He,disabled:m,startIcon:o.createElement(ct,null),variant:"outlined",color:"warning",size:"large"},"Remove Indexed OSM Data"),o.createElement(i.Button,{onClick:Qe,disabled:m,startIcon:o.createElement(ct,null),variant:"outlined",color:"error",size:"large"},"Remove Enriched Fields")),o.createElement(i.Alert,{severity:"warning",icon:o.createElement(bn,null),sx:{mt:2}},o.createElement(i.AlertTitle,null,"Warning"),"These actions will permanently remove data. Make sure you have backups if needed."))))),o.createElement(i.Paper,{elevation:1,sx:{borderTop:`1px solid ${r.palette.divider}`,background:r.palette.background.paper}},o.createElement(i.Box,{sx:{p:2,display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement(i.Button,{onClick:Me,disabled:f===0,startIcon:o.createElement(Il,null),variant:"outlined"},"Back"),o.createElement(i.Button,{onClick:Oe,disabled:f===ut.length-1||f===0&&(!O.index.bbox||!O.mapping.geoField),endIcon:o.createElement(Pl,null),variant:"contained"},f===ut.length-1?"Finish":f===0?"Start Indexing":"Next"))),o.createElement(i.Dialog,{open:F,onClose:()=>z(!1),"aria-labelledby":"drop-index-dialog-title","aria-describedby":"drop-index-dialog-description"},o.createElement(i.DialogTitle,{id:"drop-index-dialog-title"},o.createElement(i.Box,{sx:{display:"flex",alignItems:"center",gap:1}},o.createElement(ct,{color:"error"}),"Drop Index")),o.createElement(i.DialogContent,null,o.createElement(i.DialogContentText,{id:"drop-index-dialog-description"},"Are you sure you want to permanently delete all indexed OSM data? This action cannot be undone and will:"),o.createElement(i.Box,{sx:{mt:2,pl:2}},o.createElement(i.Typography,{variant:"body2",component:"div",sx:{mb:1}},"• Remove all OSM feature data from the index"),o.createElement(i.Typography,{variant:"body2",component:"div",sx:{mb:1}},"• Clear all cell statuses and progress"),o.createElement(i.Typography,{variant:"body2",component:"div",sx:{mb:1}},"• Reset the indexing state to idle"),o.createElement(i.Typography,{variant:"body2",component:"div",sx:{mb:1}},"• Require re-indexing to use OSM data again"))),o.createElement(i.DialogActions,null,o.createElement(i.Button,{onClick:()=>z(!1),color:"primary",variant:"outlined"},"Cancel"),o.createElement(i.Button,{onClick:it,color:"error",variant:"contained",disabled:m,startIcon:m?o.createElement(i.CircularProgress,{size:16}):o.createElement(ct,null)},m?"Dropping...":"Drop Index")))):o.createElement(i.Box,{sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:3,background:`linear-gradient(135deg, ${i.alpha(r.palette.primary.main,.05)} 0%, ${i.alpha(r.palette.secondary.main,.05)} 100%)`}},o.createElement(i.Card,{elevation:3,sx:{maxWidth:500,width:"100%",background:r.palette.background.paper,borderRadius:3}},o.createElement(i.CardContent,{sx:{p:4}},o.createElement(i.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:3}},o.createElement(Xn,{sx:{fontSize:64,color:r.palette.primary.main,mr:2}}),o.createElement(i.Typography,{variant:"h4",component:"h1",sx:{fontWeight:700,color:r.palette.text.primary}},"Metageo")),o.createElement(i.Typography,{variant:"h6",sx:{mb:2,color:r.palette.text.secondary,fontWeight:500}},"Enrich Your Dataset with OpenStreetMap Data"),o.createElement(i.Typography,{variant:"body1",sx:{mb:4,color:r.palette.text.secondary,lineHeight:1.6}},"Transform your geospatial dataset by automatically adding rich metadata from OpenStreetMap. Discover nearby amenities, road networks, land use patterns, and more to enhance your analysis."),v&&v.has_geo_fields&&o.createElement(i.Alert,{severity:"info",sx:{mb:4}},o.createElement(i.Typography,{variant:"body2"},o.createElement("strong",null,"Available geographic fields:")," ",v.geo_fields.join(", "))),o.createElement(i.Stack,{spacing:2,sx:{mb:4}},o.createElement(i.Box,{sx:{display:"flex",alignItems:"center",gap:2}},o.createElement(lt,{color:"success"}),o.createElement(i.Typography,{variant:"body2"},"Automatically detect geographic boundaries")),o.createElement(i.Box,{sx:{display:"flex",alignItems:"center",gap:2}},o.createElement(lt,{color:"success"}),o.createElement(i.Typography,{variant:"body2"},"Map OSM tags to your dataset schema")),o.createElement(i.Box,{sx:{display:"flex",alignItems:"center",gap:2}},o.createElement(lt,{color:"success"}),o.createElement(i.Typography,{variant:"body2"},"Enrich samples with contextual data"))),o.createElement(i.Button,{onClick:re,size:"large",sx:{width:"100%",py:1.5,fontSize:"1.1rem",fontWeight:600,borderRadius:2}},o.createElement(Jn,{sx:{mr:1}}),"Get Started"))))}class Yl extends ge.Operator{get config(){return new ge.OperatorConfig({name:"indexing_started",label:"Indexing Started",unlisted:!0})}useHooks(){return{setIndexingState:Ze.useSetRecoilState(st)}}async execute({hooks:t,params:n}){const{indexing_id:r,total_cells:a,active_cells:s,status:l}=n;t.setIndexingState(u=>({...u,status:"running",indexing_id:r,total_cells:a,active_cells:s,started_at:new Date().toISOString()}))}}class Gl extends ge.Operator{get config(){return new ge.OperatorConfig({name:"cell_status_update",label:"Cell Status Update",unlisted:!0})}useHooks(){const[t,n]=Ze.useRecoilState(st);return{indexingState:t,setIndexingState:n}}async execute({hooks:t,params:n}){const{cell_id:r,status:a,progress:s,osm_features:l,error:u}=n;console.log(`CellStatusUpdateOperator: Updating cell ${r} to status ${a} with ${l} features`),t.setIndexingState(c=>{const f={...c.cells};return f[r]={id:r,status:a,progress:s||0,osm_features:l||0,error:u||null,updated_at:new Date().toISOString()},{...c,cells:f}})}}class Ul extends ge.Operator{get config(){return new ge.OperatorConfig({name:"indexing_progress",label:"Indexing Progress",unlisted:!0})}useHooks(){return{setIndexingState:Ze.useSetRecoilState(st)}}async execute({hooks:t,params:n}){const{indexing_id:r,completed_cells:a,failed_cells:s,total_cells:l,total_features:u,progress:c}=n;t.setIndexingState(f=>({...f,progress:c||0,completed_cells:a||0,failed_cells:s||0,total_features:u||0,last_updated:new Date().toISOString()}))}}class Hl extends ge.Operator{get config(){return new ge.OperatorConfig({name:"indexing_completed",label:"Indexing Completed",unlisted:!0})}useHooks(){return{setIndexingState:Ze.useSetRecoilState(st)}}async execute({hooks:t,params:n}){const{indexing_id:r,completed_cells:a,failed_cells:s,total_cells:l,total_features:u,status:c}=n;t.setIndexingState(f=>({...f,status:"completed",completed_cells:a||0,failed_cells:s||0,total_features:u||0,completed_at:new Date().toISOString()}))}}class ql extends ge.Operator{get config(){return new ge.OperatorConfig({name:"grid_indexing_completed",label:"Grid Indexing Completed",unlisted:!0})}useHooks(){return{setIndexingState:Ze.useSetRecoilState(st)}}async execute({hooks:t,params:n}){const{indexing_id:r,completed_cells:a,failed_cells:s,rate_limited_cells:l,total_features:u,status:c}=n;console.log("GridIndexingCompletedOperator: Grid indexing completed!"),console.log("Completed cells:",a),console.log("Failed cells:",s),console.log("Rate limited cells:",l),console.log("Total features:",u),t.setIndexingState(f=>({...f,status:"completed",completed_cells:a||0,failed_cells:s||0,rate_limited_cells:l||0,total_features:u||0,completed_at:new Date().toISOString()}))}}function Kl(){try{ge.registerOperator(Yl,"@voxel51/metageo"),ge.registerOperator(Gl,"@voxel51/metageo"),ge.registerOperator(Ul,"@voxel51/metageo"),ge.registerOperator(Hl,"@voxel51/metageo"),ge.registerOperator(ql,"@voxel51/metageo"),console.log("Metageo operators registered successfully")}catch(e){console.error("Error registering Metageo operators:",e)}}Kl(),Ke.registerComponent({name:"MetageoView",label:"Metageo",component:Nl,type:Ke.PluginComponentType.Component,activator:()=>!0})});
//# sourceMappingURL=index.umd.js.map
