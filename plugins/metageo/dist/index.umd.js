(function(Fe,pe){typeof exports=="object"&&typeof module<"u"?pe(require("@fiftyone/plugins"),require("@fiftyone/operators"),require("react"),require("@mui/material"),require("recoil")):typeof define=="function"&&define.amd?define(["@fiftyone/plugins","@fiftyone/operators","react","@mui/material","recoil"],pe):(Fe=typeof globalThis<"u"?globalThis:Fe||self,pe(Fe.__fop__,Fe.__foo__,Fe.React,Fe.__mui__,Fe.recoil))})(this,function(Fe,pe,n,a,Se){"use strict";function Vo(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const Z=Vo(n);function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},R.apply(null,arguments)}function Ze(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function tr(e){if(Z.isValidElement(e)||!Ze(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=tr(e[r])}),t}function Re(e,t,r={clone:!0}){const o=r.clone?R({},e):e;return Ze(e)&&Ze(t)&&Object.keys(t).forEach(s=>{Z.isValidElement(t[s])?o[s]=t[s]:Ze(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&Ze(e[s])?o[s]=Re(e[s],t[s],r):r.clone?o[s]=Ze(t[s])?tr(t[s]):t[s]:o[s]=t[s]}),o}function Ho(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ue(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var s=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,s.get?s:{enumerable:!0,get:function(){return e[o]}})}),r}var nr={exports:{}},rr={exports:{}},te={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,f=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,O=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function w(_){return typeof _=="string"||typeof _=="function"||_===o||_===c||_===i||_===s||_===m||_===v||typeof _=="object"&&_!==null&&(_.$$typeof===x||_.$$typeof===h||_.$$typeof===l||_.$$typeof===u||_.$$typeof===p||_.$$typeof===b||_.$$typeof===O||_.$$typeof===y||_.$$typeof===f)}function S(_){if(typeof _=="object"&&_!==null){var We=_.$$typeof;switch(We){case t:var $e=_.type;switch($e){case d:case c:case o:case i:case s:case m:return $e;default:var ze=$e&&$e.$$typeof;switch(ze){case u:case p:case x:case h:case l:return ze;default:return We}}case r:return We}}}var A=d,$=c,T=u,C=l,P=t,k=p,F=o,U=x,E=h,M=r,L=i,z=s,j=m,Y=!1;function W(_){return Y||(Y=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),B(_)||S(_)===d}function B(_){return S(_)===c}function V(_){return S(_)===u}function K(_){return S(_)===l}function H(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function xe(_){return S(_)===p}function me(_){return S(_)===o}function _e(_){return S(_)===x}function Qe(_){return S(_)===h}function Ke(_){return S(_)===r}function Je(_){return S(_)===i}function Xe(_){return S(_)===s}function Ft(_){return S(_)===m}te.AsyncMode=A,te.ConcurrentMode=$,te.ContextConsumer=T,te.ContextProvider=C,te.Element=P,te.ForwardRef=k,te.Fragment=F,te.Lazy=U,te.Memo=E,te.Portal=M,te.Profiler=L,te.StrictMode=z,te.Suspense=j,te.isAsyncMode=W,te.isConcurrentMode=B,te.isContextConsumer=V,te.isContextProvider=K,te.isElement=H,te.isForwardRef=xe,te.isFragment=me,te.isLazy=_e,te.isMemo=Qe,te.isPortal=Ke,te.isProfiler=Je,te.isStrictMode=Xe,te.isSuspense=Ft,te.isValidElementType=w,te.typeOf=S})(),rr.exports=te;var or=rr.exports;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ar=Object.getOwnPropertySymbols,qo=Object.prototype.hasOwnProperty,Ko=Object.prototype.propertyIsEnumerable;function Xo(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Qo(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var o=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(o.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Jo=Qo()?Object.assign:function(e,t){for(var r,o=Xo(e),s,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var l in r)qo.call(r,l)&&(o[l]=r[l]);if(ar){s=ar(r);for(var u=0;u<s.length;u++)Ko.call(r,s[u])&&(o[s[u]]=r[s[u]])}}return o},Zo="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sr=Zo,ir=Function.call.bind(Object.prototype.hasOwnProperty),hn=function(){};{var Ro=sr,yn={},ea=ir;hn=function(e){var t="Warning: "+e;typeof console<"u"&&console.error(t);try{throw new Error(t)}catch{}}}function lr(e,t,r,o,s){for(var i in e)if(ea(e,i)){var l;try{if(typeof e[i]!="function"){var u=Error((o||"React class")+": "+r+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw u.name="Invariant Violation",u}l=e[i](t,i,o,r,null,Ro)}catch(c){l=c}if(l&&!(l instanceof Error)&&hn((o||"React class")+": type specification of "+r+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof l+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),l instanceof Error&&!(l.message in yn)){yn[l.message]=!0;var d=s?s():"";hn("Failed "+r+" type: "+l.message+(d??""))}}}lr.resetWarningCache=function(){yn={}};var ta=lr,na=or,ra=Jo,et=sr,bn=ir,cr=ta,tt=function(){};tt=function(e){var t="Warning: "+e;typeof console<"u"&&console.error(t);try{throw new Error(t)}catch{}};function Dt(){return null}var oa=function(e,t){var r=typeof Symbol=="function"&&Symbol.iterator,o="@@iterator";function s(E){var M=E&&(r&&E[r]||E[o]);if(typeof M=="function")return M}var i="<<anonymous>>",l={array:p("array"),bigint:p("bigint"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:m(),arrayOf:v,element:h(),elementType:x(),instanceOf:f,node:w(),objectOf:O,oneOf:b,oneOfType:y,shape:A,exact:$};function u(E,M){return E===M?E!==0||1/E===1/M:E!==E&&M!==M}function d(E,M){this.message=E,this.data=M&&typeof M=="object"?M:{},this.stack=""}d.prototype=Error.prototype;function c(E){var M={},L=0;function z(Y,W,B,V,K,H,xe){if(V=V||i,H=H||B,xe!==et){if(t){var me=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw me.name="Invariant Violation",me}else if(typeof console<"u"){var _e=V+":"+B;!M[_e]&&L<3&&(tt("You are manually calling a React.PropTypes validation function for the `"+H+"` prop on `"+V+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),M[_e]=!0,L++)}}return W[B]==null?Y?W[B]===null?new d("The "+K+" `"+H+"` is marked as required "+("in `"+V+"`, but its value is `null`.")):new d("The "+K+" `"+H+"` is marked as required in "+("`"+V+"`, but its value is `undefined`.")):null:E(W,B,V,K,H)}var j=z.bind(null,!1);return j.isRequired=z.bind(null,!0),j}function p(E){function M(L,z,j,Y,W,B){var V=L[z],K=P(V);if(K!==E){var H=k(V);return new d("Invalid "+Y+" `"+W+"` of type "+("`"+H+"` supplied to `"+j+"`, expected ")+("`"+E+"`."),{expectedType:E})}return null}return c(M)}function m(){return c(Dt)}function v(E){function M(L,z,j,Y,W){if(typeof E!="function")return new d("Property `"+W+"` of component `"+j+"` has invalid PropType notation inside arrayOf.");var B=L[z];if(!Array.isArray(B)){var V=P(B);return new d("Invalid "+Y+" `"+W+"` of type "+("`"+V+"` supplied to `"+j+"`, expected an array."))}for(var K=0;K<B.length;K++){var H=E(B,K,j,Y,W+"["+K+"]",et);if(H instanceof Error)return H}return null}return c(M)}function h(){function E(M,L,z,j,Y){var W=M[L];if(!e(W)){var B=P(W);return new d("Invalid "+j+" `"+Y+"` of type "+("`"+B+"` supplied to `"+z+"`, expected a single ReactElement."))}return null}return c(E)}function x(){function E(M,L,z,j,Y){var W=M[L];if(!na.isValidElementType(W)){var B=P(W);return new d("Invalid "+j+" `"+Y+"` of type "+("`"+B+"` supplied to `"+z+"`, expected a single ReactElement type."))}return null}return c(E)}function f(E){function M(L,z,j,Y,W){if(!(L[z]instanceof E)){var B=E.name||i,V=U(L[z]);return new d("Invalid "+Y+" `"+W+"` of type "+("`"+V+"` supplied to `"+j+"`, expected ")+("instance of `"+B+"`."))}return null}return c(M)}function b(E){if(!Array.isArray(E))return arguments.length>1?tt("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):tt("Invalid argument supplied to oneOf, expected an array."),Dt;function M(L,z,j,Y,W){for(var B=L[z],V=0;V<E.length;V++)if(u(B,E[V]))return null;var K=JSON.stringify(E,function(xe,me){var _e=k(me);return _e==="symbol"?String(me):me});return new d("Invalid "+Y+" `"+W+"` of value `"+String(B)+"` "+("supplied to `"+j+"`, expected one of "+K+"."))}return c(M)}function O(E){function M(L,z,j,Y,W){if(typeof E!="function")return new d("Property `"+W+"` of component `"+j+"` has invalid PropType notation inside objectOf.");var B=L[z],V=P(B);if(V!=="object")return new d("Invalid "+Y+" `"+W+"` of type "+("`"+V+"` supplied to `"+j+"`, expected an object."));for(var K in B)if(bn(B,K)){var H=E(B,K,j,Y,W+"."+K,et);if(H instanceof Error)return H}return null}return c(M)}function y(E){if(!Array.isArray(E))return tt("Invalid argument supplied to oneOfType, expected an instance of array."),Dt;for(var M=0;M<E.length;M++){var L=E[M];if(typeof L!="function")return tt("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+F(L)+" at index "+M+"."),Dt}function z(j,Y,W,B,V){for(var K=[],H=0;H<E.length;H++){var xe=E[H],me=xe(j,Y,W,B,V,et);if(me==null)return null;me.data&&bn(me.data,"expectedType")&&K.push(me.data.expectedType)}var _e=K.length>0?", expected one of type ["+K.join(", ")+"]":"";return new d("Invalid "+B+" `"+V+"` supplied to "+("`"+W+"`"+_e+"."))}return c(z)}function w(){function E(M,L,z,j,Y){return T(M[L])?null:new d("Invalid "+j+" `"+Y+"` supplied to "+("`"+z+"`, expected a ReactNode."))}return c(E)}function S(E,M,L,z,j){return new d((E||"React class")+": "+M+" type `"+L+"."+z+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+j+"`.")}function A(E){function M(L,z,j,Y,W){var B=L[z],V=P(B);if(V!=="object")return new d("Invalid "+Y+" `"+W+"` of type `"+V+"` "+("supplied to `"+j+"`, expected `object`."));for(var K in E){var H=E[K];if(typeof H!="function")return S(j,Y,W,K,k(H));var xe=H(B,K,j,Y,W+"."+K,et);if(xe)return xe}return null}return c(M)}function $(E){function M(L,z,j,Y,W){var B=L[z],V=P(B);if(V!=="object")return new d("Invalid "+Y+" `"+W+"` of type `"+V+"` "+("supplied to `"+j+"`, expected `object`."));var K=ra({},L[z],E);for(var H in K){var xe=E[H];if(bn(E,H)&&typeof xe!="function")return S(j,Y,W,H,k(xe));if(!xe)return new d("Invalid "+Y+" `"+W+"` key `"+H+"` supplied to `"+j+"`.\nBad object: "+JSON.stringify(L[z],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(E),null,"  "));var me=xe(B,H,j,Y,W+"."+H,et);if(me)return me}return null}return c(M)}function T(E){switch(typeof E){case"number":case"string":case"undefined":return!0;case"boolean":return!E;case"object":if(Array.isArray(E))return E.every(T);if(E===null||e(E))return!0;var M=s(E);if(M){var L=M.call(E),z;if(M!==E.entries){for(;!(z=L.next()).done;)if(!T(z.value))return!1}else for(;!(z=L.next()).done;){var j=z.value;if(j&&!T(j[1]))return!1}}else return!1;return!0;default:return!1}}function C(E,M){return E==="symbol"?!0:M?M["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&M instanceof Symbol:!1}function P(E){var M=typeof E;return Array.isArray(E)?"array":E instanceof RegExp?"object":C(M,E)?"symbol":M}function k(E){if(typeof E>"u"||E===null)return""+E;var M=P(E);if(M==="object"){if(E instanceof Date)return"date";if(E instanceof RegExp)return"regexp"}return M}function F(E){var M=k(E);switch(M){case"array":case"object":return"an "+M;case"boolean":case"date":case"regexp":return"a "+M;default:return M}}function U(E){return!E.constructor||!E.constructor.name?i:E.constructor.name}return l.checkPropTypes=cr,l.resetWarningCache=cr.resetWarningCache,l.PropTypes=l,l};{var aa=or,sa=!0;nr.exports=oa(aa.isElement,sa)}var ia=nr.exports;const G=Ho(ia);function Lt(e){if(typeof e!="string")throw new Error("MUI: `capitalize(string)` expects a string argument.");return e.charAt(0).toUpperCase()+e.slice(1)}function la(e,t,r=void 0){const o={};return Object.keys(e).forEach(s=>{o[s]=e[s].reduce((i,l)=>{if(l){const u=t(l);u!==""&&i.push(u),r&&r[l]&&i.push(r[l])}return i},[]).join(" ")}),o}const ur=e=>e,ca=(()=>{let e=ur;return{configure(t){e=t},generate(t){return e(t)},reset(){e=ur}}})(),ua={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function xn(e,t,r="Mui"){const o=ua[t];return o?`${r}-${o}`:`${ca.generate(e)}-${t}`}function da(e,t,r="Mui"){const o={};return t.forEach(s=>{o[s]=xn(e,s,r)}),o}function Ye(e,t){if(e==null)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;r[o]=e[o]}return r}function dr(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=dr(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function fa(){for(var e,t,r=0,o="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=dr(e))&&(o&&(o+=" "),o+=t);return o}function vn(e,t){const r=R({},t);return Object.keys(e).forEach(o=>{if(o.toString().match(/^(components|slots)$/))r[o]=R({},e[o],r[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=e[o]||{},i=t[o];r[o]={},!i||!Object.keys(i)?r[o]=s:!s||!Object.keys(s)?r[o]=i:(r[o]=R({},i),Object.keys(s).forEach(l=>{r[o][l]=vn(s[l],i[l])}))}else r[o]===void 0&&(r[o]=e[o])}),r}var fr={exports:{}},jt={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=n,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),x=Symbol.iterator,f="@@iterator";function b(g){if(g===null||typeof g!="object")return null;var I=x&&g[x]||g[f];return typeof I=="function"?I:null}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function y(g){{for(var I=arguments.length,D=new Array(I>1?I-1:0),N=1;N<I;N++)D[N-1]=arguments[N];w("error",g,D)}}function w(g,I,D){{var N=O.ReactDebugCurrentFrame,ee=N.getStackAddendum();ee!==""&&(I+="%s",D=D.concat([ee]));var ae=D.map(function(X){return String(X)});ae.unshift("Warning: "+I),Function.prototype.apply.call(console[g],console,ae)}}var S=!1,A=!1,$=!1,T=!1,C=!1,P;P=Symbol.for("react.module.reference");function k(g){return!!(typeof g=="string"||typeof g=="function"||g===o||g===i||C||g===s||g===c||g===p||T||g===h||S||A||$||typeof g=="object"&&g!==null&&(g.$$typeof===v||g.$$typeof===m||g.$$typeof===l||g.$$typeof===u||g.$$typeof===d||g.$$typeof===P||g.getModuleId!==void 0))}function F(g,I,D){var N=g.displayName;if(N)return N;var ee=I.displayName||I.name||"";return ee!==""?D+"("+ee+")":D}function U(g){return g.displayName||"Context"}function E(g){if(g==null)return null;if(typeof g.tag=="number"&&y("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case o:return"Fragment";case r:return"Portal";case i:return"Profiler";case s:return"StrictMode";case c:return"Suspense";case p:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case u:var I=g;return U(I)+".Consumer";case l:var D=g;return U(D._context)+".Provider";case d:return F(g,g.render,"ForwardRef");case m:var N=g.displayName||null;return N!==null?N:E(g.type)||"Memo";case v:{var ee=g,ae=ee._payload,X=ee._init;try{return E(X(ae))}catch{return null}}}return null}var M=Object.assign,L=0,z,j,Y,W,B,V,K;function H(){}H.__reactDisabledLog=!0;function xe(){{if(L===0){z=console.log,j=console.info,Y=console.warn,W=console.error,B=console.group,V=console.groupCollapsed,K=console.groupEnd;var g={configurable:!0,enumerable:!0,value:H,writable:!0};Object.defineProperties(console,{info:g,log:g,warn:g,error:g,group:g,groupCollapsed:g,groupEnd:g})}L++}}function me(){{if(L--,L===0){var g={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:M({},g,{value:z}),info:M({},g,{value:j}),warn:M({},g,{value:Y}),error:M({},g,{value:W}),group:M({},g,{value:B}),groupCollapsed:M({},g,{value:V}),groupEnd:M({},g,{value:K})})}L<0&&y("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var _e=O.ReactCurrentDispatcher,Qe;function Ke(g,I,D){{if(Qe===void 0)try{throw Error()}catch(ee){var N=ee.stack.trim().match(/\n( *(at )?)/);Qe=N&&N[1]||""}return`
`+Qe+g}}var Je=!1,Xe;{var Ft=typeof WeakMap=="function"?WeakMap:Map;Xe=new Ft}function _(g,I){if(!g||Je)return"";{var D=Xe.get(g);if(D!==void 0)return D}var N;Je=!0;var ee=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var ae;ae=_e.current,_e.current=null,xe();try{if(I){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(Ge){N=Ge}Reflect.construct(g,[],X)}else{try{X.call()}catch(Ge){N=Ge}g.call(X.prototype)}}else{try{throw Error()}catch(Ge){N=Ge}g()}}catch(Ge){if(Ge&&N&&typeof Ge.stack=="string"){for(var q=Ge.stack.split(`
`),Te=N.stack.split(`
`),fe=q.length-1,he=Te.length-1;fe>=1&&he>=0&&q[fe]!==Te[he];)he--;for(;fe>=1&&he>=0;fe--,he--)if(q[fe]!==Te[he]){if(fe!==1||he!==1)do if(fe--,he--,he<0||q[fe]!==Te[he]){var Ae=`
`+q[fe].replace(" at new "," at ");return g.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",g.displayName)),typeof g=="function"&&Xe.set(g,Ae),Ae}while(fe>=1&&he>=0);break}}}finally{Je=!1,_e.current=ae,me(),Error.prepareStackTrace=ee}var yt=g?g.displayName||g.name:"",Yo=yt?Ke(yt):"";return typeof g=="function"&&Xe.set(g,Yo),Yo}function We(g,I,D){return _(g,!1)}function $e(g){var I=g.prototype;return!!(I&&I.isReactComponent)}function ze(g,I,D){if(g==null)return"";if(typeof g=="function")return _(g,$e(g));if(typeof g=="string")return Ke(g);switch(g){case c:return Ke("Suspense");case p:return Ke("SuspenseList")}if(typeof g=="object")switch(g.$$typeof){case d:return We(g.render);case m:return ze(g.type,I,D);case v:{var N=g,ee=N._payload,ae=N._init;try{return ze(ae(ee),I,D)}catch{}}}return""}var gn=Object.prototype.hasOwnProperty,Po={},Ao=O.ReactDebugCurrentFrame;function mn(g){if(g){var I=g._owner,D=ze(g.type,g._source,I?I.type:null);Ao.setExtraStackFrame(D)}else Ao.setExtraStackFrame(null)}function yc(g,I,D,N,ee){{var ae=Function.call.bind(gn);for(var X in g)if(ae(g,X)){var q=void 0;try{if(typeof g[X]!="function"){var Te=Error((N||"React class")+": "+D+" type `"+X+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof g[X]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Te.name="Invariant Violation",Te}q=g[X](I,X,N,D,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(fe){q=fe}q&&!(q instanceof Error)&&(mn(ee),y("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",N||"React class",D,X,typeof q),mn(null)),q instanceof Error&&!(q.message in Po)&&(Po[q.message]=!0,mn(ee),y("Failed %s type: %s",D,q.message),mn(null))}}}var bc=Array.isArray;function Jn(g){return bc(g)}function xc(g){{var I=typeof Symbol=="function"&&Symbol.toStringTag,D=I&&g[Symbol.toStringTag]||g.constructor.name||"Object";return D}}function vc(g){try{return $o(g),!1}catch{return!0}}function $o(g){return""+g}function Fo(g){if(vc(g))return y("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",xc(g)),$o(g)}var Do=O.ReactCurrentOwner,Ec={key:!0,ref:!0,__self:!0,__source:!0},Lo,jo;function Sc(g){if(gn.call(g,"ref")){var I=Object.getOwnPropertyDescriptor(g,"ref").get;if(I&&I.isReactWarning)return!1}return g.ref!==void 0}function Tc(g){if(gn.call(g,"key")){var I=Object.getOwnPropertyDescriptor(g,"key").get;if(I&&I.isReactWarning)return!1}return g.key!==void 0}function Cc(g,I){typeof g.ref=="string"&&Do.current}function _c(g,I){{var D=function(){Lo||(Lo=!0,y("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",I))};D.isReactWarning=!0,Object.defineProperty(g,"key",{get:D,configurable:!0})}}function wc(g,I){{var D=function(){jo||(jo=!0,y("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",I))};D.isReactWarning=!0,Object.defineProperty(g,"ref",{get:D,configurable:!0})}}var Oc=function(g,I,D,N,ee,ae,X){var q={$$typeof:t,type:g,key:I,ref:D,props:X,_owner:ae};return q._store={},Object.defineProperty(q._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(q,"_self",{configurable:!1,enumerable:!1,writable:!1,value:N}),Object.defineProperty(q,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ee}),Object.freeze&&(Object.freeze(q.props),Object.freeze(q)),q};function Mc(g,I,D,N,ee){{var ae,X={},q=null,Te=null;D!==void 0&&(Fo(D),q=""+D),Tc(I)&&(Fo(I.key),q=""+I.key),Sc(I)&&(Te=I.ref,Cc(I,ee));for(ae in I)gn.call(I,ae)&&!Ec.hasOwnProperty(ae)&&(X[ae]=I[ae]);if(g&&g.defaultProps){var fe=g.defaultProps;for(ae in fe)X[ae]===void 0&&(X[ae]=fe[ae])}if(q||Te){var he=typeof g=="function"?g.displayName||g.name||"Unknown":g;q&&_c(X,he),Te&&wc(X,he)}return Oc(g,q,Te,ee,N,Do.current,X)}}var Zn=O.ReactCurrentOwner,No=O.ReactDebugCurrentFrame;function ht(g){if(g){var I=g._owner,D=ze(g.type,g._source,I?I.type:null);No.setExtraStackFrame(D)}else No.setExtraStackFrame(null)}var Rn;Rn=!1;function er(g){return typeof g=="object"&&g!==null&&g.$$typeof===t}function zo(){{if(Zn.current){var g=E(Zn.current.type);if(g)return`

Check the render method of \``+g+"`."}return""}}function Ic(g){return""}var Bo={};function kc(g){{var I=zo();if(!I){var D=typeof g=="string"?g:g.displayName||g.name;D&&(I=`

Check the top-level render call using <`+D+">.")}return I}}function Wo(g,I){{if(!g._store||g._store.validated||g.key!=null)return;g._store.validated=!0;var D=kc(I);if(Bo[D])return;Bo[D]=!0;var N="";g&&g._owner&&g._owner!==Zn.current&&(N=" It was passed a child from "+E(g._owner.type)+"."),ht(g),y('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',D,N),ht(null)}}function Go(g,I){{if(typeof g!="object")return;if(Jn(g))for(var D=0;D<g.length;D++){var N=g[D];er(N)&&Wo(N,I)}else if(er(g))g._store&&(g._store.validated=!0);else if(g){var ee=b(g);if(typeof ee=="function"&&ee!==g.entries)for(var ae=ee.call(g),X;!(X=ae.next()).done;)er(X.value)&&Wo(X.value,I)}}}function Pc(g){{var I=g.type;if(I==null||typeof I=="string")return;var D;if(typeof I=="function")D=I.propTypes;else if(typeof I=="object"&&(I.$$typeof===d||I.$$typeof===m))D=I.propTypes;else return;if(D){var N=E(I);yc(D,g.props,"prop",N,g)}else if(I.PropTypes!==void 0&&!Rn){Rn=!0;var ee=E(I);y("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ee||"Unknown")}typeof I.getDefaultProps=="function"&&!I.getDefaultProps.isReactClassApproved&&y("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ac(g){{for(var I=Object.keys(g.props),D=0;D<I.length;D++){var N=I[D];if(N!=="children"&&N!=="key"){ht(g),y("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",N),ht(null);break}}g.ref!==null&&(ht(g),y("Invalid attribute `ref` supplied to `React.Fragment`."),ht(null))}}function Uo(g,I,D,N,ee,ae){{var X=k(g);if(!X){var q="";(g===void 0||typeof g=="object"&&g!==null&&Object.keys(g).length===0)&&(q+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Te=Ic();Te?q+=Te:q+=zo();var fe;g===null?fe="null":Jn(g)?fe="array":g!==void 0&&g.$$typeof===t?(fe="<"+(E(g.type)||"Unknown")+" />",q=" Did you accidentally export a JSX literal instead of a component?"):fe=typeof g,y("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",fe,q)}var he=Mc(g,I,D,ee,ae);if(he==null)return he;if(X){var Ae=I.children;if(Ae!==void 0)if(N)if(Jn(Ae)){for(var yt=0;yt<Ae.length;yt++)Go(Ae[yt],g);Object.freeze&&Object.freeze(Ae)}else y("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Go(Ae,g)}return g===o?Ac(he):Pc(he),he}}function $c(g,I,D){return Uo(g,I,D,!0)}function Fc(g,I,D){return Uo(g,I,D,!1)}var Dc=Fc,Lc=$c;jt.Fragment=o,jt.jsx=Dc,jt.jsxs=Lc})(),fr.exports=jt;var ie=fr.exports;const pa=Z.createContext(void 0);G.node,G.object;function ga(e){const{theme:t,name:r,props:o}=e;if(!t||!t.components||!t.components[r])return o;const s=t.components[r];return s.defaultProps?vn(s.defaultProps,o):!s.styleOverrides&&!s.variants?vn(s,o):o}function ma({props:e,name:t}){const r=Z.useContext(pa);return ga({props:e,name:t,theme:{components:r}})}G.node,G.object.isRequired;function ha(e){return ma(e)}var bt={},pr={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(pr);var gr=pr.exports,En={exports:{}},mr;function hr(){return mr||(mr=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var i in s)({}).hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(En)),En.exports}var Sn={exports:{}},yr;function ya(){return yr||(yr=1,function(e){function t(r,o){if(r==null)return{};var s={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(o.indexOf(i)!==-1)continue;s[i]=r[i]}return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Sn)),Sn.exports}function ba(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function xa(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var va=function(){function e(r){var o=this;this._insertTag=function(s){var i;o.tags.length===0?o.insertionPoint?i=o.insertionPoint.nextSibling:o.prepend?i=o.container.firstChild:i=o.before:i=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(s,i),o.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(o){o.forEach(this._insertTag)},t.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(xa(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=ba(s);try{i.insertRule(o,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(o));this.ctr++},t.flush=function(){this.tags.forEach(function(o){var s;return(s=o.parentNode)==null?void 0:s.removeChild(o)}),this.tags=[],this.ctr=0},e}(),Ee="-ms-",Nt="-moz-",Q="-webkit-",br="comm",Tn="rule",Cn="decl",Ea="@import",xr="@keyframes",Sa="@layer",Ta=Math.abs,zt=String.fromCharCode,Ca=Object.assign;function _a(e,t){return ve(e,0)^45?(((t<<2^ve(e,0))<<2^ve(e,1))<<2^ve(e,2))<<2^ve(e,3):0}function vr(e){return e.trim()}function wa(e,t){return(e=t.exec(e))?e[0]:e}function J(e,t,r){return e.replace(t,r)}function _n(e,t){return e.indexOf(t)}function ve(e,t){return e.charCodeAt(t)|0}function xt(e,t,r){return e.slice(t,r)}function De(e){return e.length}function wn(e){return e.length}function Bt(e,t){return t.push(e),e}function Oa(e,t){return e.map(t).join("")}var Wt=1,nt=1,Er=0,Ce=0,ge=0,rt="";function Gt(e,t,r,o,s,i,l){return{value:e,root:t,parent:r,type:o,props:s,children:i,line:Wt,column:nt,length:l,return:""}}function vt(e,t){return Ca(Gt("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ma(){return ge}function Ia(){return ge=Ce>0?ve(rt,--Ce):0,nt--,ge===10&&(nt=1,Wt--),ge}function we(){return ge=Ce<Er?ve(rt,Ce++):0,nt++,ge===10&&(nt=1,Wt++),ge}function Le(){return ve(rt,Ce)}function Ut(){return Ce}function Et(e,t){return xt(rt,e,t)}function St(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Sr(e){return Wt=nt=1,Er=De(rt=e),Ce=0,[]}function Tr(e){return rt="",e}function Yt(e){return vr(Et(Ce-1,On(e===91?e+2:e===40?e+1:e)))}function ka(e){for(;(ge=Le())&&ge<33;)we();return St(e)>2||St(ge)>3?"":" "}function Pa(e,t){for(;--t&&we()&&!(ge<48||ge>102||ge>57&&ge<65||ge>70&&ge<97););return Et(e,Ut()+(t<6&&Le()==32&&we()==32))}function On(e){for(;we();)switch(ge){case e:return Ce;case 34:case 39:e!==34&&e!==39&&On(ge);break;case 40:e===41&&On(e);break;case 92:we();break}return Ce}function Aa(e,t){for(;we()&&e+ge!==57;)if(e+ge===84&&Le()===47)break;return"/*"+Et(t,Ce-1)+"*"+zt(e===47?e:we())}function $a(e){for(;!St(Le());)we();return Et(e,Ce)}function Fa(e){return Tr(Vt("",null,null,null,[""],e=Sr(e),0,[0],e))}function Vt(e,t,r,o,s,i,l,u,d){for(var c=0,p=0,m=l,v=0,h=0,x=0,f=1,b=1,O=1,y=0,w="",S=s,A=i,$=o,T=w;b;)switch(x=y,y=we()){case 40:if(x!=108&&ve(T,m-1)==58){_n(T+=J(Yt(y),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:T+=Yt(y);break;case 9:case 10:case 13:case 32:T+=ka(x);break;case 92:T+=Pa(Ut()-1,7);continue;case 47:switch(Le()){case 42:case 47:Bt(Da(Aa(we(),Ut()),t,r),d);break;default:T+="/"}break;case 123*f:u[c++]=De(T)*O;case 125*f:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+p:O==-1&&(T=J(T,/\f/g,"")),h>0&&De(T)-m&&Bt(h>32?_r(T+";",o,r,m-1):_r(J(T," ","")+";",o,r,m-2),d);break;case 59:T+=";";default:if(Bt($=Cr(T,t,r,c,p,s,u,w,S=[],A=[],m),i),y===123)if(p===0)Vt(T,t,$,$,S,i,m,u,A);else switch(v===99&&ve(T,3)===110?100:v){case 100:case 108:case 109:case 115:Vt(e,$,$,o&&Bt(Cr(e,$,$,0,0,s,u,w,s,S=[],m),A),s,A,m,u,o?S:A);break;default:Vt(T,$,$,$,[""],A,0,u,A)}}c=p=h=0,f=O=1,w=T="",m=l;break;case 58:m=1+De(T),h=x;default:if(f<1){if(y==123)--f;else if(y==125&&f++==0&&Ia()==125)continue}switch(T+=zt(y),y*f){case 38:O=p>0?1:(T+="\f",-1);break;case 44:u[c++]=(De(T)-1)*O,O=1;break;case 64:Le()===45&&(T+=Yt(we())),v=Le(),p=m=De(w=T+=$a(Ut())),y++;break;case 45:x===45&&De(T)==2&&(f=0)}}return i}function Cr(e,t,r,o,s,i,l,u,d,c,p){for(var m=s-1,v=s===0?i:[""],h=wn(v),x=0,f=0,b=0;x<o;++x)for(var O=0,y=xt(e,m+1,m=Ta(f=l[x])),w=e;O<h;++O)(w=vr(f>0?v[O]+" "+y:J(y,/&\f/g,v[O])))&&(d[b++]=w);return Gt(e,t,r,s===0?Tn:u,d,c,p)}function Da(e,t,r){return Gt(e,t,r,br,zt(Ma()),xt(e,2,-2),0)}function _r(e,t,r,o){return Gt(e,t,r,Cn,xt(e,0,o),xt(e,o+1,-1),o)}function ot(e,t){for(var r="",o=wn(e),s=0;s<o;s++)r+=t(e[s],s,e,t)||"";return r}function La(e,t,r,o){switch(e.type){case Sa:if(e.children.length)break;case Ea:case Cn:return e.return=e.return||e.value;case br:return"";case xr:return e.return=e.value+"{"+ot(e.children,o)+"}";case Tn:e.value=e.props.join(",")}return De(r=ot(e.children,o))?e.return=e.value+"{"+r+"}":""}function ja(e){var t=wn(e);return function(r,o,s,i){for(var l="",u=0;u<t;u++)l+=e[u](r,o,s,i)||"";return l}}function Na(e){return function(t){t.root||(t=t.return)&&e(t)}}function wr(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var za=function(t,r,o){for(var s=0,i=0;s=i,i=Le(),s===38&&i===12&&(r[o]=1),!St(i);)we();return Et(t,Ce)},Ba=function(t,r){var o=-1,s=44;do switch(St(s)){case 0:s===38&&Le()===12&&(r[o]=1),t[o]+=za(Ce-1,r,o);break;case 2:t[o]+=Yt(s);break;case 4:if(s===44){t[++o]=Le()===58?"&\f":"",r[o]=t[o].length;break}default:t[o]+=zt(s)}while(s=we());return t},Wa=function(t,r){return Tr(Ba(Sr(t),r))},Or=new WeakMap,Ga=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,o=t.parent,s=t.column===o.column&&t.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!Or.get(o))&&!s){Or.set(t,!0);for(var i=[],l=Wa(r,i),u=o.props,d=0,c=0;d<l.length;d++)for(var p=0;p<u.length;p++,c++)t.props[c]=i[d]?l[d].replace(/&\f/g,u[p]):u[p]+" "+l[d]}}},Ua=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function Mr(e,t){switch(_a(e,t)){case 5103:return Q+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Q+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Q+e+Nt+e+Ee+e+e;case 6828:case 4268:return Q+e+Ee+e+e;case 6165:return Q+e+Ee+"flex-"+e+e;case 5187:return Q+e+J(e,/(\w+).+(:[^]+)/,Q+"box-$1$2"+Ee+"flex-$1$2")+e;case 5443:return Q+e+Ee+"flex-item-"+J(e,/flex-|-self/,"")+e;case 4675:return Q+e+Ee+"flex-line-pack"+J(e,/align-content|flex-|-self/,"")+e;case 5548:return Q+e+Ee+J(e,"shrink","negative")+e;case 5292:return Q+e+Ee+J(e,"basis","preferred-size")+e;case 6060:return Q+"box-"+J(e,"-grow","")+Q+e+Ee+J(e,"grow","positive")+e;case 4554:return Q+J(e,/([^-])(transform)/g,"$1"+Q+"$2")+e;case 6187:return J(J(J(e,/(zoom-|grab)/,Q+"$1"),/(image-set)/,Q+"$1"),e,"")+e;case 5495:case 3959:return J(e,/(image-set\([^]*)/,Q+"$1$`$1");case 4968:return J(J(e,/(.+:)(flex-)?(.*)/,Q+"box-pack:$3"+Ee+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Q+e+e;case 4095:case 3583:case 4068:case 2532:return J(e,/(.+)-inline(.+)/,Q+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(De(e)-1-t>6)switch(ve(e,t+1)){case 109:if(ve(e,t+4)!==45)break;case 102:return J(e,/(.+:)(.+)-([^]+)/,"$1"+Q+"$2-$3$1"+Nt+(ve(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~_n(e,"stretch")?Mr(J(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ve(e,t+1)!==115)break;case 6444:switch(ve(e,De(e)-3-(~_n(e,"!important")&&10))){case 107:return J(e,":",":"+Q)+e;case 101:return J(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Q+(ve(e,14)===45?"inline-":"")+"box$3$1"+Q+"$2$3$1"+Ee+"$2box$3")+e}break;case 5936:switch(ve(e,t+11)){case 114:return Q+e+Ee+J(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Q+e+Ee+J(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Q+e+Ee+J(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Q+e+Ee+e+e}return e}var Ya=function(t,r,o,s){if(t.length>-1&&!t.return)switch(t.type){case Cn:t.return=Mr(t.value,t.length);break;case xr:return ot([vt(t,{value:J(t.value,"@","@"+Q)})],s);case Tn:if(t.length)return Oa(t.props,function(i){switch(wa(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ot([vt(t,{props:[J(i,/:(read-\w+)/,":"+Nt+"$1")]})],s);case"::placeholder":return ot([vt(t,{props:[J(i,/:(plac\w+)/,":"+Q+"input-$1")]}),vt(t,{props:[J(i,/:(plac\w+)/,":"+Nt+"$1")]}),vt(t,{props:[J(i,/:(plac\w+)/,Ee+"input-$1")]})],s)}return""})}},Va=[Ya],Ir=function(t){var r=t.key;if(r==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(f){var b=f.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(f),f.setAttribute("data-s",""))})}var s=t.stylisPlugins||Va,i={},l,u=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(f){for(var b=f.getAttribute("data-emotion").split(" "),O=1;O<b.length;O++)i[b[O]]=!0;u.push(f)});var d,c=[Ga,Ua];{var p,m=[La,Na(function(f){p.insert(f)})],v=ja(c.concat(s,m)),h=function(b){return ot(Fa(b),v)};d=function(b,O,y,w){p=y,h(b?b+"{"+O.styles+"}":O.styles),w&&(x.inserted[O.name]=!0)}}var x={key:r,sheet:new va({key:r,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:d};return x.sheet.hydrate(u),x},kr={exports:{}},ne={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,f=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,O=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function w(_){return typeof _=="string"||typeof _=="function"||_===o||_===c||_===i||_===s||_===m||_===v||typeof _=="object"&&_!==null&&(_.$$typeof===x||_.$$typeof===h||_.$$typeof===l||_.$$typeof===u||_.$$typeof===p||_.$$typeof===b||_.$$typeof===O||_.$$typeof===y||_.$$typeof===f)}function S(_){if(typeof _=="object"&&_!==null){var We=_.$$typeof;switch(We){case t:var $e=_.type;switch($e){case d:case c:case o:case i:case s:case m:return $e;default:var ze=$e&&$e.$$typeof;switch(ze){case u:case p:case x:case h:case l:return ze;default:return We}}case r:return We}}}var A=d,$=c,T=u,C=l,P=t,k=p,F=o,U=x,E=h,M=r,L=i,z=s,j=m,Y=!1;function W(_){return Y||(Y=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),B(_)||S(_)===d}function B(_){return S(_)===c}function V(_){return S(_)===u}function K(_){return S(_)===l}function H(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function xe(_){return S(_)===p}function me(_){return S(_)===o}function _e(_){return S(_)===x}function Qe(_){return S(_)===h}function Ke(_){return S(_)===r}function Je(_){return S(_)===i}function Xe(_){return S(_)===s}function Ft(_){return S(_)===m}ne.AsyncMode=A,ne.ConcurrentMode=$,ne.ContextConsumer=T,ne.ContextProvider=C,ne.Element=P,ne.ForwardRef=k,ne.Fragment=F,ne.Lazy=U,ne.Memo=E,ne.Portal=M,ne.Profiler=L,ne.StrictMode=z,ne.Suspense=j,ne.isAsyncMode=W,ne.isConcurrentMode=B,ne.isContextConsumer=V,ne.isContextProvider=K,ne.isElement=H,ne.isForwardRef=xe,ne.isFragment=me,ne.isLazy=_e,ne.isMemo=Qe,ne.isPortal=Ke,ne.isProfiler=Je,ne.isStrictMode=Xe,ne.isSuspense=Ft,ne.isValidElementType=w,ne.typeOf=S})(),kr.exports=ne;var Ha=kr.exports,Pr=Ha,qa={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ka={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ar={};Ar[Pr.ForwardRef]=qa,Ar[Pr.Memo]=Ka;var Xa=!0;function $r(e,t,r){var o="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(o+=s+" ")}),o}var Mn=function(t,r,o){var s=t.key+"-"+r.name;(o===!1||Xa===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles)},In=function(t,r,o){Mn(t,r,o);var s=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function Qa(e){for(var t=0,r,o=0,s=e.length;s>=4;++o,s-=4)r=e.charCodeAt(o)&255|(e.charCodeAt(++o)&255)<<8|(e.charCodeAt(++o)&255)<<16|(e.charCodeAt(++o)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(o+2)&255)<<16;case 2:t^=(e.charCodeAt(o+1)&255)<<8;case 1:t^=e.charCodeAt(o)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Ja={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Za=/[A-Z]|^ms/g,Ra=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Fr=function(t){return t.charCodeAt(1)===45},Dr=function(t){return t!=null&&typeof t!="boolean"},kn=wr(function(e){return Fr(e)?e:e.replace(Za,"-$&").toLowerCase()}),Lr=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Ra,function(o,s,i){return je={name:s,styles:i,next:je},s})}return Ja[t]!==1&&!Fr(t)&&typeof r=="number"&&r!==0?r+"px":r};function Tt(e,t,r){if(r==null)return"";var o=r;if(o.__emotion_styles!==void 0)return o;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return je={name:s.name,styles:s.styles,next:je},s.name;var i=r;if(i.styles!==void 0){var l=i.next;if(l!==void 0)for(;l!==void 0;)je={name:l.name,styles:l.styles,next:je},l=l.next;var u=i.styles+";";return u}return es(e,t,r)}case"function":{if(e!==void 0){var d=je,c=r(e);return je=d,Tt(e,t,c)}break}}var p=r;if(t==null)return p;var m=t[p];return m!==void 0?m:p}function es(e,t,r){var o="";if(Array.isArray(r))for(var s=0;s<r.length;s++)o+=Tt(e,t,r[s])+";";else for(var i in r){var l=r[i];if(typeof l!="object"){var u=l;t!=null&&t[u]!==void 0?o+=i+"{"+t[u]+"}":Dr(u)&&(o+=kn(i)+":"+Lr(i,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(t==null||t[l[0]]===void 0))for(var d=0;d<l.length;d++)Dr(l[d])&&(o+=kn(i)+":"+Lr(i,l[d])+";");else{var c=Tt(e,t,l);switch(i){case"animation":case"animationName":{o+=kn(i)+":"+c+";";break}default:o+=i+"{"+c+"}"}}}return o}var jr=/label:\s*([^\s;{]+)\s*(;|$)/g,je;function Ct(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var o=!0,s="";je=void 0;var i=e[0];if(i==null||i.raw===void 0)o=!1,s+=Tt(r,t,i);else{var l=i;s+=l[0]}for(var u=1;u<e.length;u++)if(s+=Tt(r,t,e[u]),o){var d=i;s+=d[u]}jr.lastIndex=0;for(var c="",p;(p=jr.exec(s))!==null;)c+="-"+p[1];var m=Qa(s)+c;return{name:m,styles:s,next:je}}var ts=function(t){return t()},Nr=Z.useInsertionEffect?Z.useInsertionEffect:!1,zr=Nr||ts,Br=Nr||Z.useLayoutEffect,Wr=Z.createContext(typeof HTMLElement<"u"?Ir({key:"css"}):null),ns=Wr.Provider,Pn=function(t){return n.forwardRef(function(r,o){var s=n.useContext(Wr);return t(r,s,o)})},Ht=Z.createContext({}),An={}.hasOwnProperty,$n="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",rs=function(t,r){var o={};for(var s in r)An.call(r,s)&&(o[s]=r[s]);return o[$n]=t,o},os=function(t){var r=t.cache,o=t.serialized,s=t.isStringTag;return Mn(r,o,s),zr(function(){return In(r,o,s)}),null},as=Pn(function(e,t,r){var o=e.css;typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var s=e[$n],i=[o],l="";typeof e.className=="string"?l=$r(t.registered,i,e.className):e.className!=null&&(l=e.className+" ");var u=Ct(i,void 0,Z.useContext(Ht));l+=t.key+"-"+u.name;var d={};for(var c in e)An.call(e,c)&&c!=="css"&&c!==$n&&(d[c]=e[c]);return d.className=l,r&&(d.ref=r),Z.createElement(Z.Fragment,null,Z.createElement(os,{cache:t,serialized:u,isStringTag:typeof s=="string"}),Z.createElement(s,d))}),ss=as;hr();var Gr=function(t,r){var o=arguments;if(r==null||!An.call(r,"css"))return Z.createElement.apply(void 0,o);var s=o.length,i=new Array(s);i[0]=ss,i[1]=rs(t,r);for(var l=2;l<s;l++)i[l]=o[l];return Z.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Gr||(Gr={}));var is=Pn(function(e,t){var r=e.styles,o=Ct([r],void 0,Z.useContext(Ht)),s=Z.useRef();return Br(function(){var i=t.key+"-global",l=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),u=!1,d=document.querySelector('style[data-emotion="'+i+" "+o.name+'"]');return t.sheet.tags.length&&(l.before=t.sheet.tags[0]),d!==null&&(u=!0,d.setAttribute("data-emotion",i),l.hydrate([d])),s.current=[l,u],function(){l.flush()}},[t]),Br(function(){var i=s.current,l=i[0],u=i[1];if(u){i[1]=!1;return}if(o.next!==void 0&&In(t,o.next,!0),l.tags.length){var d=l.tags[l.tags.length-1].nextElementSibling;l.before=d,l.flush()}t.insert("",o,l,!1)},[t,o.name]),null});function Ur(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ct(t)}function ls(){var e=Ur.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var cs=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,us=wr(function(e){return cs.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),ds=us,fs=function(t){return t!=="theme"},Yr=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?ds:fs},Vr=function(t,r,o){var s;if(r){var i=r.shouldForwardProp;s=t.__emotion_forwardProp&&i?function(l){return t.__emotion_forwardProp(l)&&i(l)}:i}return typeof s!="function"&&o&&(s=t.__emotion_forwardProp),s},ps=function(t){var r=t.cache,o=t.serialized,s=t.isStringTag;return Mn(r,o,s),zr(function(){return In(r,o,s)}),null},gs=function e(t,r){var o=t.__emotion_real===t,s=o&&t.__emotion_base||t,i,l;r!==void 0&&(i=r.label,l=r.target);var u=Vr(t,r,o),d=u||Yr(s),c=!d("as");return function(){var p=arguments,m=o&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&m.push("label:"+i+";"),p[0]==null||p[0].raw===void 0)m.push.apply(m,p);else{var v=p[0];m.push(v[0]);for(var h=p.length,x=1;x<h;x++)m.push(p[x],v[x])}var f=Pn(function(b,O,y){var w=c&&b.as||s,S="",A=[],$=b;if(b.theme==null){$={};for(var T in b)$[T]=b[T];$.theme=Z.useContext(Ht)}typeof b.className=="string"?S=$r(O.registered,A,b.className):b.className!=null&&(S=b.className+" ");var C=Ct(m.concat(A),O.registered,$);S+=O.key+"-"+C.name,l!==void 0&&(S+=" "+l);var P=c&&u===void 0?Yr(w):d,k={};for(var F in b)c&&F==="as"||P(F)&&(k[F]=b[F]);return k.className=S,y&&(k.ref=y),Z.createElement(Z.Fragment,null,Z.createElement(ps,{cache:O,serialized:C,isStringTag:typeof w=="string"}),Z.createElement(w,k))});return f.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",f.defaultProps=t.defaultProps,f.__emotion_real=f,f.__emotion_base=s,f.__emotion_styles=m,f.__emotion_forwardProp=u,Object.defineProperty(f,"toString",{value:function(){return"."+l}}),f.withComponent=function(b,O){var y=e(b,R({},r,O,{shouldForwardProp:Vr(f,O,!0)}));return y.apply(void 0,m)},f}},ms=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Fn=gs.bind(null);ms.forEach(function(e){Fn[e]=Fn(e)});function hs(e,t){const r=Ir({key:"css",prepend:e});if(t){const o=r.insert;r.insert=(...s)=>(s[1].styles.match(/^@layer\s+[^{]*$/)||(s[1].styles=`@layer mui {${s[1].styles}}`),o(...s))}return r}const Dn=new Map;function Hr(e){const{injectFirst:t,enableCssLayer:r,children:o}=e,s=Z.useMemo(()=>{const i=`${t}-${r}`;if(typeof document=="object"&&Dn.has(i))return Dn.get(i);const l=hs(t,r);return Dn.set(i,l),l},[t,r]);return t||r?ie.jsx(ns,{value:s,children:o}):o}Hr.propTypes={children:G.node,enableCssLayer:G.bool,injectFirst:G.bool};function ys(e){return e==null||Object.keys(e).length===0}function qr(e){const{styles:t,defaultTheme:r={}}=e,o=typeof t=="function"?s=>t(ys(s)?r:s):t;return ie.jsx(is,{styles:o})}qr.propTypes={defaultTheme:G.object,styles:G.oneOfType([G.array,G.string,G.object,G.func])};function bs(e,t){const r=Fn(e,t);return(...o)=>{const s=typeof e=="string"?`"${e}"`:"component";return o.length===0?console.error([`MUI: Seems like you called \`styled(${s})()\` without a \`style\` argument.`,'You must provide a `styles` argument: `styled("div")(styleYouForgotToPass)`.'].join(`
`)):o.some(i=>i===void 0)&&console.error(`MUI: the styled(${s})(...args) API requires all its args to be defined.`),r(...o)}}const xs=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Kr=[];function vs(e){return Kr[0]=e,Ct(Kr)}const Es=Ue(Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:qr,StyledEngineProvider:Hr,ThemeContext:Ht,css:Ur,default:bs,internal_processStyles:xs,internal_serializeStyles:vs,keyframes:ls},Symbol.toStringTag,{value:"Module"})));function Ve(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Xr(e){if(Z.isValidElement(e)||!Ve(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=Xr(e[r])}),t}function _t(e,t,r={clone:!0}){const o=r.clone?R({},e):e;return Ve(e)&&Ve(t)&&Object.keys(t).forEach(s=>{Z.isValidElement(t[s])?o[s]=t[s]:Ve(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&Ve(e[s])?o[s]=_t(e[s],t[s],r):r.clone?o[s]=Ve(t[s])?Xr(t[s]):t[s]:o[s]=t[s]}),o}const Ss=Ue(Object.freeze(Object.defineProperty({__proto__:null,default:_t,isPlainObject:Ve},Symbol.toStringTag,{value:"Module"})));function Ts(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Cs=Object.freeze(Object.defineProperty({__proto__:null,default:Ts},Symbol.toStringTag,{value:"Module"}));function Ln(e){if(typeof e!="string")throw new Error("MUI: `capitalize(string)` expects a string argument.");return e.charAt(0).toUpperCase()+e.slice(1)}const _s=Ue(Object.freeze(Object.defineProperty({__proto__:null,default:Ln},Symbol.toStringTag,{value:"Module"})));var Qr={exports:{}},re={};/**
 * @license React
 * react-is.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function e(f){if(typeof f=="object"&&f!==null){var b=f.$$typeof;switch(b){case t:switch(f=f.type,f){case o:case i:case s:case c:case p:case h:return f;default:switch(f=f&&f.$$typeof,f){case u:case d:case v:case m:return f;case l:return f;default:return b}}case r:return b}}}var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");re.ContextConsumer=l,re.ContextProvider=u,re.Element=t,re.ForwardRef=d,re.Fragment=o,re.Lazy=v,re.Memo=m,re.Portal=r,re.Profiler=i,re.StrictMode=s,re.Suspense=c,re.SuspenseList=p,re.isContextConsumer=function(f){return e(f)===l},re.isContextProvider=function(f){return e(f)===u},re.isElement=function(f){return typeof f=="object"&&f!==null&&f.$$typeof===t},re.isForwardRef=function(f){return e(f)===d},re.isFragment=function(f){return e(f)===o},re.isLazy=function(f){return e(f)===v},re.isMemo=function(f){return e(f)===m},re.isPortal=function(f){return e(f)===r},re.isProfiler=function(f){return e(f)===i},re.isStrictMode=function(f){return e(f)===s},re.isSuspense=function(f){return e(f)===c},re.isSuspenseList=function(f){return e(f)===p},re.isValidElementType=function(f){return typeof f=="string"||typeof f=="function"||f===o||f===i||f===s||f===c||f===p||typeof f=="object"&&f!==null&&(f.$$typeof===v||f.$$typeof===m||f.$$typeof===u||f.$$typeof===l||f.$$typeof===d||f.$$typeof===x||f.getModuleId!==void 0)},re.typeOf=e})(),Qr.exports=re;var Jr=Qr.exports;const ws=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Zr(e){const t=`${e}`.match(ws);return t&&t[1]||""}function Rr(e,t=""){return e.displayName||e.name||Zr(e)||t}function eo(e,t,r){const o=Rr(t);return e.displayName||(o!==""?`${r}(${o})`:r)}function Os(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return Rr(e,"Component");if(typeof e=="object")switch(e.$$typeof){case Jr.ForwardRef:return eo(e,e.render,"ForwardRef");case Jr.Memo:return eo(e,e.type,"memo");default:return}}}const Ms=Ue(Object.freeze(Object.defineProperty({__proto__:null,default:Os,getFunctionName:Zr},Symbol.toStringTag,{value:"Module"}))),Is=["values","unit","step"],ks=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,o)=>r.val-o.val),t.reduce((r,o)=>R({},r,{[o.key]:o.val}),{})};function to(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:o=5}=e,s=Ye(e,Is),i=ks(t),l=Object.keys(i);function u(v){return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${r})`}function d(v){return`@media (max-width:${(typeof t[v]=="number"?t[v]:v)-o/100}${r})`}function c(v,h){const x=l.indexOf(h);return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${r}) and (max-width:${(x!==-1&&typeof t[l[x]]=="number"?t[l[x]]:h)-o/100}${r})`}function p(v){return l.indexOf(v)+1<l.length?c(v,l[l.indexOf(v)+1]):u(v)}function m(v){const h=l.indexOf(v);return h===0?u(l[1]):h===l.length-1?d(l[h]):c(v,l[l.indexOf(v)+1]).replace("@media","@media not all and")}return R({keys:l,values:i,up:u,down:d,between:c,only:p,not:m,unit:r},s)}const Ps={borderRadius:4},He=G.oneOfType([G.number,G.string,G.object,G.array]);function wt(e,t){return t?_t(e,t,{clone:!1}):e}const jn={xs:0,sm:600,md:900,lg:1200,xl:1536},no={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${jn[e]}px)`};function Be(e,t,r){const o=e.theme||{};if(Array.isArray(t)){const i=o.breakpoints||no;return t.reduce((l,u,d)=>(l[i.up(i.keys[d])]=r(t[d]),l),{})}if(typeof t=="object"){const i=o.breakpoints||no;return Object.keys(t).reduce((l,u)=>{if(Object.keys(i.values||jn).indexOf(u)!==-1){const d=i.up(u);l[d]=r(t[u],u)}else{const d=u;l[d]=t[d]}return l},{})}return r(t)}function As(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((o,s)=>{const i=e.up(s);return o[i]={},o},{}))||{}}function ro(e,t){return e.reduce((r,o)=>{const s=r[o];return(!s||Object.keys(s).length===0)&&delete r[o],r},t)}function qt(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const o=`vars.${t}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,e);if(o!=null)return o}return t.split(".").reduce((o,s)=>o&&o[s]!=null?o[s]:null,e)}function Kt(e,t,r,o=r){let s;return typeof e=="function"?s=e(r):Array.isArray(e)?s=e[r]||o:s=qt(e,r)||o,t&&(s=t(s,o,e)),s}function ue(e){const{prop:t,cssProperty:r=e.prop,themeKey:o,transform:s}=e,i=l=>{if(l[t]==null)return null;const u=l[t],d=l.theme,c=qt(d,o)||{};return Be(l,u,m=>{let v=Kt(c,s,m);return m===v&&typeof m=="string"&&(v=Kt(c,s,`${t}${m==="default"?"":Ln(m)}`,m)),r===!1?v:{[r]:v}})};return i.propTypes={[t]:He},i.filterProps=[t],i}function $s(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const Fs={m:"margin",p:"padding"},Ds={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},oo={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ls=$s(e=>{if(e.length>2)if(oo[e])e=oo[e];else return[e];const[t,r]=e.split(""),o=Fs[t],s=Ds[r]||"";return Array.isArray(s)?s.map(i=>o+i):[o+s]}),Xt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Qt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],js=[...Xt,...Qt];function Ot(e,t,r,o){var s;const i=(s=qt(e,t,!1))!=null?s:r;return typeof i=="number"?l=>typeof l=="string"?l:(typeof l!="number"&&console.error(`MUI: Expected ${o} argument to be a number or a string, got ${l}.`),i*l):Array.isArray(i)?l=>typeof l=="string"?l:(Number.isInteger(l)?l>i.length-1&&console.error([`MUI: The value provided (${l}) overflows.`,`The supported values are: ${JSON.stringify(i)}.`,`${l} > ${i.length-1}, you need to add the missing values.`].join(`
`)):console.error([`MUI: The \`theme.${t}\` array type cannot be combined with non integer values.You should either use an integer value that can be used as index, or define the \`theme.${t}\` as a number.`].join(`
`)),i[l]):typeof i=="function"?i:(console.error([`MUI: The \`theme.${t}\` value (${i}) is invalid.`,"It should be a number, an array or a function."].join(`
`)),()=>{})}function ao(e){return Ot(e,"spacing",8,"spacing")}function Mt(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),o=e(r);return t>=0?o:typeof o=="number"?-o:`-${o}`}function Ns(e,t){return r=>e.reduce((o,s)=>(o[s]=Mt(t,r),o),{})}function zs(e,t,r,o){if(t.indexOf(r)===-1)return null;const s=Ls(r),i=Ns(s,o),l=e[r];return Be(e,l,i)}function so(e,t){const r=ao(e.theme);return Object.keys(e).map(o=>zs(e,t,o,r)).reduce(wt,{})}function le(e){return so(e,Xt)}le.propTypes=Xt.reduce((e,t)=>(e[t]=He,e),{}),le.filterProps=Xt;function ce(e){return so(e,Qt)}ce.propTypes=Qt.reduce((e,t)=>(e[t]=He,e),{}),ce.filterProps=Qt,js.reduce((e,t)=>(e[t]=He,e),{});function Bs(e=8){if(e.mui)return e;const t=ao({spacing:e}),r=(...o)=>(o.length<=4||console.error(`MUI: Too many arguments provided, expected between 0 and 4, got ${o.length}`),(o.length===0?[1]:o).map(i=>{const l=t(i);return typeof l=="number"?`${l}px`:l}).join(" "));return r.mui=!0,r}function Jt(...e){const t=e.reduce((o,s)=>(s.filterProps.forEach(i=>{o[i]=s}),o),{}),r=o=>Object.keys(o).reduce((s,i)=>t[i]?wt(s,t[i](o)):s,{});return r.propTypes=e.reduce((o,s)=>Object.assign(o,s.propTypes),{}),r.filterProps=e.reduce((o,s)=>o.concat(s.filterProps),[]),r}function Me(e){return typeof e!="number"?e:`${e}px solid`}function Ie(e,t){return ue({prop:e,themeKey:"borders",transform:t})}const Ws=Ie("border",Me),Gs=Ie("borderTop",Me),Us=Ie("borderRight",Me),Ys=Ie("borderBottom",Me),Vs=Ie("borderLeft",Me),Hs=Ie("borderColor"),qs=Ie("borderTopColor"),Ks=Ie("borderRightColor"),Xs=Ie("borderBottomColor"),Qs=Ie("borderLeftColor"),Js=Ie("outline",Me),Zs=Ie("outlineColor"),Zt=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Ot(e.theme,"shape.borderRadius",4,"borderRadius"),r=o=>({borderRadius:Mt(t,o)});return Be(e,e.borderRadius,r)}return null};Zt.propTypes={borderRadius:He},Zt.filterProps=["borderRadius"],Jt(Ws,Gs,Us,Ys,Vs,Hs,qs,Ks,Xs,Qs,Zt,Js,Zs);const Rt=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Ot(e.theme,"spacing",8,"gap"),r=o=>({gap:Mt(t,o)});return Be(e,e.gap,r)}return null};Rt.propTypes={gap:He},Rt.filterProps=["gap"];const en=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Ot(e.theme,"spacing",8,"columnGap"),r=o=>({columnGap:Mt(t,o)});return Be(e,e.columnGap,r)}return null};en.propTypes={columnGap:He},en.filterProps=["columnGap"];const tn=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Ot(e.theme,"spacing",8,"rowGap"),r=o=>({rowGap:Mt(t,o)});return Be(e,e.rowGap,r)}return null};tn.propTypes={rowGap:He},tn.filterProps=["rowGap"];const Rs=ue({prop:"gridColumn"}),ei=ue({prop:"gridRow"}),ti=ue({prop:"gridAutoFlow"}),ni=ue({prop:"gridAutoColumns"}),ri=ue({prop:"gridAutoRows"}),oi=ue({prop:"gridTemplateColumns"}),ai=ue({prop:"gridTemplateRows"}),si=ue({prop:"gridTemplateAreas"}),ii=ue({prop:"gridArea"});Jt(Rt,en,tn,Rs,ei,ti,ni,ri,oi,ai,si,ii);function at(e,t){return t==="grey"?t:e}const li=ue({prop:"color",themeKey:"palette",transform:at}),ci=ue({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:at}),ui=ue({prop:"backgroundColor",themeKey:"palette",transform:at});Jt(li,ci,ui);function Oe(e){return e<=1&&e!==0?`${e*100}%`:e}const di=ue({prop:"width",transform:Oe}),Nn=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var o,s;const i=((o=e.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[r])||jn[r];return i?((s=e.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Oe(r)}};return Be(e,e.maxWidth,t)}return null};Nn.filterProps=["maxWidth"];const fi=ue({prop:"minWidth",transform:Oe}),pi=ue({prop:"height",transform:Oe}),gi=ue({prop:"maxHeight",transform:Oe}),mi=ue({prop:"minHeight",transform:Oe});ue({prop:"size",cssProperty:"width",transform:Oe}),ue({prop:"size",cssProperty:"height",transform:Oe});const hi=ue({prop:"boxSizing"});Jt(di,Nn,fi,pi,gi,mi,hi);const It={border:{themeKey:"borders",transform:Me},borderTop:{themeKey:"borders",transform:Me},borderRight:{themeKey:"borders",transform:Me},borderBottom:{themeKey:"borders",transform:Me},borderLeft:{themeKey:"borders",transform:Me},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Me},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Zt},color:{themeKey:"palette",transform:at},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:at},backgroundColor:{themeKey:"palette",transform:at},p:{style:ce},pt:{style:ce},pr:{style:ce},pb:{style:ce},pl:{style:ce},px:{style:ce},py:{style:ce},padding:{style:ce},paddingTop:{style:ce},paddingRight:{style:ce},paddingBottom:{style:ce},paddingLeft:{style:ce},paddingX:{style:ce},paddingY:{style:ce},paddingInline:{style:ce},paddingInlineStart:{style:ce},paddingInlineEnd:{style:ce},paddingBlock:{style:ce},paddingBlockStart:{style:ce},paddingBlockEnd:{style:ce},m:{style:le},mt:{style:le},mr:{style:le},mb:{style:le},ml:{style:le},mx:{style:le},my:{style:le},margin:{style:le},marginTop:{style:le},marginRight:{style:le},marginBottom:{style:le},marginLeft:{style:le},marginX:{style:le},marginY:{style:le},marginInline:{style:le},marginInlineStart:{style:le},marginInlineEnd:{style:le},marginBlock:{style:le},marginBlockStart:{style:le},marginBlockEnd:{style:le},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Rt},rowGap:{style:tn},columnGap:{style:en},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Oe},maxWidth:{style:Nn},minWidth:{transform:Oe},height:{transform:Oe},maxHeight:{transform:Oe},minHeight:{transform:Oe},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function yi(...e){const t=e.reduce((o,s)=>o.concat(Object.keys(s)),[]),r=new Set(t);return e.every(o=>r.size===Object.keys(o).length)}function bi(e,t){return typeof e=="function"?e(t):e}function io(){function e(r,o,s,i){const l={[r]:o,theme:s},u=i[r];if(!u)return{[r]:o};const{cssProperty:d=r,themeKey:c,transform:p,style:m}=u;if(o==null)return null;if(c==="typography"&&o==="inherit")return{[r]:o};const v=qt(s,c)||{};return m?m(l):Be(l,o,x=>{let f=Kt(v,p,x);return x===f&&typeof x=="string"&&(f=Kt(v,p,`${r}${x==="default"?"":Ln(x)}`,x)),d===!1?f:{[d]:f}})}function t(r){var o;const{sx:s,theme:i={},nested:l}=r||{};if(!s)return null;const u=(o=i.unstable_sxConfig)!=null?o:It;function d(c){let p=c;if(typeof c=="function")p=c(i);else if(typeof c!="object")return c;if(!p)return null;const m=As(i.breakpoints),v=Object.keys(m);let h=m;return Object.keys(p).forEach(x=>{const f=bi(p[x],i);if(f!=null)if(typeof f=="object")if(u[x])h=wt(h,e(x,f,i,u));else{const b=Be({theme:i},f,O=>({[x]:O}));yi(b,f)?h[x]=t({sx:f,theme:i,nested:!0}):h=wt(h,b)}else h=wt(h,e(x,f,i,u))}),!l&&i.modularCssLayers?{"@layer sx":ro(v,h)}:ro(v,h)}return Array.isArray(s)?s.map(d):d(s)}return t}const nn=io();nn.filterProps=["sx"];function lo(e,t){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:r.palette.mode===e?t:{}}const xi=["breakpoints","palette","spacing","shape"];function co(e={},...t){const{breakpoints:r={},palette:o={},spacing:s,shape:i={}}=e,l=Ye(e,xi),u=to(r),d=Bs(s);let c=_t({breakpoints:u,direction:"ltr",components:{},palette:R({mode:"light"},o),spacing:d,shape:R({},Ps,i)},l);return c.applyStyles=lo,c=t.reduce((p,m)=>_t(p,m),c),c.unstable_sxConfig=R({},It,l==null?void 0:l.unstable_sxConfig),c.unstable_sx=function(m){return nn({sx:m,theme:this})},c}const vi=Ue(Object.freeze(Object.defineProperty({__proto__:null,default:co,private_createBreakpoints:to,unstable_applyStyles:lo},Symbol.toStringTag,{value:"Module"}))),Ei=["sx"],Si=e=>{var t,r;const o={systemProps:{},otherProps:{}},s=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:It;return Object.keys(e).forEach(i=>{s[i]?o.systemProps[i]=e[i]:o.otherProps[i]=e[i]}),o};function Ti(e){const{sx:t}=e,r=Ye(e,Ei),{systemProps:o,otherProps:s}=Si(r);let i;return Array.isArray(t)?i=[o,...t]:typeof t=="function"?i=(...l)=>{const u=t(...l);return Ve(u)?R({},o,u):o}:i=R({},o,t),R({},s,{sx:i})}const Ci=Ue(Object.freeze(Object.defineProperty({__proto__:null,default:nn,extendSxProp:Ti,unstable_createStyleFunctionSx:io,unstable_defaultSxConfig:It},Symbol.toStringTag,{value:"Module"})));var st=gr;Object.defineProperty(bt,"__esModule",{value:!0});var _i=bt.default=zi;bt.shouldForwardProp=on,bt.systemDefaultTheme=void 0;var ke=st(hr()),zn=st(ya()),rn=Fi(Es),wi=Ss,Oi=st(_s),Mi=st(Ms),Ii=st(vi),ki=st(Ci);const Pi=["ownerState"],Ai=["variants"],$i=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function uo(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(uo=function(o){return o?r:t})(e)}function Fi(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=uo(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}function Di(e){return Object.keys(e).length===0}function Li(e){return typeof e=="string"&&e.charCodeAt(0)>96}function on(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function fo(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const ji=bt.systemDefaultTheme=(0,Ii.default)(),po=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function an({defaultTheme:e,theme:t,themeId:r}){return Di(t)?e:t[r]||t}function Ni(e){return e?(t,r)=>r[e]:null}function sn(e,t,r){let{ownerState:o}=t,s=(0,zn.default)(t,Pi);const i=typeof e=="function"?e((0,ke.default)({ownerState:o},s)):e;if(Array.isArray(i))return i.flatMap(l=>sn(l,(0,ke.default)({ownerState:o},s),r));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:l=[]}=i;let d=(0,zn.default)(i,Ai);return l.forEach(c=>{let p=!0;if(typeof c.props=="function"?p=c.props((0,ke.default)({ownerState:o},s,o)):Object.keys(c.props).forEach(m=>{(o==null?void 0:o[m])!==c.props[m]&&s[m]!==c.props[m]&&(p=!1)}),p){Array.isArray(d)||(d=[d]);const m=typeof c.style=="function"?c.style((0,ke.default)({ownerState:o},s,o)):c.style;d.push(r?fo((0,rn.internal_serializeStyles)(m),r):m)}}),d}return r?fo((0,rn.internal_serializeStyles)(i),r):i}function zi(e={}){const{themeId:t,defaultTheme:r=ji,rootShouldForwardProp:o=on,slotShouldForwardProp:s=on}=e,i=l=>(0,ki.default)((0,ke.default)({},l,{theme:an((0,ke.default)({},l,{defaultTheme:r,themeId:t}))}));return i.__mui_systemSx=!0,(l,u={})=>{(0,rn.internal_processStyles)(l,$=>$.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:d,slot:c,skipVariantsResolver:p,skipSx:m,overridesResolver:v=Ni(po(c))}=u,h=(0,zn.default)(u,$i),x=d&&d.startsWith("Mui")||c?"components":"custom",f=p!==void 0?p:c&&c!=="Root"&&c!=="root"||!1,b=m||!1;let O;d&&(O=`${d}-${po(c||"Root")}`);let y=on;c==="Root"||c==="root"?y=o:c?y=s:Li(l)&&(y=void 0);const w=(0,rn.default)(l,(0,ke.default)({shouldForwardProp:y,label:O},h)),S=$=>typeof $=="function"&&$.__emotion_real!==$||(0,wi.isPlainObject)($)?T=>{const C=an({theme:T.theme,defaultTheme:r,themeId:t});return sn($,(0,ke.default)({},T,{theme:C}),C.modularCssLayers?x:void 0)}:$,A=($,...T)=>{let C=S($);const P=T?T.map(S):[];d&&v&&P.push(U=>{const E=an((0,ke.default)({},U,{defaultTheme:r,themeId:t}));if(!E.components||!E.components[d]||!E.components[d].styleOverrides)return null;const M=E.components[d].styleOverrides,L={};return Object.entries(M).forEach(([z,j])=>{L[z]=sn(j,(0,ke.default)({},U,{theme:E}),E.modularCssLayers?"theme":void 0)}),v(U,L)}),d&&!f&&P.push(U=>{var E;const M=an((0,ke.default)({},U,{defaultTheme:r,themeId:t})),L=M==null||(E=M.components)==null||(E=E[d])==null?void 0:E.variants;return sn({variants:L},(0,ke.default)({},U,{theme:M}),M.modularCssLayers?"theme":void 0)}),b||P.push(i);const k=P.length-T.length;if(Array.isArray($)&&k>0){const U=new Array(k).fill("");C=[...$,...U],C.raw=[...$.raw,...U]}const F=w(C,...P);{let U;d&&(U=`${d}${(0,Oi.default)(c||"")}`),U===void 0&&(U=`Styled(${(0,Mi.default)(l)})`),F.displayName=U}return l.muiName&&(F.muiName=l.muiName),F};return w.withConfig&&(A.withConfig=w.withConfig),A}}function Bi(e,t){return R({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var de={};const Wi=Ue(Cs);function Gi(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}const Ui=Ue(Object.freeze(Object.defineProperty({__proto__:null,default:Gi},Symbol.toStringTag,{value:"Module"})));var go=gr;Object.defineProperty(de,"__esModule",{value:!0}),de.alpha=xo,de.blend=tl,de.colorChannel=void 0;var Yi=de.darken=Wn;de.decomposeColor=Pe,de.emphasize=vo;var mo=de.getContrastRatio=Qi;de.getLuminance=ln,de.hexToRgb=ho,de.hslToRgb=bo;var Vi=de.lighten=Gn;de.private_safeAlpha=Ji,de.private_safeColorChannel=void 0,de.private_safeDarken=Zi,de.private_safeEmphasize=el,de.private_safeLighten=Ri,de.recomposeColor=it,de.rgbToHex=Xi,go(Wi);var Hi=go(Ui);function Bn(e,t=0,r=1){return(e<t||e>r)&&console.error(`MUI: The value provided ${e} is out of range [${t}, ${r}].`),(0,Hi.default)(e,t,r)}function ho(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(o=>o+o)),r?`rgb${r.length===4?"a":""}(${r.map((o,s)=>s<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function qi(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Pe(e){if(e.type)return e;if(e.charAt(0)==="#")return Pe(ho(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(`MUI: Unsupported \`${e}\` color.
The following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().`);let o=e.substring(t+1,e.length-1),s;if(r==="color"){if(o=o.split(" "),s=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(`MUI: unsupported \`${s}\` color space.
The following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020.`)}else o=o.split(",");return o=o.map(i=>parseFloat(i)),{type:r,values:o,colorSpace:s}}const yo=e=>{const t=Pe(e);return t.values.slice(0,3).map((r,o)=>t.type.indexOf("hsl")!==-1&&o!==0?`${r}%`:r).join(" ")};de.colorChannel=yo;const Ki=(e,t)=>{try{return yo(e)}catch{return t&&console.warn(t),e}};de.private_safeColorChannel=Ki;function it(e){const{type:t,colorSpace:r}=e;let{values:o}=e;return t.indexOf("rgb")!==-1?o=o.map((s,i)=>i<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),t.indexOf("color")!==-1?o=`${r} ${o.join(" ")}`:o=`${o.join(", ")}`,`${t}(${o})`}function Xi(e){if(e.indexOf("#")===0)return e;const{values:t}=Pe(e);return`#${t.map((r,o)=>qi(o===3?Math.round(255*r):r)).join("")}`}function bo(e){e=Pe(e);const{values:t}=e,r=t[0],o=t[1]/100,s=t[2]/100,i=o*Math.min(s,1-s),l=(c,p=(c+r/30)%12)=>s-i*Math.max(Math.min(p-3,9-p,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return e.type==="hsla"&&(u+="a",d.push(t[3])),it({type:u,values:d})}function ln(e){e=Pe(e);let t=e.type==="hsl"||e.type==="hsla"?Pe(bo(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Qi(e,t){const r=ln(e),o=ln(t);return(Math.max(r,o)+.05)/(Math.min(r,o)+.05)}function xo(e,t){return e=Pe(e),t=Bn(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,it(e)}function Ji(e,t,r){try{return xo(e,t)}catch{return r&&console.warn(r),e}}function Wn(e,t){if(e=Pe(e),t=Bn(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return it(e)}function Zi(e,t,r){try{return Wn(e,t)}catch{return r&&console.warn(r),e}}function Gn(e,t){if(e=Pe(e),t=Bn(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return it(e)}function Ri(e,t,r){try{return Gn(e,t)}catch{return r&&console.warn(r),e}}function vo(e,t=.15){return ln(e)>.5?Wn(e,t):Gn(e,t)}function el(e,t,r){try{return vo(e,t)}catch{return r&&console.warn(r),e}}function tl(e,t,r,o=1){const s=(d,c)=>Math.round((d**(1/o)*(1-r)+c**(1/o)*r)**o),i=Pe(e),l=Pe(t),u=[s(i.values[0],l.values[0]),s(i.values[1],l.values[1]),s(i.values[2],l.values[2])];return it({type:"rgb",values:u})}const kt={black:"#000",white:"#fff"},nl={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},lt={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ct={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Pt={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},ut={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},dt={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},ft={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},rl=["mode","contrastThreshold","tonalOffset"],Eo={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:kt.white,default:kt.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Un={text:{primary:kt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:kt.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function So(e,t,r,o){const s=o.light||o,i=o.dark||o*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=Vi(e.main,s):t==="dark"&&(e.dark=Yi(e.main,i)))}function ol(e="light"){return e==="dark"?{main:ut[200],light:ut[50],dark:ut[400]}:{main:ut[700],light:ut[400],dark:ut[800]}}function al(e="light"){return e==="dark"?{main:lt[200],light:lt[50],dark:lt[400]}:{main:lt[500],light:lt[300],dark:lt[700]}}function sl(e="light"){return e==="dark"?{main:ct[500],light:ct[300],dark:ct[700]}:{main:ct[700],light:ct[400],dark:ct[800]}}function il(e="light"){return e==="dark"?{main:dt[400],light:dt[300],dark:dt[700]}:{main:dt[700],light:dt[500],dark:dt[900]}}function ll(e="light"){return e==="dark"?{main:ft[400],light:ft[300],dark:ft[700]}:{main:ft[800],light:ft[500],dark:ft[900]}}function cl(e="light"){return e==="dark"?{main:Pt[400],light:Pt[300],dark:Pt[700]}:{main:"#ed6c02",light:Pt[500],dark:Pt[900]}}function ul(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:o=.2}=e,s=Ye(e,rl),i=e.primary||ol(t),l=e.secondary||al(t),u=e.error||sl(t),d=e.info||il(t),c=e.success||ll(t),p=e.warning||cl(t);function m(f){const b=mo(f,Un.text.primary)>=r?Un.text.primary:Eo.text.primary;{const O=mo(f,b);O<3&&console.error([`MUI: The contrast ratio of ${O}:1 for ${b} on ${f}`,"falls below the WCAG recommended absolute minimum contrast ratio of 3:1.","https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast"].join(`
`))}return b}const v=({color:f,name:b,mainShade:O=500,lightShade:y=300,darkShade:w=700})=>{if(f=R({},f),!f.main&&f[O]&&(f.main=f[O]),!f.hasOwnProperty("main"))throw new Error(`MUI: The color${b?` (${b})`:""} provided to augmentColor(color) is invalid.
The color object needs to have a \`main\` property or a \`${O}\` property.`);if(typeof f.main!="string")throw new Error(`MUI: The color${b?` (${b})`:""} provided to augmentColor(color) is invalid.
\`color.main\` should be a string, but \`${JSON.stringify(f.main)}\` was provided instead.

Did you intend to use one of the following approaches?

import { green } from "@mui/material/colors";

const theme1 = createTheme({ palette: {
  primary: green,
} });

const theme2 = createTheme({ palette: {
  primary: { main: green[500] },
} });`);return So(f,"light",y,o),So(f,"dark",w,o),f.contrastText||(f.contrastText=m(f.main)),f},h={dark:Un,light:Eo};return h[t]||console.error(`MUI: The palette mode \`${t}\` is not supported.`),Re(R({common:R({},kt),mode:t,primary:v({color:i,name:"primary"}),secondary:v({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:u,name:"error"}),warning:v({color:p,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:c,name:"success"}),grey:nl,contrastThreshold:r,getContrastText:m,augmentColor:v,tonalOffset:o},h[t]),s)}const dl=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function fl(e){return Math.round(e*1e5)/1e5}const To={textTransform:"uppercase"},Co='"Roboto", "Helvetica", "Arial", sans-serif';function pl(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:o=Co,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:l=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:c=16,allVariants:p,pxToRem:m}=r,v=Ye(r,dl);typeof s!="number"&&console.error("MUI: `fontSize` is required to be a number."),typeof c!="number"&&console.error("MUI: `htmlFontSize` is required to be a number.");const h=s/14,x=m||(O=>`${O/c*h}rem`),f=(O,y,w,S,A)=>R({fontFamily:o,fontWeight:O,fontSize:x(y),lineHeight:w},o===Co?{letterSpacing:`${fl(S/y)}em`}:{},A,p),b={h1:f(i,96,1.167,-1.5),h2:f(i,60,1.2,-.5),h3:f(l,48,1.167,0),h4:f(l,34,1.235,.25),h5:f(l,24,1.334,0),h6:f(u,20,1.6,.15),subtitle1:f(l,16,1.75,.15),subtitle2:f(u,14,1.57,.1),body1:f(l,16,1.5,.15),body2:f(l,14,1.43,.15),button:f(u,14,1.75,.4,To),caption:f(l,12,1.66,.4),overline:f(l,12,2.66,1,To),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Re(R({htmlFontSize:c,pxToRem:x,fontFamily:o,fontSize:s,fontWeightLight:i,fontWeightRegular:l,fontWeightMedium:u,fontWeightBold:d},b),v,{clone:!1})}const gl=.2,ml=.14,hl=.12;function se(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${gl})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${ml})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${hl})`].join(",")}const yl=["none",se(0,2,1,-1,0,1,1,0,0,1,3,0),se(0,3,1,-2,0,2,2,0,0,1,5,0),se(0,3,3,-2,0,3,4,0,0,1,8,0),se(0,2,4,-1,0,4,5,0,0,1,10,0),se(0,3,5,-1,0,5,8,0,0,1,14,0),se(0,3,5,-1,0,6,10,0,0,1,18,0),se(0,4,5,-2,0,7,10,1,0,2,16,1),se(0,5,5,-3,0,8,10,1,0,3,14,2),se(0,5,6,-3,0,9,12,1,0,3,16,2),se(0,6,6,-3,0,10,14,1,0,4,18,3),se(0,6,7,-4,0,11,15,1,0,4,20,3),se(0,7,8,-4,0,12,17,2,0,5,22,4),se(0,7,8,-4,0,13,19,2,0,5,24,4),se(0,7,9,-4,0,14,21,2,0,5,26,4),se(0,8,9,-5,0,15,22,2,0,6,28,5),se(0,8,10,-5,0,16,24,2,0,6,30,5),se(0,8,11,-5,0,17,26,2,0,6,32,5),se(0,9,11,-5,0,18,28,2,0,7,34,6),se(0,9,12,-6,0,19,29,2,0,7,36,6),se(0,10,13,-6,0,20,31,3,0,8,38,7),se(0,10,13,-6,0,21,33,3,0,8,40,7),se(0,10,14,-6,0,22,35,3,0,8,42,7),se(0,11,14,-7,0,23,36,3,0,9,44,8),se(0,11,15,-7,0,24,38,3,0,9,46,8)],bl=["duration","easing","delay"],xl={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},vl={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _o(e){return`${Math.round(e)}ms`}function El(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Sl(e){const t=R({},xl,e.easing),r=R({},vl,e.duration);return R({getAutoHeightDuration:El,create:(s=["all"],i={})=>{const{duration:l=r.standard,easing:u=t.easeInOut,delay:d=0}=i,c=Ye(i,bl);{const p=v=>typeof v=="string",m=v=>!isNaN(parseFloat(v));!p(s)&&!Array.isArray(s)&&console.error('MUI: Argument "props" must be a string or Array.'),!m(l)&&!p(l)&&console.error(`MUI: Argument "duration" must be a number or a string but found ${l}.`),p(u)||console.error('MUI: Argument "easing" must be a string.'),!m(d)&&!p(d)&&console.error('MUI: Argument "delay" must be a number or a string.'),typeof i!="object"&&console.error(["MUI: Secong argument of transition.create must be an object.","Arguments should be either `create('prop1', options)` or `create(['prop1', 'prop2'], options)`"].join(`
`)),Object.keys(c).length!==0&&console.error(`MUI: Unrecognized argument(s) [${Object.keys(c).join(",")}].`)}return(Array.isArray(s)?s:[s]).map(p=>`${p} ${typeof l=="string"?l:_o(l)} ${u} ${typeof d=="string"?d:_o(d)}`).join(",")}},e,{easing:t,duration:r})}const Tl={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Cl=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function _l(e={},...t){const{mixins:r={},palette:o={},transitions:s={},typography:i={}}=e,l=Ye(e,Cl);if(e.vars&&e.generateCssVars===void 0)throw new Error("MUI: `vars` is a private field used for CSS variables support.\nPlease use another name.");const u=ul(o),d=co(e);let c=Re(d,{mixins:Bi(d.breakpoints,r),palette:u,shadows:yl.slice(),typography:pl(u,i),transitions:Sl(s),zIndex:R({},Tl)});c=Re(c,l),c=t.reduce((p,m)=>Re(p,m),c);{const p=["active","checked","completed","disabled","error","expanded","focused","focusVisible","required","selected"],m=(v,h)=>{let x;for(x in v){const f=v[x];if(p.indexOf(x)!==-1&&Object.keys(f).length>0){{const b=xn("",x);console.error([`MUI: The \`${h}\` component increases the CSS specificity of the \`${x}\` internal state.`,"You can not override it like this: ",JSON.stringify(v,null,2),"",`Instead, you need to use the '&.${b}' syntax:`,JSON.stringify({root:{[`&.${b}`]:f}},null,2),"","https://mui.com/r/state-classes-guide"].join(`
`))}v[x]={}}}};Object.keys(c.components).forEach(v=>{const h=c.components[v].styleOverrides;h&&v.indexOf("Mui")===0&&m(h,v)})}return c.unstable_sxConfig=R({},It,l==null?void 0:l.unstable_sxConfig),c.unstable_sx=function(m){return nn({sx:m,theme:this})},c}const wl=_l(),Ol="$$material";function Ml(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Il=_i({themeId:Ol,defaultTheme:wl,rootShouldForwardProp:e=>Ml(e)&&e!=="classes"});function kl(e){return xn("MuiSvgIcon",e)}da("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Pl=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Al=e=>{const{color:t,fontSize:r,classes:o}=e,s={root:["root",t!=="inherit"&&`color${Lt(t)}`,`fontSize${Lt(r)}`]};return la(s,kl,o)},$l=Il("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${Lt(r.color)}`],t[`fontSize${Lt(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,o,s,i,l,u,d,c,p,m,v,h,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(o=r.create)==null?void 0:o.call(r,"fill",{duration:(s=e.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=e.typography)==null||(l=i.pxToRem)==null?void 0:l.call(i,20))||"1.25rem",medium:((u=e.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem",large:((c=e.typography)==null||(p=c.pxToRem)==null?void 0:p.call(c,35))||"2.1875rem"}[t.fontSize],color:(m=(v=(e.vars||e).palette)==null||(v=v[t.color])==null?void 0:v.main)!=null?m:{action:(h=(e.vars||e).palette)==null||(h=h.action)==null?void 0:h.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[t.color]}}),cn=Z.forwardRef(function(t,r){const o=ha({props:t,name:"MuiSvgIcon"}),{children:s,className:i,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:c,inheritViewBox:p=!1,titleAccess:m,viewBox:v="0 0 24 24"}=o,h=Ye(o,Pl),x=Z.isValidElement(s)&&s.type==="svg",f=R({},o,{color:l,component:u,fontSize:d,instanceFontSize:t.fontSize,inheritViewBox:p,viewBox:v,hasSvgAsChild:x}),b={};p||(b.viewBox=v);const O=Al(f);return ie.jsxs($l,R({as:u,className:fa(O.root,i),focusable:"false",color:c,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:r},b,h,x&&s.props,{ownerState:f,children:[x?s.props.children:s,m?ie.jsx("title",{children:m}):null]}))});cn.propTypes={children:G.node,classes:G.object,className:G.string,color:G.oneOfType([G.oneOf(["inherit","action","disabled","primary","secondary","error","info","success","warning"]),G.string]),component:G.elementType,fontSize:G.oneOfType([G.oneOf(["inherit","large","medium","small"]),G.string]),htmlColor:G.string,inheritViewBox:G.bool,shapeRendering:G.string,sx:G.oneOfType([G.arrayOf(G.oneOfType([G.func,G.object,G.bool])),G.func,G.object]),titleAccess:G.string,viewBox:G.string},cn.muiName="SvgIcon";function be(e,t){function r(o,s){return ie.jsx(cn,R({"data-testid":`${t}Icon`,ref:s},o,{children:e}))}return r.displayName=`${t}Icon`,r.muiName=cn.muiName,Z.memo(Z.forwardRef(r))}const Yn=be(ie.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),un=be(ie.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),Fl=be(ie.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Dl=be(ie.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),dn=be(ie.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),wo=be(ie.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),Ll=be(ie.jsx("path",{d:"M4 7v2c0 .55-.45 1-1 1H2v4h1c.55 0 1 .45 1 1v2c0 1.65 1.35 3 3 3h3v-2H7c-.55 0-1-.45-1-1v-2c0-1.3-.84-2.42-2-2.83v-.34C5.16 11.42 6 10.3 6 9V7c0-.55.45-1 1-1h3V4H7C5.35 4 4 5.35 4 7m17 3c-.55 0-1-.45-1-1V7c0-1.65-1.35-3-3-3h-3v2h3c.55 0 1 .45 1 1v2c0 1.3.84 2.42 2 2.83v.34c-1.16.41-2 1.52-2 2.83v2c0 .55-.45 1-1 1h-3v2h3c1.65 0 3-1.35 3-3v-2c0-.55.45-1 1-1h1v-4z"}),"DataObject"),qe=be(ie.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Oo=be(ie.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Mo=be(ie.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),fn=be(ie.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Vn=be(ie.jsx("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z"}),"Explore"),jl=be(ie.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M8 20H4v-4h4zm0-6H4v-4h4zm0-6H4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4z"}),"GridOn"),Io=be(ie.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),pn=be(ie.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),Nl=be(ie.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),pt=be(ie.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),ko=be(ie.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),At={INDEXING_STATE:"metageo/indexingState",FLOW_STATE:"metageo/flowState",MAPPING_CONFIG:"metageo/mappingConfig"};function Hn(e,t){try{const r=localStorage.getItem(e);return r===null?t:JSON.parse(r)}catch(r){return console.warn(`Failed to parse stored data for key ${e}:`,r),t}}function zl(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.warn(`Failed to store data for key ${e}:`,r)}}function Bl(e){try{localStorage.removeItem(e)}catch(t){console.warn(`Failed to remove data for key ${e}:`,t)}}function Wl(){return Hn(At.INDEXING_STATE,null)}function qn(){return Hn(At.FLOW_STATE,null)}function Gl(e){zl(At.FLOW_STATE,e)}function Kn(){Bl(At.FLOW_STATE)}function Ul(){return Hn(At.MAPPING_CONFIG,null)}const gt=qn(),Yl=Se.atom({key:"metageo/activeStep",default:(gt==null?void 0:gt.activeStep)??0}),Vl=Se.atom({key:"metageo/hasStarted",default:(gt==null?void 0:gt.hasStarted)??!1});Se.atom({key:"metageo/geoFields",default:[]}),Se.atom({key:"metageo/osmTags",default:[]});const Hl={bbox:null,gridTiles:16,location:"",gridCells:[],executionMode:"immediate",indexingStatus:"idle",quadtreeCells:[],realSampleDistribution:{}},mt=Se.atom({key:"metageo/indexing",default:Wl()||Hl});function ye(e,t,r){return async(o={})=>new Promise((s,i)=>{e(t,{operator:r,params:o,callback:l=>{l!=null&&l.error?i(new Error(l.error)):s(l)}})})}function Ne(){console.log("🔍 useMetageoClient: Hook starting...");const e=pe.usePanelEvent();return console.log("🔍 useMetageoClient: handleEvent =",e),n.useMemo(()=>({define_area_auto:ye(e,"define_area_auto","@voxel51/metageo/metageo_panel#define_area_auto"),calculate_sample_distribution:ye(e,"calculate_sample_distribution","@voxel51/metageo/metageo_panel#get_sample_distribution"),index_grid:ye(e,"index_grid","@voxel51/metageo/index_grid"),start_indexing:ye(e,"start_indexing","@voxel51/metageo/metageo_panel#start_indexing"),watch_indexing:ye(e,"watch_indexing","@voxel51/metageo/watch_indexing"),get_current_indexing_state:ye(e,"get_current_indexing_state","@voxel51/metageo/metageo_panel#get_current_indexing_state"),drop_index:ye(e,"drop_index","@voxel51/metageo/metageo_panel#drop_index"),get_available_osm_tags:ye(e,"get_available_osm_tags","@voxel51/metageo/metageo_panel#get_available_osm_tags"),get_field_mappings:ye(e,"get_field_mappings","@voxel51/metageo/metageo_panel#get_field_mappings"),save_mapping_config:ye(e,"save_mapping_config","@voxel51/metageo/metageo_panel#save_mapping_config"),get_mapping_config:ye(e,"get_mapping_config","@voxel51/metageo/metageo_panel#get_mapping_config"),clear_mapping_config:ye(e,"clear_mapping_config","@voxel51/metageo/metageo_panel#clear_mapping_config"),clear_enrichment_data:ye(e,"clear_enrichment_data","@voxel51/metageo/metageo_panel#clear_enrichment_data"),enrich_dataset_async:ye(e,"enrich_dataset_async","@voxel51/metageo/metageo_panel#enrich_dataset_async"),get_enrichment_status:ye(e,"get_enrichment_status","@voxel51/metageo/metageo_panel#get_enrichment_status"),get_geo_fields:ye(e,"get_geo_fields","@voxel51/metageo/metageo_panel#get_geo_fields"),get_cell_data:ye(e,"get_cell_data","@voxel51/metageo/metageo_panel#get_cell_data"),cancel_indexing:ye(e,"cancel_indexing","@voxel51/metageo/metageo_panel#cancel_indexing"),reset_metageo:ye(e,"reset_metageo","@voxel51/metageo/reset_metageo")}),[e])}const ql={geoField:"",useYamlConfig:!1,yamlConfig:"",enable3DDetections:!1,threeDSlice:"",detectionFieldName:"",detectionLabelTag:"",detectionRadius:100,enableSampleTagging:!1,tagSlice:"",tagMappings:[],tagRadius:100,renderOn3D:!0,renderOn2D:!1,enableFieldMapping:!1,fieldMappings:[],includeAllTagsAsMetadata:!1,metadataFieldName:"osm_metadata"},Kl=Se.atom({key:"metageo/mapping",default:Ul()||ql});function $t(){console.log("🔍 useMappingConfig: Hook starting...");const e=Ne(),[t,r]=n.useState(!1);let o,s;try{[o,s]=Se.useRecoilState(Kl)}catch(c){return console.error("🔍 useMappingConfig: Error accessing atom:",c),{state:{geoField:"",useYamlConfig:!1,yamlConfig:"",enable3DDetections:!1,threeDSlice:"",detectionFieldName:"",detectionLabelTag:"",detectionRadius:100,enableSampleTagging:!1,tagSlice:"",tagMappings:[],tagRadius:100,renderOn3D:!0,renderOn2D:!1,enableFieldMapping:!1,fieldMappings:[],includeAllTagsAsMetadata:!1,metadataFieldName:"osm_metadata"},actions:{setDetectionRadius:()=>{},setGeoField:()=>{},setUseYamlConfig:()=>{},setYamlConfig:()=>{},setEnable3DDetections:()=>{},setThreeDSlice:()=>{},setDetectionFieldName:()=>{},setDetectionLabelTag:()=>{},setEnableSampleTagging:()=>{},setTagSlice:()=>{},setTagRadius:()=>{},setRenderOn3D:()=>{},setRenderOn2D:()=>{},setEnableFieldMapping:()=>{},addTagMapping:()=>{},removeTagMapping:()=>{},updateTagMapping:()=>{},addFieldMapping:()=>{},removeFieldMapping:()=>{},updateFieldMapping:()=>{},setIncludeAllTagsAsMetadata:()=>{},setMetadataFieldName:()=>{},resetMapping:()=>{}}}}console.log("🔍 useMappingConfig: mappingConfig =",o),console.log("🔍 useMappingConfig: mappingConfig.tagMappings =",o==null?void 0:o.tagMappings),console.log("🔍 useMappingConfig: mappingConfig.fieldMappings =",o==null?void 0:o.fieldMappings);const i=n.useCallback(async c=>{if(!(!e||!t))try{console.log("🔍 useMappingConfig: Auto-saving mapping config:",c),await e.save_mapping_config({mapping_config:c})}catch(p){console.error("🔍 useMappingConfig: Error auto-saving mapping config:",p)}},[e,t]),l=n.useCallback(async()=>{var c;if(!(!e||t))try{console.log("🔍 useMappingConfig: Loading mapping config from backend");const p=await e.get_mapping_config();((c=p==null?void 0:p.result)==null?void 0:c.status)==="success"&&p.result.mapping_config&&(console.log("🔍 useMappingConfig: Loaded mapping config:",p.result.mapping_config),s(p.result.mapping_config))}catch(p){console.error("🔍 useMappingConfig: Error loading mapping config:",p)}finally{r(!0)}},[e,t,s]);n.useEffect(()=>{l()},[l]),n.useEffect(()=>{t&&o&&i(o)},[o,t,i]);const u=n.useMemo(()=>({setDetectionRadius:c=>{s(p=>({...p,detectionRadius:c}))},setGeoField:c=>{s(p=>({...p,geoField:c}))},setUseYamlConfig:c=>{s(p=>({...p,useYamlConfig:c}))},setYamlConfig:c=>{s(p=>({...p,yamlConfig:c}))},setEnable3DDetections:c=>{s(p=>({...p,enable3DDetections:c}))},setThreeDSlice:c=>{s(p=>({...p,threeDSlice:c}))},setDetectionFieldName:c=>{s(p=>({...p,detectionFieldName:c}))},setDetectionLabelTag:c=>{s(p=>({...p,detectionLabelTag:c}))},setEnableSampleTagging:c=>{s(p=>({...p,enableSampleTagging:c}))},setTagSlice:c=>{s(p=>({...p,tagSlice:c}))},setTagRadius:c=>{s(p=>({...p,tagRadius:c}))},setRenderOn3D:c=>{s(p=>({...p,renderOn3D:c}))},setRenderOn2D:c=>{s(p=>({...p,renderOn2D:c}))},addTagMapping:c=>{s(p=>({...p,tagMappings:[...p.tagMappings,c]}))},updateTagMapping:(c,p)=>{s(m=>({...m,tagMappings:m.tagMappings.map((v,h)=>h===c?p:v)}))},removeTagMapping:c=>{s(p=>({...p,tagMappings:p.tagMappings.filter((m,v)=>v!==c)}))},addFieldMapping:c=>{s(p=>({...p,fieldMappings:[...p.fieldMappings,c]}))},updateFieldMapping:(c,p)=>{s(m=>({...m,fieldMappings:m.fieldMappings.map((v,h)=>h===c?p:v)}))},removeFieldMapping:c=>{s(p=>({...p,fieldMappings:p.fieldMappings.filter((m,v)=>v!==c)}))},setEnableFieldMapping:c=>{s(p=>({...p,enableFieldMapping:c}))},setIncludeAllTagsAsMetadata:c=>{s(p=>({...p,includeAllTagsAsMetadata:c}))},setMetadataFieldName:c=>{s(p=>({...p,metadataFieldName:c}))},resetMapping:()=>{s(c=>({...c,geoField:"",useYamlConfig:!1,yamlConfig:"",enable3DDetections:!1,threeDSlice:"",detectionFieldName:"",detectionLabelTag:"",detectionRadius:100,enableSampleTagging:!1,tagSlice:"",tagMappings:[],tagRadius:100,renderOn3D:!0,renderOn2D:!1,enableFieldMapping:!1,fieldMappings:[],includeAllTagsAsMetadata:!1,metadataFieldName:"osm_metadata"}))},clearMappingConfig:async()=>{if(e)try{console.log("🔍 useMappingConfig: Clearing mapping config from backend"),await e.clear_mapping_config(),s(c=>({...c,geoField:"",useYamlConfig:!1,yamlConfig:"",enable3DDetections:!1,threeDSlice:"",detectionFieldName:"",detectionLabelTag:"",detectionRadius:100,enableSampleTagging:!1,tagSlice:"",tagMappings:[],tagRadius:100,renderOn3D:!0,renderOn2D:!1,enableFieldMapping:!1,fieldMappings:[],includeAllTagsAsMetadata:!1,metadataFieldName:"osm_metadata"}))}catch(c){console.error("🔍 useMappingConfig: Error clearing mapping config:",c)}}}),[s,e]),d=n.useMemo(()=>({hasValidConfig:!!(o.geoField&&o.radius>0),has3DDetections:o.enable3DDetections,hasSampleTagging:o.enableSampleTagging,hasFieldMapping:o.enableFieldMapping,tagMappingsCount:o.tagMappings?o.tagMappings.length:0,fieldMappingsCount:o.fieldMappings?o.fieldMappings.length:0}),[o]);return{state:o,actions:u,derived:d}}function Xn(){var l;console.log("🔍 useIndexingState: Hook starting...");let e,t;try{[e,t]=Se.useRecoilState(mt)}catch(u){return console.error("🔍 useIndexingState: Error accessing atom:",u),{state:{bbox:null,gridTiles:16,location:"",gridCells:[],executionMode:"immediate",indexingStatus:"idle",quadtreeCells:[],realSampleDistribution:{}},actions:{setBbox:()=>{},setLocation:()=>{},setGridTiles:()=>{},setGridCells:()=>{},setIndexingStatus:()=>{},setQuadtreeCells:()=>{},setRealSampleDistribution:()=>{},updateCellStatus:()=>{},resetIndexing:()=>{},clearDistribution:()=>{}},derived:{hasBbox:!1,hasGridCells:!1,hasQuadtreeCells:!1,isIndexing:!1,isCompleted:!1,isFailed:!1,canStartIndexing:!1,canCalculateDistribution:!1,progress:0,hasExistingIndex:!1}}}console.log("🔍 useIndexingState: indexingState =",e),console.log("🔍 useIndexingState: indexingState.gridCells =",e==null?void 0:e.gridCells),console.log("🔍 useIndexingState: indexingState.gridCells?.length =",(l=e==null?void 0:e.gridCells)==null?void 0:l.length);const r=Ne();console.log("🔍 useIndexingState: client =",r);const{state:o}=$t(),s=n.useMemo(()=>({setBbox:u=>{t(d=>({...d,bbox:u}))},setLocation:u=>{t(d=>({...d,location:u}))},setGridTiles:u=>{t(d=>({...d,gridTiles:u}))},setGridCells:u=>{t(d=>({...d,gridCells:u}))},setIndexingStatus:u=>{t(d=>({...d,indexingStatus:u}))},setQuadtreeCells:u=>{t(d=>({...d,quadtreeCells:u}))},setRealSampleDistribution:u=>{t(d=>({...d,realSampleDistribution:u}))},updateCellStatus:(u,d,c,p)=>{t(m=>({...m,gridCells:m.gridCells.map(v=>v.id===u?{...v,status:d,progress:c??v.progress,error:p}:v)}))},resetIndexing:(u="idle")=>{t(d=>({...d,gridCells:[],indexingStatus:u,quadtreeCells:[],realSampleDistribution:{}}))},clearDistribution:()=>{t(u=>({...u,gridCells:[],realSampleDistribution:{}}))}}),[t]),i=n.useMemo(()=>({hasBbox:!!e.bbox,hasGridCells:!!(e.gridCells&&e.gridCells.length>0),hasQuadtreeCells:!!(e.quadtreeCells&&e.quadtreeCells.length>0),isIndexing:e.indexingStatus==="running",isCompleted:e.indexingStatus==="completed",isFailed:e.indexingStatus==="failed",canStartIndexing:!!(e.bbox&&o.geoField&&e.gridTiles>0),canCalculateDistribution:!!(e.bbox&&o.geoField&&e.gridTiles>0),progress:e.gridCells&&e.gridCells.length>0?e.gridCells.filter(u=>u.status==="completed").length/e.gridCells.length:0,hasExistingIndex:e.gridCells&&e.gridCells.length>0||e.indexingStatus!=="idle"&&e.indexingStatus!=="cancelled"}),[e]);return{state:e,actions:s,derived:i}}const oe={INDEX_CONFIGURATION:0,INDEXING:1,MAPPING:2,ENRICH:3,SEARCH_CLEANUP:4};function Qn(){var T;console.log("🔍 useMetageoFlow: Hook starting...");let e,t,r,o;const[s,i]=n.useState(!0);n.useEffect(()=>{const C=setTimeout(()=>{console.log("🔍 useMetageoFlow: Loading timeout reached, setting isLoadingState to false"),i(!1)},5e3);return()=>clearTimeout(C)},[]),n.useEffect(()=>{r&&(console.log("🔍 useMetageoFlow: Saving flow state to localStorage:",{activeStep:e,hasStarted:r}),Gl({activeStep:e,hasStarted:r}))},[e,r]);try{[e,t]=Se.useRecoilState(Yl),[r,o]=Se.useRecoilState(Vl)}catch(C){return console.error("🔍 useMetageoFlow: Error accessing atoms:",C),{state:{activeStep:0,hasStarted:!1,isLoadingState:!0},actions:{start:()=>{},next:()=>{},back:()=>{},goToStep:()=>{},autoDetectBbox:async()=>({success:!1,error:"Client not available"}),calculateSampleDistribution:async()=>({success:!1,error:"Client not available"}),startIndexing:async()=>({success:!1,error:"Client not available"}),dropIndex:async()=>({success:!1,error:"Client not available"}),cancelIndexing:async()=>({success:!1,error:"Client not available"}),loadCurrentIndexingState:async()=>({success:!1,error:"Client not available"}),resetMetageo:async()=>({success:!1,error:"Client not available"})},derived:{canGoNext:!1,canGoBack:!1,isFirstStep:!0,isLastStep:!1,stepName:"Unknown",hasExistingIndex:!1}}}console.log("🔍 useMetageoFlow: activeStep =",e),console.log("🔍 useMetageoFlow: hasStarted =",r);const{state:l,actions:u}=Xn();console.log("🔍 useMetageoFlow: indexingState =",l),console.log("🔍 useMetageoFlow: indexingState.gridCells =",l==null?void 0:l.gridCells),console.log("🔍 useMetageoFlow: indexingState.gridCells?.length =",(T=l==null?void 0:l.gridCells)==null?void 0:T.length);const{state:d}=$t();console.log("🔍 useMetageoFlow: mappingConfig =",d);const c=Ne();console.log("🔍 useMetageoFlow: client =",c);const p=n.useMemo(()=>()=>{o(!0),t(oe.INDEX_CONFIGURATION)},[o,t]),m=n.useMemo(()=>()=>{if(console.log("🔍 next() called: activeStep =",e,"STEPS.SEARCH_CLEANUP =",oe.SEARCH_CLEANUP),e<oe.SEARCH_CLEANUP){const C=e+1;console.log("🔍 next() setting activeStep from",e,"to",C),t(C)}else console.log("🔍 next() blocked: already at last step")},[e,t]),v=n.useMemo(()=>()=>{e>oe.INDEX_CONFIGURATION&&t(e-1)},[e,t]),h=n.useMemo(()=>C=>{t(C)},[t]),x=n.useMemo(()=>async C=>{var P;if(!c)return{success:!1,error:"Client not available"};try{const k=await c.define_area_auto({geo_field:C});if((P=k==null?void 0:k.result)!=null&&P.bbox){const F={minLon:k.result.bbox[0],minLat:k.result.bbox[1],maxLon:k.result.bbox[2],maxLat:k.result.bbox[3]};return u.setBbox(F),u.setLocation(C),{success:!0,bbox:F}}return{success:!1,error:"No bounding box data received"}}catch(k){return{success:!1,error:k instanceof Error?k.message:"Unknown error"}}},[c,u]),f=n.useMemo(()=>async()=>{var C;if(!c)return{success:!1,error:"Client not available"};if(!l.bbox||!d.geoField||!l.gridTiles)return{success:!1,error:"Missing required configuration"};try{const P=[l.bbox.minLon,l.bbox.minLat,l.bbox.maxLon,l.bbox.maxLat],k=await c.calculate_sample_distribution({bbox:P,grid_tiles:l.gridTiles,geo_field:d.geoField});return(C=k==null?void 0:k.result)!=null&&C.grid_cells?(u.setGridCells(k.result.grid_cells),u.setRealSampleDistribution(k.result.sample_distribution||{}),{success:!0,data:k.result}):{success:!1,error:"No grid cells data received"}}catch(P){return{success:!1,error:P instanceof Error?P.message:"Unknown error"}}},[l.bbox,d.geoField,l.gridTiles,c,u]),b=n.useMemo(()=>async()=>{var C;if(!c)return{success:!1,error:"Client not available"};if(!l.bbox||!d.geoField||!l.gridTiles)return{success:!1,error:"Missing required configuration"};try{const P=[l.bbox.minLon,l.bbox.minLat,l.bbox.maxLon,l.bbox.maxLat];u.setIndexingStatus("running");const k=await c.start_indexing({bbox:P,grid_tiles:l.gridTiles,geo_field:d.geoField,execution_mode:"immediate"});return(C=k==null?void 0:k.result)!=null&&C.indexing_id?(c.watch_indexing({indexing_id:k.result.indexing_id}),{success:!0,indexingId:k.result.indexing_id}):{success:!1,error:"No indexing ID received"}}catch(P){return u.setIndexingStatus("failed"),{success:!1,error:P instanceof Error?P.message:"Unknown error"}}},[l.bbox,d.geoField,l.gridTiles,c,u]),O=n.useMemo(()=>async()=>{if(!c)return{success:!1,error:"Client not available"};try{return await c.drop_index(),u.resetIndexing(),t(oe.INDEX_CONFIGURATION),o(!1),Kn(),{success:!0}}catch(C){return{success:!1,error:C instanceof Error?C.message:"Unknown error"}}},[c,u,t,o]),y=n.useCallback(async()=>{var C,P;if(!c)return{success:!1,error:"Client not available"};try{console.log("🔍 cancelIndexing: Starting cancellation...");const k=await c.cancel_indexing({});if(console.log("🔍 cancelIndexing: Backend result:",k),((C=k==null?void 0:k.result)==null?void 0:C.status)==="cancelled"){console.log("🔍 cancelIndexing: Cancellation successful, resetting local state..."),u.resetIndexing("cancelled"),t(oe.INDEX_CONFIGURATION),o(!1),Kn(),console.log("🔍 cancelIndexing: Reloading indexing state from backend...");try{const F=await c.get_current_indexing_state();if(console.log("🔍 cancelIndexing: Load result:",F),F!=null&&F.result){const U=F.result;if(U.indexing_state){const E=U.indexing_state;E.bbox&&u.setBbox({minLon:E.bbox[0],minLat:E.bbox[1],maxLon:E.bbox[2],maxLat:E.bbox[3]}),E.grid_cells&&u.setGridCells(E.grid_cells),E.quadtree_cells&&u.setQuadtreeCells(E.quadtree_cells),E.real_sample_distribution&&u.setRealSampleDistribution(E.real_sample_distribution),E.indexing_status&&u.setIndexingStatus(E.indexing_status),E.location&&u.setLocation(E.location),E.grid_tiles&&u.setGridTiles(E.grid_tiles),console.log("🔍 cancelIndexing: Indexing state reloaded after cancellation")}}}catch(F){console.warn("🔍 cancelIndexing: Failed to reload indexing state:",F)}return{success:!0,message:k.result.message}}return console.error("🔍 cancelIndexing: Backend did not return cancelled status:",k),{success:!1,error:((P=k==null?void 0:k.result)==null?void 0:P.message)||"Failed to cancel indexing"}}catch(k){return console.error("🔍 cancelIndexing: Exception occurred:",k),{success:!1,error:k instanceof Error?k.message:"Unknown error"}}},[c,u,t,o]),w=n.useMemo(()=>async()=>{var C,P;if(console.log("🔍 loadCurrentIndexingState: Function called"),console.log("🔍 loadCurrentIndexingState: Client available:",!!c),i(!0),!c)return console.warn("🔍 loadCurrentIndexingState: Client not available"),i(!1),{success:!1,error:"Client not available"};try{console.log("🔍 loadCurrentIndexingState: Calling client.get_current_indexing_state()");const k=await c.get_current_indexing_state();if(console.log("🔍 loadCurrentIndexingState: Result received:",k),k!=null&&k.result){const F=k.result;if(console.log("🔍 loadCurrentIndexingState: Data extracted:",F),console.log("🔍 loadCurrentIndexingState: Data keys:",Object.keys(F)),F.bbox||F.grid_cells||F.indexing_status){console.log("🔍 loadCurrentIndexingState: Found data directly in result"),F.bbox&&u.setBbox({minLon:F.bbox[0],minLat:F.bbox[1],maxLon:F.bbox[2],maxLat:F.bbox[3]}),F.grid_cells&&u.setGridCells(F.grid_cells),F.quadtree_cells&&u.setQuadtreeCells(F.quadtree_cells),F.real_sample_distribution&&u.setRealSampleDistribution(F.real_sample_distribution),F.indexing_status&&u.setIndexingStatus(F.indexing_status),F.geo_field&&u.setLocation(F.geo_field),F.grid_tiles&&u.setGridTiles(F.grid_tiles),o(!0);const U=qn();console.log("🔍 loadCurrentIndexingState: Saved flow state:",U);let E=!1;try{const L=await c.get_mapping_config();E=((C=L==null?void 0:L.result)==null?void 0:C.status)==="success"&&L.result.mapping_config,console.log("🔍 loadCurrentIndexingState: Has mapping config:",E)}catch(L){console.log("🔍 loadCurrentIndexingState: Error checking mapping config:",L)}let M=oe.INDEXING;return U&&U.hasStarted?(M=U.activeStep,console.log("🔍 loadCurrentIndexingState: Using saved step:",M)):F.indexing_status==="completed"&&E?(M=oe.MAPPING,console.log("🔍 loadCurrentIndexingState: Indexing completed with mapping config, going to mapping step")):F.indexing_status==="completed"&&(M=oe.MAPPING,console.log("🔍 loadCurrentIndexingState: Indexing completed, going to mapping step")),t(M),console.log("🔍 loadCurrentIndexingState: Set hasStarted=true and activeStep=",M),i(!1),{success:!0,hasExistingIndex:!0}}else if(F.bbox||F.grid_cells){F.bbox&&u.setBbox({minLon:F.bbox[0],minLat:F.bbox[1],maxLon:F.bbox[2],maxLat:F.bbox[3]}),F.grid_cells&&u.setGridCells(F.grid_cells),F.geo_field&&u.setLocation(F.geo_field),o(!0);const U=qn();console.log("🔍 loadCurrentIndexingState: Saved flow state (old format):",U);let E=!1;try{const L=await c.get_mapping_config();E=((P=L==null?void 0:L.result)==null?void 0:P.status)==="success"&&L.result.mapping_config,console.log("🔍 loadCurrentIndexingState: Has mapping config (old format):",E)}catch(L){console.log("🔍 loadCurrentIndexingState: Error checking mapping config (old format):",L)}let M=oe.INDEXING;return U&&U.hasStarted?(M=U.activeStep,console.log("🔍 loadCurrentIndexingState: Using saved step (old format):",M)):E&&(M=oe.MAPPING,console.log("🔍 loadCurrentIndexingState: Has mapping config, going to mapping step (old format)")),t(M),console.log("🔍 loadCurrentIndexingState: Set hasStarted=true and activeStep=",M,"(old format)"),i(!1),{success:!0,hasExistingIndex:!0}}}return i(!1),{success:!0,hasExistingIndex:!1}}catch(k){return i(!1),{success:!1,error:k instanceof Error?k.message:"Unknown error"}}},[c,u,o,t]),S=n.useMemo(()=>async()=>{if(!c)return{success:!1,error:"Client not available"};try{console.log("🔍 resetMetageo: Starting complete reset...");const C=await c.reset_metageo();return(C==null?void 0:C.status)==="success"?(u.resetIndexing(),t(oe.INDEX_CONFIGURATION),o(!1),Kn(),console.log("🔍 resetMetageo: Successfully reset all metageo state"),{success:!0,message:C.message}):(console.error("🔍 resetMetageo: Reset failed:",C),{success:!1,error:(C==null?void 0:C.message)||"Reset failed"})}catch(C){return console.error("🔍 resetMetageo: Error during reset:",C),{success:!1,error:C instanceof Error?C.message:"Unknown error during reset"}}},[c,u,t,o]),A={start:p,next:m,back:v,goToStep:h,autoDetectBbox:x,calculateSampleDistribution:f,startIndexing:b,dropIndex:O,cancelIndexing:y,loadCurrentIndexingState:w,resetMetageo:S},$=n.useMemo(()=>{const C=l.gridCells&&l.gridCells.length>0||l.indexingStatus!=="idle"&&l.indexingStatus!=="cancelled";console.log("🔍 useMetageoFlow derived: hasExistingIndex =",C),console.log("🔍 useMetageoFlow derived: indexingState.gridCells =",l.gridCells),console.log("🔍 useMetageoFlow derived: indexingState.indexingStatus =",l.indexingStatus),console.log("🔍 useMetageoFlow derived: indexingState.bbox =",l.bbox),console.log("🔍 useMetageoFlow derived: activeStep =",e),console.log("🔍 useMetageoFlow derived: hasStarted =",r);let P=e;C&&e===oe.INDEX_CONFIGURATION?P=oe.INDEXING:l.indexingStatus==="completed"&&e>=oe.INDEXING&&(P=e);const k=P<oe.SEARCH_CLEANUP;return console.log("🔍 useMetageoFlow derived: canGoNext =",k,"(effectiveStep =",P,"<",oe.SEARCH_CLEANUP,")"),{canGoNext:k,canGoBack:P>oe.INDEX_CONFIGURATION,isFirstStep:P===oe.INDEX_CONFIGURATION,isLastStep:P===oe.SEARCH_CLEANUP,stepName:Object.keys(oe).find(F=>oe[F]===P)||"Unknown",hasExistingIndex:C,effectiveStep:P}},[e,l]);return{state:{activeStep:e,hasStarted:r,isLoadingState:s},actions:A,derived:$}}const Xl=(e,t,r)=>{const s=(()=>{if(Object.keys(e).length===0)return t;const[d,c,p,m]=t,v=Math.sqrt(Object.keys(e).length),h=(p-d)/v,x=(m-c)/v;let f=p,b=d,O=m,y=c;Object.entries(e).forEach(([S,A])=>{if(A>0){const[$,T]=S.split("_").map(Number),C=d+T*h,P=C+h,k=c+$*x,F=k+x;f=Math.min(f,C),b=Math.max(b,P),O=Math.min(O,k),y=Math.max(y,F)}});const w=.001;return[Math.max(d,f-w),Math.max(c,O-w),Math.min(p,b+w),Math.min(m,y+w)]})(),i=Object.values(e).reduce((d,c)=>d+c,0),l={id:"root",bbox:s,sampleCount:i,depth:0,maxDepth:r.maxDepth,minSize:r.minSize},u=d=>{const[c,p,m,v]=d.bbox,h=m-c,x=v-p;if(d.depth<r.maxDepth&&d.sampleCount>r.threshold&&h>r.minSize&&x>r.minSize){const b=(c+m)/2,O=(p+v)/2,y=[{id:`${d.id}_NW`,bbox:[c,O,b,v]},{id:`${d.id}_NE`,bbox:[b,O,m,v]},{id:`${d.id}_SW`,bbox:[c,p,b,O]},{id:`${d.id}_SE`,bbox:[b,p,m,O]}];d.children=y.map(w=>{let S=0;return Object.entries(e).forEach(([A,$])=>{if($>0){const[T,C]=A.split("_").map(Number),P=Math.sqrt(Object.keys(e).length),k=(m-c)/P,F=(v-p)/P,U=c+C*k,E=U+k,M=p+T*F,L=M+F;U<w.bbox[2]&&E>w.bbox[0]&&M<w.bbox[3]&&L>w.bbox[1]&&(S+=$)}}),u({...w,sampleCount:S,depth:d.depth+1,maxDepth:r.maxDepth,minSize:r.minSize})})}return d};return[u(l)]};function Ql({sampleDistribution:e,bbox:t,onQuadtreeCellsChange:r}){const o=a.useTheme(),[s,i]=n.useState({maxDepth:4,minSize:.001,threshold:100,maxSamplesPerCell:1e3}),[l,u]=n.useState(!1),[d,c]=n.useState([]),[p,m]=n.useState(!1),v=n.useCallback(async()=>{if(t){m(!0);try{await new Promise(b=>setTimeout(b,100));const f=Xl(e,t,s);c(f),r(f),u(!0)}catch(f){console.error("Error building quadtree:",f)}finally{m(!1)}}},[t,e,s,r]),h=n.useMemo(()=>{const f=b=>b.reduce((O,y)=>O+1+(y.children?f(y.children):0),0);return f(d)},[d]),x=n.useMemo(()=>Object.values(e).reduce((f,b)=>f+b,0),[e]);return!t||Object.keys(e).length===0?null:n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:3,background:a.alpha(o.palette.secondary.main,.02),border:`1px solid ${a.alpha(o.palette.secondary.main,.1)}`,borderRadius:2}},n.createElement(a.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:o.palette.text.primary,display:"flex",alignItems:"center",gap:1}},n.createElement(un,{sx:{mr:1,color:o.palette.info.main}}),"Adaptive Quadtree Grid"),n.createElement(a.Typography,{variant:"body2",sx:{mb:3,color:o.palette.text.secondary}},"Generate an adaptive grid that automatically subdivides regions with high sample density for more efficient indexing."),n.createElement(a.Grid,{container:!0,spacing:2,sx:{mb:3}},n.createElement(a.Grid,{item:!0,xs:6,sm:3},n.createElement(a.TextField,{fullWidth:!0,label:"Max Depth",type:"number",value:s.maxDepth,onChange:f=>{const b=parseInt(f.target.value);isNaN(b)||i(O=>({...O,maxDepth:b}))},size:"small",inputProps:{min:1,max:10}})),n.createElement(a.Grid,{item:!0,xs:6,sm:3},n.createElement(a.TextField,{fullWidth:!0,label:"Min Size (deg)",type:"number",value:s.minSize,onChange:f=>{const b=parseFloat(f.target.value);isNaN(b)||i(O=>({...O,minSize:b}))},size:"small",inputProps:{min:1e-4,max:1,step:1e-4}})),n.createElement(a.Grid,{item:!0,xs:6,sm:3},n.createElement(a.TextField,{fullWidth:!0,label:"Threshold",type:"number",value:s.threshold,onChange:f=>{const b=parseInt(f.target.value);isNaN(b)||i(O=>({...O,threshold:b}))},size:"small",inputProps:{min:1,max:1e4}})),n.createElement(a.Grid,{item:!0,xs:6,sm:3},n.createElement(a.TextField,{fullWidth:!0,label:"Max Samples/Cell",type:"number",value:s.maxSamplesPerCell,onChange:f=>{const b=parseInt(f.target.value);isNaN(b)||i(O=>({...O,maxSamplesPerCell:b}))},size:"small",inputProps:{min:1,max:1e5}}))),n.createElement(a.Stack,{direction:"row",spacing:2,sx:{mb:3}},n.createElement(a.Button,{onClick:v,disabled:!t||Object.keys(e).length===0,variant:"contained",startIcon:n.createElement(jl,null),sx:{height:40}},"Generate Quadtree")),l&&d.length>0&&n.createElement(a.Box,{sx:{mt:3,p:2,bgcolor:a.alpha(o.palette.success.main,.05),borderRadius:1,border:`1px solid ${a.alpha(o.palette.success.main,.2)}`}},n.createElement(a.Typography,{variant:"body2",sx:{mb:1}},n.createElement("strong",null,"Quadtree generated successfully!")),n.createElement(a.Typography,{variant:"caption",color:"text.secondary"},"Total cells: ",h," | Total samples: ",x," | Max depth: ",s.maxDepth," | Min cell size: ",s.minSize,"°")),p&&n.createElement(a.Box,{sx:{display:"flex",alignItems:"center",gap:1,mt:2}},n.createElement(a.CircularProgress,{size:16}),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"Generating adaptive grid...")))}function Jl(){const[e,t]=n.useState([]),[r,o]=n.useState(!0),[s,i]=n.useState(null),l=Ne(),u=n.useCallback(async()=>{if(!l){i("Client not available"),o(!1);return}try{o(!0),i(null),console.log("🔍 useGeoFields: Calling client.get_geo_fields()");const d=await l.get_geo_fields();if(console.log("🔍 useGeoFields: Raw result =",d),console.log("🔍 useGeoFields: result type =",typeof d),console.log("🔍 useGeoFields: result keys =",d?Object.keys(d):"null/undefined"),d!=null&&d.result){const c=d.result;console.log("🔍 useGeoFields: Extracted data =",c),t(c.geo_fields||[])}else d!=null&&d.geo_fields?(console.log("🔍 useGeoFields: Direct geo_fields access =",d.geo_fields),t(d.geo_fields||[])):(console.log("🔍 useGeoFields: No geo_fields found, setting empty array"),t([]))}catch(d){console.error("🔍 useGeoFields: Error fetching geo fields:",d),i(d instanceof Error?d.message:"Failed to fetch geographic fields"),t([])}finally{o(!1)}},[l]);return n.useEffect(()=>{l&&u()},[u,l]),{geoFields:e,loading:r,error:s,refetch:u}}function Zl(){var m,v,h,x;const e=a.useTheme(),{state:t,actions:r}=Xn(),{state:o,actions:s}=$t(),{actions:i}=Qn(),{geoFields:l,loading:u}=Jl(),d=async()=>{if(!o.geoField)return;(await i.autoDetectBbox(o.geoField)).success},c=async()=>{(await i.calculateSampleDistribution()).success},p=async()=>{(await i.startIndexing()).success&&i.next()};return n.createElement(a.Box,null,n.createElement(a.Typography,{variant:"h6",sx:{mb:3,fontWeight:600,color:e.palette.text.primary,display:"flex",alignItems:"center",gap:1}},n.createElement(pt,{color:"primary"}),"Step 1: Index Configuration"),n.createElement(a.Typography,{variant:"body2",sx:{mb:3,color:e.palette.text.secondary,lineHeight:1.6}},"Configure the prerequisites for indexing: select the geographic field, set bounding box boundaries, and calculate sample distribution. This step is required before you can start indexing."),n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:3,background:a.alpha(e.palette.primary.main,.02),border:`1px solid ${a.alpha(e.palette.primary.main,.1)}`,borderRadius:2}},n.createElement(a.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:e.palette.text.primary,display:"flex",alignItems:"center",gap:1}},n.createElement(pn,{color:"primary"}),"Geographic Field Selection"),n.createElement(a.Typography,{variant:"body2",sx:{mb:2,color:e.palette.text.secondary}},"Select the geographic field that contains location data for your samples."),n.createElement(a.FormControl,{fullWidth:!0,sx:{mb:2}},n.createElement(a.InputLabel,null,"Geographic Field"),n.createElement(a.Select,{value:o.geoField,onChange:f=>s.setGeoField(f.target.value),disabled:u,label:"Geographic Field"},n.createElement(a.MenuItem,{value:""},n.createElement("em",null,"Choose a field containing geographic data...")),l.map(f=>n.createElement(a.MenuItem,{key:f,value:f},f)))),u&&n.createElement(a.Box,{sx:{display:"flex",alignItems:"center",gap:1}},n.createElement(a.CircularProgress,{size:16}),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"Loading geographic fields...")),!u&&l.length===0&&n.createElement(a.Typography,{variant:"body2",color:"warning.main",sx:{mb:2}},"No geographic fields found in the dataset. Please ensure your dataset contains fields with geographic data."),!u&&l.length>0&&n.createElement(a.Typography,{variant:"body2",color:"success.main",sx:{mb:2}},"Found ",l.length," geographic field",l.length!==1?"s":"",": ",l.join(", "))),n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:3,background:a.alpha(e.palette.secondary.main,.02),border:`1px solid ${a.alpha(e.palette.secondary.main,.1)}`,borderRadius:2}},n.createElement(a.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:e.palette.text.primary,display:"flex",alignItems:"center",gap:1}},n.createElement(Vn,{color:"secondary"}),"Geographic Boundaries"),n.createElement(a.Typography,{variant:"body2",sx:{mb:2,color:e.palette.text.secondary}},"Define the geographic area to index. You can auto-detect boundaries or set them manually."),n.createElement(a.Stack,{direction:"row",spacing:2,sx:{mb:3}},n.createElement(a.Button,{onClick:d,disabled:u||!o.geoField,startIcon:n.createElement(Vn,null),variant:"contained",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},"Auto-detect BBox")),n.createElement(a.Grid,{container:!0,spacing:2,sx:{mb:3}},n.createElement(a.Grid,{item:!0,xs:6,sm:3},n.createElement(a.TextField,{fullWidth:!0,label:"Min Longitude",type:"number",value:((m=t.bbox)==null?void 0:m.minLon)||"",onChange:f=>{const b=parseFloat(f.target.value);isNaN(b)||r.setBbox({...t.bbox,minLon:b})},disabled:!t.bbox,size:"small"})),n.createElement(a.Grid,{item:!0,xs:6,sm:3},n.createElement(a.TextField,{fullWidth:!0,label:"Min Latitude",type:"number",value:((v=t.bbox)==null?void 0:v.minLat)||"",onChange:f=>{const b=parseFloat(f.target.value);isNaN(b)||r.setBbox({...t.bbox,minLat:b})},disabled:!t.bbox,size:"small"})),n.createElement(a.Grid,{item:!0,xs:6,sm:3},n.createElement(a.TextField,{fullWidth:!0,label:"Max Longitude",type:"number",value:((h=t.bbox)==null?void 0:h.maxLon)||"",onChange:f=>{const b=parseFloat(f.target.value);isNaN(b)||r.setBbox({...t.bbox,maxLon:b})},disabled:!t.bbox,size:"small"})),n.createElement(a.Grid,{item:!0,xs:6,sm:3},n.createElement(a.TextField,{fullWidth:!0,label:"Max Latitude",type:"number",value:((x=t.bbox)==null?void 0:x.maxLat)||"",onChange:f=>{const b=parseFloat(f.target.value);isNaN(b)||r.setBbox({...t.bbox,maxLat:b})},disabled:!t.bbox,size:"small"}))),t.bbox&&n.createElement(a.Box,{sx:{display:"flex",alignItems:"center",gap:1,p:2,bgcolor:a.alpha(e.palette.success.main,.05),borderRadius:1,border:`1px solid ${a.alpha(e.palette.success.main,.2)}`}},n.createElement(a.Typography,{variant:"body2",sx:{display:"flex",alignItems:"center"}},n.createElement("strong",null,"Bounding box configured:"),t.bbox.minLon.toFixed(6),","," ",t.bbox.minLat.toFixed(6)," to"," ",t.bbox.maxLon.toFixed(6),","," ",t.bbox.maxLat.toFixed(6),n.createElement(dn,{sx:{ml:1,color:e.palette.success.main,fontSize:20}})))),n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:3,background:a.alpha(e.palette.info.main,.02),border:`1px solid ${a.alpha(e.palette.info.main,.1)}`,borderRadius:2}},n.createElement(a.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:e.palette.text.primary,display:"flex",alignItems:"center",gap:1}},n.createElement(un,{color:"info"}),"Grid Configuration"),n.createElement(a.Typography,{variant:"body2",sx:{mb:2,color:e.palette.text.secondary}},"Set the grid resolution for geographic indexing. Higher values create more granular regions."),n.createElement(a.FormControl,{sx:{mb:3,minWidth:200}},n.createElement(a.InputLabel,null,"Grid Resolution"),n.createElement(a.Select,{value:t.gridTiles,onChange:f=>r.setGridTiles(f.target.value),label:"Grid Resolution"},n.createElement(a.MenuItem,{value:3},"3x3 (9 cells)"),n.createElement(a.MenuItem,{value:9},"9x9 (81 cells)"),n.createElement(a.MenuItem,{value:10},"10x10 (100 cells)"),n.createElement(a.MenuItem,{value:16},"16x16 (256 cells)"),n.createElement(a.MenuItem,{value:25},"25x25 (625 cells)"),n.createElement(a.MenuItem,{value:50},"50x50 (2,500 cells)"),n.createElement(a.MenuItem,{value:100},"100x100 (10,000 cells)"))),n.createElement(a.Stack,{direction:"row",spacing:2},n.createElement(a.Button,{onClick:c,disabled:!t.bbox||!o.geoField||!t.gridTiles,startIcon:n.createElement(un,null),variant:"contained",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600,bgcolor:e.palette.success.main,"&:hover":{bgcolor:e.palette.success.dark}}},"Calculate Sample Distribution"),t.gridCells.length>0&&n.createElement(a.Button,{onClick:r.clearDistribution,startIcon:n.createElement(wo,null),variant:"outlined",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},"Clear Distribution")),t.gridCells.length>0&&n.createElement(a.Box,{sx:{mt:3,p:2,bgcolor:a.alpha(e.palette.success.main,.05),borderRadius:1}},n.createElement(a.Typography,{variant:"body2",sx:{display:"flex",alignItems:"center",gap:1}},n.createElement(dn,{sx:{color:e.palette.success.main,fontSize:20}}),n.createElement("strong",null,"Sample distribution calculated!")," The grid now shows real sample counts for each geographic region."))),n.createElement(Ql,{sampleDistribution:t.realSampleDistribution,bbox:t.bbox?[t.bbox.minLon,t.bbox.minLat,t.bbox.maxLon,t.bbox.maxLat]:null,onQuadtreeCellsChange:r.setQuadtreeCells}),n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:3,background:a.alpha(e.palette.warning.main,.02),border:`1px solid ${a.alpha(e.palette.warning.main,.1)}`,borderRadius:2}},n.createElement(a.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:e.palette.text.primary,display:"flex",alignItems:"center",gap:1}},n.createElement(un,{color:"warning"}),"Ready to Index"),n.createElement(a.Typography,{variant:"body2",sx:{mb:3,color:e.palette.text.secondary}},"Once you've configured the geographic boundaries and calculated the sample distribution, you can proceed to start the indexing process."),n.createElement(a.Button,{onClick:p,disabled:!t.bbox||!o.geoField||t.gridCells.length===0,variant:"contained",color:"success",size:"large",sx:{px:6,py:2,borderRadius:2,textTransform:"none",fontWeight:600,fontSize:"1.1rem"}},"Start Indexing")))}function Rl({bbox:e,isLoading:t,realSampleCounts:r,onCellStatusChange:o,quadtreeCells:s,useQuadtree:i,indexingStatus:l,gridCells:u}){const d=a.useTheme(),c=n.useMemo(()=>{if(u.forEach(w=>{console.log(`  Cell ${w.id}: status=${w.status}, sample_count=${w.sample_count}`)}),u.length===0)return 0;const b=u.filter(w=>w.status!=="empty");if(b.length===0)return 1;const O=b.filter(w=>w.status==="completed"||w.status==="failed"||w.status==="rate_limited"||w.status==="retrying").length;console.log("🔍 Progress calculation debug:"),console.log(`  Total cells: ${u.length}`),console.log(`  Active cells: ${b.length}`),console.log(`  Processed cells: ${O}`),console.log(`  Progress: ${(O/b.length*100).toFixed(1)}%`),console.log(`  Indexing status: ${l}`);const y=b.filter(w=>w.status==="idle");return y.length>0&&console.warn(`⚠️ Found ${y.length} idle cells that should be processed:`,y.map(w=>w.id)),O/b.length},[u]),p=n.useMemo(()=>{const b={idle:0,running:0,completed:0,failed:0,rate_limited:0,retrying:0,cancelled:0,empty:0,unknown:0};return u.forEach(O=>{const y=O.status;b[y]=(b[y]||0)+1}),b},[u]);if(!e)return null;const[m,v,h,x]=e,f=Math.sqrt(i?s.length:u.length);return u.length===0&&s.length===0?n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:3,background:a.alpha(d.palette.warning.main,.02),border:`1px solid ${a.alpha(d.palette.warning.main,.1)}`,borderRadius:2}},n.createElement(a.Typography,{variant:"h6",sx:{mb:2,fontWeight:600}},"No Grid Data"),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"No grid cells found. Please complete the Index Configuration step first.")):isNaN(f)||f<=0?n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:3,background:a.alpha(d.palette.error.main,.02),border:`1px solid ${a.alpha(d.palette.error.main,.1)}`,borderRadius:2}},n.createElement(a.Typography,{variant:"h6",sx:{mb:2,fontWeight:600}},"Invalid Grid Size"),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"Grid size is invalid: ",f,". Please check your configuration.")):n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:3,background:a.alpha(d.palette.background.paper,.8),border:`1px solid ${a.alpha(d.palette.divider,.2)}`,borderRadius:2}},n.createElement(a.Typography,{variant:"h6",sx:{mb:1,fontWeight:600,color:d.palette.text.primary}},"Geo Index Status"),n.createElement(a.Typography,{variant:"body2",sx:{mb:2,color:d.palette.text.secondary,fontStyle:"italic"}},"💡 Click on any cell to view detailed OSM data"),n.createElement(a.Box,{sx:{mb:3}},n.createElement(a.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1}},n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"Indexing Progress"),n.createElement(a.Typography,{variant:"body2",fontWeight:600},Math.round(c*100),"%")),n.createElement(a.LinearProgress,{variant:"determinate",value:c*100,sx:{height:8,borderRadius:4,backgroundColor:a.alpha(d.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:4}}})),n.createElement(a.Box,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:3}},n.createElement(a.Chip,{label:`Idle: ${p.idle}`,size:"small",variant:"outlined",sx:{borderColor:d.palette.grey[600]}}),n.createElement(a.Chip,{label:`Running: ${p.running}`,size:"small",variant:"outlined",sx:{borderColor:d.palette.info.main}}),n.createElement(a.Chip,{label:`Completed: ${p.completed}`,size:"small",variant:"outlined",sx:{borderColor:d.palette.success.main}}),n.createElement(a.Chip,{label:`Failed: ${p.failed}`,size:"small",variant:"outlined",sx:{borderColor:d.palette.error.main}}),n.createElement(a.Chip,{label:`Rate Limited: ${p.rate_limited}`,size:"small",variant:"outlined",sx:{borderColor:d.palette.warning.main}}),n.createElement(a.Chip,{label:`Retrying: ${p.retrying}`,size:"small",variant:"outlined",sx:{borderColor:d.palette.info.main}}),n.createElement(a.Chip,{label:`Cancelled: ${p.cancelled}`,size:"small",variant:"outlined",sx:{borderColor:d.palette.grey[500]}}),n.createElement(a.Chip,{label:`Empty: ${p.empty}`,size:"small",variant:"outlined",sx:{borderColor:d.palette.grey[400]}})),n.createElement(a.Box,{sx:{display:"grid",gridTemplateColumns:`repeat(${f}, 1fr)`,gap:1,maxWidth:"100%",overflow:"auto"}},Array.from({length:f*f},(b,O)=>{const y=Math.floor(O/f),w=O%f,S=`${y}_${w}`,A=u.find(k=>k.id===S),$=r[S]||0,T=(A==null?void 0:A.status)||"unknown",C=k=>{switch(k){case"completed":return d.palette.success.main;case"running":return d.palette.info.main;case"failed":return d.palette.error.main;case"rate_limited":return d.palette.warning.main;case"retrying":return d.palette.info.light;case"cancelled":return d.palette.grey[500];case"empty":return d.palette.grey[400];case"idle":return d.palette.grey[600];default:return d.palette.grey[300]}},P=k=>{switch(k){case"completed":return"✓";case"running":return"⟳";case"failed":return"✗";case"rate_limited":return"⏱";case"retrying":return"↻";case"cancelled":return"⊘";case"empty":return"·";case"idle":return $>0?"○":"·";default:return"?"}};return n.createElement(a.Box,{key:S,sx:{width:20,height:20,backgroundColor:C(T),borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",color:"white",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease","&:hover":{transform:"scale(1.3)",zIndex:1,boxShadow:`0 0 10px ${a.alpha(d.palette.primary.main,.5)}`}},title:`Cell ${S}: ${T} (${$} samples)`,onClick:()=>o(S,T)},P(T))})),n.createElement(a.Box,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center"}},n.createElement(a.Typography,{variant:"caption",color:"text.secondary"},"Grid: ",f,"x",f," (",f*f," cells)"),n.createElement(a.Typography,{variant:"caption",color:"text.secondary"},i?"Adaptive Quadtree":"Fixed Grid")))}function ec({open:e,onClose:t,cellId:r}){const o=a.useTheme(),s=Ne(),[i,l]=n.useState(null),[u,d]=n.useState(!1),[c,p]=n.useState(null);n.useEffect(()=>{e&&r&&m()},[e,r]);const m=async()=>{var y,w;if(!s){p("Client not available");return}try{d(!0),p(null);const S=await s.get_cell_data({cell_id:r});((y=S==null?void 0:S.result)==null?void 0:y.status)==="success"?l(S.result):p(((w=S==null?void 0:S.result)==null?void 0:w.message)||"Failed to load cell data")}catch(S){p(S instanceof Error?S.message:"Failed to load cell data")}finally{d(!1)}},v=y=>{switch(y){case"completed":return n.createElement(dn,{color:"success"});case"failed":return n.createElement(Mo,{color:"error"});case"rate_limited":return n.createElement(ko,{color:"warning"});case"cancelled":return n.createElement(Mo,{color:"disabled"});default:return n.createElement(pn,{color:"info"})}},h=y=>{switch(y){case"completed":return o.palette.success.main;case"failed":return o.palette.error.main;case"rate_limited":return o.palette.warning.main;case"cancelled":return o.palette.grey[500];case"running":return o.palette.info.main;default:return o.palette.grey[600]}},x=y=>{if(!y)return"N/A";const[w,S,A,$]=y;return`[${w.toFixed(6)}, ${S.toFixed(6)}, ${A.toFixed(6)}, ${$.toFixed(6)}]`},f=y=>{const w={};return y.forEach(S=>{const A=S.feature_type||"unknown";w[A]=(w[A]||0)+1}),w},b=y=>{const w={};return y.forEach(S=>{S.tags&&Object.keys(S.tags).forEach(A=>{w[A]=(w[A]||0)+1})}),w},O=y=>{const w={};return y.forEach(S=>{S.tags&&Object.entries(S.tags).forEach(([A,$])=>{w[A]||(w[A]={count:0,examples:[]}),w[A].count+=1;const T=String($);!w[A].examples.includes(T)&&w[A].examples.length<5&&w[A].examples.push(T)})}),w};return n.createElement(a.Dialog,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{borderRadius:2,maxHeight:"90vh"}}},n.createElement(a.DialogTitle,null,n.createElement(a.Box,{sx:{display:"flex",alignItems:"center",gap:1}},n.createElement(pn,{color:"primary"}),n.createElement(a.Typography,{variant:"h6",component:"span"},"Cell Data Preview: ",r))),n.createElement(a.DialogContent,{dividers:!0},u&&n.createElement(a.Box,{sx:{display:"flex",justifyContent:"center",p:3}},n.createElement(a.CircularProgress,null)),c&&n.createElement(a.Alert,{severity:"error",sx:{mb:2}},c),i&&n.createElement(a.Box,null,n.createElement(a.Paper,{elevation:1,sx:{p:2,mb:3,background:a.alpha(o.palette.primary.main,.02),border:`1px solid ${a.alpha(o.palette.primary.main,.1)}`}},n.createElement(a.Typography,{variant:"h6",sx:{mb:2,fontWeight:600}},"Cell Overview"),n.createElement(a.Stack,{direction:"row",spacing:2,sx:{mb:2}},n.createElement(a.Chip,{icon:v(i.cell_status),label:`Status: ${i.cell_status}`,sx:{backgroundColor:a.alpha(h(i.cell_status),.1),color:h(i.cell_status),border:`1px solid ${a.alpha(h(i.cell_status),.3)}`}}),n.createElement(a.Chip,{label:`Samples: ${i.sample_count}`,variant:"outlined"}),n.createElement(a.Chip,{label:`OSM Features: ${i.osm_features_count||0}`,variant:"outlined"})),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},n.createElement("strong",null,"Coordinates:")," ",x(i.coordinates)),i.error&&n.createElement(a.Alert,{severity:"error",sx:{mt:2}},n.createElement("strong",null,"Error:")," ",i.error)),i.osm_data&&i.osm_data.length>0&&n.createElement(a.Paper,{elevation:1,sx:{p:2,mb:3,background:a.alpha(o.palette.info.main,.02),border:`1px solid ${a.alpha(o.palette.info.main,.1)}`}},n.createElement(a.Typography,{variant:"h6",sx:{mb:2,fontWeight:600}},"OSM Data Statistics"),n.createElement(a.Accordion,null,n.createElement(a.AccordionSummary,{expandIcon:n.createElement(fn,null)},n.createElement(a.Typography,{variant:"subtitle1"},"Feature Types (",Object.keys(f(i.osm_data)).length,")")),n.createElement(a.AccordionDetails,null,n.createElement(a.Stack,{direction:"row",spacing:1,flexWrap:"wrap"},Object.entries(f(i.osm_data)).sort(([,y],[,w])=>w-y).map(([y,w])=>n.createElement(a.Chip,{key:y,label:`${y}: ${w}`,size:"small",variant:"outlined"}))))),n.createElement(a.Accordion,null,n.createElement(a.AccordionSummary,{expandIcon:n.createElement(fn,null)},n.createElement(a.Typography,{variant:"subtitle1"},"OSM Tags (",Object.keys(b(i.osm_data)).length,")")),n.createElement(a.AccordionDetails,null,n.createElement(a.Stack,{direction:"row",spacing:1,flexWrap:"wrap"},Object.entries(b(i.osm_data)).sort(([,y],[,w])=>w-y).slice(0,20).map(([y,w])=>n.createElement(a.Chip,{key:y,label:`${y}: ${w}`,size:"small",variant:"outlined",color:"primary"}))),Object.keys(b(i.osm_data)).length>20&&n.createElement(a.Typography,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"}},"Showing top 20 tags out of ",Object.keys(b(i.osm_data)).length," total"))),n.createElement(a.Accordion,null,n.createElement(a.AccordionSummary,{expandIcon:n.createElement(fn,null)},n.createElement(a.Typography,{variant:"subtitle1"},"Tag Counts & Examples (",Object.keys(O(i.osm_data)).length,")")),n.createElement(a.AccordionDetails,null,n.createElement(a.TableContainer,{sx:{maxHeight:400}},n.createElement(a.Table,{size:"small",stickyHeader:!0},n.createElement(a.TableHead,null,n.createElement(a.TableRow,null,n.createElement(a.TableCell,null,n.createElement("strong",null,"Tag")),n.createElement(a.TableCell,{align:"right"},n.createElement("strong",null,"Count")),n.createElement(a.TableCell,null,n.createElement("strong",null,"Example Values")))),n.createElement(a.TableBody,null,Object.entries(O(i.osm_data)).sort(([,y],[,w])=>w.count-y.count).slice(0,50).map(([y,w])=>n.createElement(a.TableRow,{key:y},n.createElement(a.TableCell,null,n.createElement(a.Chip,{label:y,size:"small",variant:"outlined",color:"primary"})),n.createElement(a.TableCell,{align:"right"},n.createElement(a.Typography,{variant:"body2",fontWeight:"medium"},w.count)),n.createElement(a.TableCell,null,n.createElement(a.Stack,{direction:"row",spacing:.5,flexWrap:"wrap"},w.examples.map((S,A)=>n.createElement(a.Chip,{key:A,label:S,size:"small",variant:"filled",sx:{backgroundColor:a.alpha(o.palette.secondary.main,.1),color:o.palette.secondary.main,fontSize:"0.75rem",height:"20px"}})),w.examples.length===5&&n.createElement(a.Typography,{variant:"caption",color:"text.secondary",sx:{alignSelf:"center",ml:.5}},"+more")))))))),Object.keys(O(i.osm_data)).length>50&&n.createElement(a.Typography,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"}},"Showing top 50 tags out of ",Object.keys(O(i.osm_data)).length," total")))),i.osm_data&&i.osm_data.length>0&&n.createElement(a.Paper,{elevation:1,sx:{p:2,background:a.alpha(o.palette.grey[100],.5),border:`1px solid ${a.alpha(o.palette.grey[300],.5)}`}},n.createElement(a.Typography,{variant:"h6",sx:{mb:2,fontWeight:600}},"Raw OSM Data (",i.osm_data.length," features)"),n.createElement(a.Accordion,null,n.createElement(a.AccordionSummary,{expandIcon:n.createElement(fn,null)},n.createElement(a.Typography,{variant:"subtitle1"},n.createElement(Ll,{sx:{mr:1,verticalAlign:"middle"}}),"View Raw Data")),n.createElement(a.AccordionDetails,null,n.createElement(a.TableContainer,{sx:{maxHeight:400}},n.createElement(a.Table,{size:"small",stickyHeader:!0},n.createElement(a.TableHead,null,n.createElement(a.TableRow,null,n.createElement(a.TableCell,null,"Type"),n.createElement(a.TableCell,null,"ID"),n.createElement(a.TableCell,null,"Feature Type"),n.createElement(a.TableCell,null,"Tags"))),n.createElement(a.TableBody,null,i.osm_data.slice(0,50).map((y,w)=>n.createElement(a.TableRow,{key:w},n.createElement(a.TableCell,null,y.type),n.createElement(a.TableCell,null,y.id),n.createElement(a.TableCell,null,y.feature_type||"N/A"),n.createElement(a.TableCell,null,n.createElement(a.Box,{sx:{maxWidth:200,overflow:"hidden"}},y.tags?Object.entries(y.tags).slice(0,3).map(([S,A])=>n.createElement(a.Chip,{key:S,label:`${S}=${A}`,size:"small",sx:{mr:.5,mb:.5}})):n.createElement(a.Typography,{variant:"caption",color:"text.secondary"},"No tags"),y.tags&&Object.keys(y.tags).length>3&&n.createElement(a.Typography,{variant:"caption",color:"text.secondary"},"+",Object.keys(y.tags).length-3," more")))))))),i.osm_data.length>50&&n.createElement(a.Typography,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"}},"Showing first 50 features out of ",i.osm_data.length," total")))),i.osm_data&&i.osm_data.length===0&&n.createElement(a.Paper,{elevation:1,sx:{p:3,textAlign:"center",background:a.alpha(o.palette.grey[100],.5),border:`1px solid ${a.alpha(o.palette.grey[300],.5)}`}},n.createElement(a.Typography,{variant:"body1",color:"text.secondary"},"No OSM data found in this cell")))),n.createElement(a.DialogActions,null,n.createElement(a.Button,{onClick:t,variant:"outlined"},"Close"),n.createElement(a.Button,{onClick:m,variant:"contained",disabled:u},"Refresh")))}function tc(){const e=a.useTheme(),{state:t,derived:r}=Xn(),{state:o,actions:s,derived:i}=Qn(),[l,u]=n.useState(null),[d,c]=n.useState(!1),[p,m]=n.useState(!1),v=async()=>{(await s.startIndexing()).success},h=async()=>{console.log("Pausing indexing...")},x=async()=>{(await s.startIndexing()).success},f=async()=>{const $=await s.cancelIndexing();$.success?console.log("Indexing cancelled successfully"):console.error("Failed to cancel indexing:",$.error)},b=async()=>{(await s.dropIndex()).success},O=()=>{m(!0)},y=async()=>{m(!1),(await s.resetMetageo()).success},w=()=>{m(!1)},S=($,T)=>{u($),c(!0)},A=()=>{c(!1),u(null)};return n.createElement(a.Box,null,n.createElement(a.Typography,{variant:"h6",sx:{mb:3,fontWeight:600,color:e.palette.text.primary,display:"flex",alignItems:"center",gap:1}},n.createElement(pn,{color:"primary"}),"Step 2: Indexing"),!i.hasExistingIndex&&n.createElement(a.Typography,{variant:"body2",sx:{mb:3,color:e.palette.text.secondary,lineHeight:1.6}},"Run the indexing operation to download OpenStreetMap data for each geographic region. This step requires the configuration from Step 1."),i.hasExistingIndex&&n.createElement(a.Typography,{variant:"body2",sx:{mb:3,color:e.palette.text.secondary,lineHeight:1.6}},r.isCompleted?"Indexing completed successfully! You can view the results below or proceed to the next step.":r.isIndexing?"Indexing is currently in progress. Monitor the grid below to track progress.":"Resume or restart the indexing operation to download OpenStreetMap data for each geographic region."),t.bbox?n.createElement(n.Fragment,null,n.createElement(Rl,{bbox:[t.bbox.minLon,t.bbox.minLat,t.bbox.maxLon,t.bbox.maxLat],isLoading:r.isIndexing,realSampleCounts:t.realSampleDistribution||{},onCellStatusChange:S,quadtreeCells:t.quadtreeCells||[],useQuadtree:(t.quadtreeCells||[]).length>0,indexingStatus:t.indexingStatus,gridCells:t.gridCells||[]}),r.isCompleted&&n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:3,background:a.alpha(e.palette.success.main,.05),border:`1px solid ${a.alpha(e.palette.success.main,.2)}`,borderRadius:2}},n.createElement(a.Box,{sx:{display:"flex",alignItems:"center",mb:2}},n.createElement(dn,{sx:{fontSize:32,color:e.palette.success.main,mr:2}}),n.createElement(a.Typography,{variant:"h6",sx:{fontWeight:600,color:e.palette.success.main}},"Indexing Completed Successfully!")),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"All grid cells have been processed. You can now proceed to the Mapping step to configure how OSM data should be mapped to your dataset fields.")),n.createElement(a.Paper,{elevation:1,sx:{p:3,mt:3,background:a.alpha(e.palette.warning.main,.02),border:`1px solid ${a.alpha(e.palette.warning.main,.1)}`,borderRadius:2}},n.createElement(a.Typography,{variant:"h6",sx:{mb:2,fontWeight:600,color:e.palette.text.primary}},"Indexing Controls"),n.createElement(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},"Control the indexing process. Start indexing to begin downloading OSM data for each geographic region."),r.hasExistingIndex&&n.createElement(a.Box,{sx:{mb:3,p:2,bgcolor:a.alpha(e.palette.info.main,.05),borderRadius:1,border:`1px solid ${a.alpha(e.palette.info.main,.2)}`}},n.createElement(a.Typography,{variant:"body2",sx:{display:"flex",alignItems:"center",gap:1,mb:2}},n.createElement("span",null,"ℹ️"),n.createElement("strong",null,"Existing index loaded!")," You can continue with this index or drop it to start fresh."),n.createElement(a.Typography,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:2}},"Grid cells: ",t.gridCells.length," | Status:"," ",t.indexingStatus," | Quadtree cells:"," ",t.quadtreeCells.length),n.createElement(a.Button,{onClick:b,startIcon:n.createElement(wo,null),variant:"outlined",size:"small",sx:{borderColor:e.palette.error.main,color:e.palette.error.main,"&:hover":{borderColor:e.palette.error.dark,color:e.palette.error.dark}}},"Drop Index")),n.createElement(a.Stack,{direction:"row",spacing:2,sx:{mb:3}},n.createElement(a.Button,{onClick:v,disabled:!t.bbox||r.isIndexing,startIcon:n.createElement("span",null,"▶️"),variant:"contained",color:"success",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},r.isIndexing?"Indexing...":r.hasExistingIndex?"Resume Indexing":"Start Indexing"),n.createElement(a.Button,{onClick:h,disabled:!r.isIndexing,startIcon:n.createElement("span",null,"⏸️"),variant:"outlined",color:"warning",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},"Pause"),n.createElement(a.Button,{onClick:x,disabled:!r.isFailed,startIcon:n.createElement("span",null,"🔄"),variant:"outlined",color:"info",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},"Retry"),n.createElement(a.Button,{onClick:f,disabled:!r.isIndexing,startIcon:n.createElement("span",null,"❌"),variant:"outlined",color:"error",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},"Cancel & Clear"),n.createElement(a.Button,{onClick:O,startIcon:n.createElement("span",null,"🔄"),variant:"outlined",color:"warning",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},"Start Over")))):n.createElement(a.Paper,{elevation:1,sx:{p:4,textAlign:"center",background:a.alpha(e.palette.grey[100],.5),border:`2px dashed ${e.palette.grey[300]}`}},n.createElement(ko,{sx:{fontSize:48,color:e.palette.warning.main,mb:2}}),n.createElement(a.Typography,{variant:"h6",sx:{mb:2,fontWeight:600}},"Configuration Required"),n.createElement(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},"Please complete the Index Configuration step first to set geographic boundaries before you can start indexing."),n.createElement(a.Button,{variant:"outlined",color:"warning",onClick:b,startIcon:n.createElement(qe,null),sx:{textTransform:"none",fontWeight:600}},"Clear All Metageo State")),n.createElement(ec,{open:d,onClose:A,cellId:l||""}),n.createElement(a.Dialog,{open:p,onClose:w,"aria-labelledby":"reset-dialog-title","aria-describedby":"reset-dialog-description"},n.createElement(a.DialogTitle,{id:"reset-dialog-title"},"Start Over - Reset All Metageo Data"),n.createElement(a.DialogContent,null,n.createElement(a.DialogContentText,{id:"reset-dialog-description"},"This will completely reset all Metageo configuration and indexing data. You will lose:",n.createElement("br",null),"• All indexing progress and OSM data",n.createElement("br",null),"• Grid configuration and sample distribution",n.createElement("br",null),"• Mapping configuration",n.createElement("br",null),"• Any completed indexing results",n.createElement("br",null),n.createElement("br",null),"This action cannot be undone. Are you sure you want to start over?")),n.createElement(a.DialogActions,null,n.createElement(a.Button,{onClick:w,color:"primary"},"Cancel"),n.createElement(a.Button,{onClick:y,color:"error",variant:"contained"},"Yes, Start Over"))))}function nc(){const[e,t]=n.useState([]),[r,o]=n.useState(!1),[s,i]=n.useState(null),[l,u]=n.useState(!1),d=Ne(),c=n.useCallback(async()=>{var p,m,v,h,x,f,b,O;if(console.log("🔍 useOsmTags: loadOsmTags called"),!d){console.log("🔍 useOsmTags: Client not available"),i("Client not available"),o(!1);return}try{console.log("🔍 useOsmTags: Setting loading to true"),o(!0),i(null),console.log("🔍 useOsmTags: Calling client.get_available_osm_tags()");const y=await d.get_available_osm_tags();console.log("🔍 useOsmTags: Result received:",y),console.log("🔍 useOsmTags: result.result:",y==null?void 0:y.result),console.log("🔍 useOsmTags: result.result.status:",(p=y==null?void 0:y.result)==null?void 0:p.status),console.log("🔍 useOsmTags: result.result.tags:",(m=y==null?void 0:y.result)==null?void 0:m.tags),((v=y==null?void 0:y.result)==null?void 0:v.status)==="success"&&y.result.tags?(console.log("🔍 useOsmTags: Success - setting tags:",y.result.tags),t(y.result.tags),u(!0)):((h=y==null?void 0:y.result)==null?void 0:h.status)==="no_index"?(console.log("🔍 useOsmTags: No index found"),i(((x=y==null?void 0:y.result)==null?void 0:x.message)||"No completed index found. Please complete the indexing step first."),t([]),u(!0)):((f=y==null?void 0:y.result)==null?void 0:f.status)==="error"?(console.log("🔍 useOsmTags: Backend error"),i(((b=y==null?void 0:y.result)==null?void 0:b.message)||"Failed to load OSM tags"),t([]),u(!0)):(console.log("🔍 useOsmTags: Unknown status - result:",y),console.log("🔍 useOsmTags: Unknown status - result.result:",y==null?void 0:y.result),i(((O=y==null?void 0:y.result)==null?void 0:O.message)||"Failed to load OSM tags"),t([]),u(!0))}catch(y){console.error("🔍 useOsmTags: Exception:",y),i(y instanceof Error?y.message:"Failed to load OSM tags"),t([]),u(!0)}finally{console.log("🔍 useOsmTags: Setting loading to false"),o(!1)}},[d]);return n.useEffect(()=>{d&&!l&&!r&&(console.log("🔍 useOsmTags: Auto-loading OSM tags on mount"),c())},[d,l,r,c]),{osmTags:e,loading:r,error:s,hasLoaded:l,refetch:c}}const rc=[{value:"string",label:"String",description:"Text values"},{value:"int",label:"Integer",description:"Whole numbers"},{value:"float",label:"Float",description:"Decimal numbers"},{value:"bool",label:"Boolean",description:"True/False values"},{value:"enum",label:"Enum",description:"Categorical values"}];function oc({fieldMappings:e,osmTags:t,onAddMapping:r,onUpdateMapping:o,onRemoveMapping:s}){var $;const i=a.useTheme(),l=Ne(),[u,d]=n.useState(!1),[c,p]=n.useState(null),[m,v]=n.useState([]);n.useEffect(()=>{(async()=>{var C;if(l)try{const P=await l.get_field_mappings();((C=P==null?void 0:P.result)==null?void 0:C.status)==="success"&&v(P.result.used_field_names||[])}catch(P){console.error("Error loading field mappings:",P)}})()},[l,e]);const[h,x]=n.useState({osmKey:"",fieldName:"",fieldType:"string",boolTrueValue:"yes",boolFalseValue:"no",enumMappings:{},defaultValue:"",description:""}),f=T=>{if(T!==void 0){const C=e[T];x({osmKey:C.osmKey,fieldName:C.fieldName,fieldType:C.fieldType,boolTrueValue:C.boolTrueValue||"yes",boolFalseValue:C.boolFalseValue||"no",enumMappings:C.enumMappings||{},defaultValue:C.defaultValue||"",description:C.description||""}),p(T)}else x({osmKey:"",fieldName:"",fieldType:"string",boolTrueValue:"yes",boolFalseValue:"no",enumMappings:{},defaultValue:"",description:""}),p(null);d(!0)},b=()=>{d(!1),p(null)},O=()=>{const T={id:c!==null?e[c].id:`mapping_${Date.now()}`,osmKey:h.osmKey,fieldName:h.fieldName,fieldType:h.fieldType,boolTrueValue:h.fieldType==="bool"?h.boolTrueValue:void 0,boolFalseValue:h.fieldType==="bool"?h.boolFalseValue:void 0,enumMappings:h.fieldType==="enum"?h.enumMappings:void 0,defaultValue:h.defaultValue||void 0,description:h.description||void 0};c!==null?o(c,T):r(T),b()},y=()=>{x(T=>({...T,enumMappings:{...T.enumMappings,"":""}}))},w=(T,C,P)=>{x(k=>{const F={...k.enumMappings};return delete F[T],F[C]=P,{...k,enumMappings:F}})},S=T=>{x(C=>{const P={...C.enumMappings};return delete P[T],{...C,enumMappings:P}})},A=T=>({building:["yes","house","apartments","commercial","industrial"],highway:["primary","secondary","residential","footway","cycleway"],amenity:["restaurant","school","hospital","bank","fuel"],landuse:["residential","commercial","industrial","forest","farmland"],natural:["water","wood","grassland","scrub","bare_rock"],leisure:["park","playground","sports_centre","swimming_pool","golf_course"],shop:["supermarket","bakery","clothes","electronics","books"],tourism:["hotel","museum","attraction","information","guest_house"]})[T]||[];return n.createElement(a.Box,null,n.createElement(a.Stack,{spacing:2},n.createElement(a.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.createElement(a.Typography,{variant:"h6",sx:{fontWeight:600}},"Field Mappings (",e.length,")"),n.createElement(a.Button,{variant:"contained",startIcon:n.createElement(Yn,null),onClick:()=>f(),size:"small"},"Add Mapping")),e.length===0?n.createElement(a.Alert,{severity:"info",sx:{mb:2}},'No field mappings configured. Click "Add Mapping" to create your first mapping.'):n.createElement(a.Stack,{spacing:1},e.map((T,C)=>n.createElement(a.Paper,{key:T.id,elevation:1,sx:{p:2,border:`1px solid ${a.alpha(i.palette.divider,.5)}`,borderRadius:1}},n.createElement(a.Stack,{direction:"row",spacing:2,alignItems:"center"},n.createElement(a.Box,{sx:{flex:1}},n.createElement(a.Stack,{direction:"row",spacing:2,alignItems:"center"},n.createElement(a.Chip,{label:T.osmKey,size:"small",color:"primary",variant:"outlined"}),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"→"),n.createElement(a.Chip,{label:T.fieldName,size:"small",color:"secondary",variant:"outlined"}),n.createElement(a.Chip,{label:T.fieldType,size:"small",color:"default",variant:"filled"})),T.description&&n.createElement(a.Typography,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"}},T.description)),n.createElement(a.Stack,{direction:"row",spacing:1},n.createElement(a.Tooltip,{title:"Edit mapping"},n.createElement(a.IconButton,{size:"small",onClick:()=>f(C)},n.createElement(Oo,{fontSize:"small"}))),n.createElement(a.Tooltip,{title:"Delete mapping"},n.createElement(a.IconButton,{size:"small",onClick:()=>s(C),color:"error"},n.createElement(qe,{fontSize:"small"}))))))))),n.createElement(a.Dialog,{open:u,onClose:b,maxWidth:"md",fullWidth:!0},n.createElement(a.DialogTitle,null,c!==null?"Edit Field Mapping":"Add Field Mapping"),n.createElement(a.DialogContent,null,n.createElement(a.Stack,{spacing:3,sx:{mt:1}},n.createElement(a.Autocomplete,{freeSolo:!0,options:t.map(T=>T.key),value:h.osmKey,onChange:(T,C)=>{const P=C||"";x(k=>({...k,osmKey:P,fieldName:P}))},renderInput:T=>n.createElement(a.TextField,{...T,label:"OSM Tag Key",placeholder:"e.g., building, highway, amenity",helperText:`The OSM tag key to map from (${t.length} available tags)`,required:!0}),renderOption:(T,C)=>{const P=t.find(k=>k.key===C);return n.createElement(a.Box,{component:"li",...T},n.createElement(a.Box,{sx:{width:"100%"}},n.createElement(a.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5}},n.createElement(a.Typography,{variant:"body2",sx:{fontWeight:500}},C),P&&n.createElement(a.Typography,{variant:"caption",color:"text.secondary"},P.count," features")),P&&P.examples&&P.examples.length>0&&n.createElement(a.Box,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},P.examples.slice(0,3).map((k,F)=>n.createElement(a.Chip,{key:F,label:k,size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:20,"& .MuiChip-label":{px:.5}}})),P.examples.length>3&&n.createElement(a.Typography,{variant:"caption",color:"text.secondary",sx:{alignSelf:"center"}},"+",P.examples.length-3," more"))))}}),n.createElement(a.TextField,{label:"Dataset Field Name",value:h.fieldName,onChange:T=>x(C=>({...C,fieldName:T.target.value})),placeholder:"e.g., building_type, road_type",helperText:"The field name in your FiftyOne dataset",required:!0,error:m.includes(h.fieldName)&&h.fieldName!=="",InputProps:{endAdornment:m.includes(h.fieldName)&&h.fieldName!==""?n.createElement(a.Tooltip,{title:"This field name is already used"},n.createElement(Io,{color:"error",fontSize:"small"})):null}}),m.includes(h.fieldName)&&h.fieldName!==""&&n.createElement(a.Alert,{severity:"error",size:"small"},'Field name "',h.fieldName,'" is already used in another mapping.'),n.createElement(a.FormControl,{fullWidth:!0},n.createElement(a.InputLabel,null,"Field Type"),n.createElement(a.Select,{value:h.fieldType,onChange:T=>x(C=>({...C,fieldType:T.target.value})),label:"Field Type"},rc.map(T=>n.createElement(a.MenuItem,{key:T.value,value:T.value},n.createElement(a.Box,null,n.createElement(a.Typography,{variant:"body2",sx:{fontWeight:500}},T.label),n.createElement(a.Typography,{variant:"caption",color:"text.secondary"},T.description)))))),h.fieldType==="bool"&&n.createElement(a.Stack,{spacing:2},n.createElement(a.Typography,{variant:"subtitle2"},"Boolean Mapping"),n.createElement(a.Stack,{direction:"row",spacing:2},n.createElement(a.TextField,{label:"True Value",value:h.boolTrueValue,onChange:T=>x(C=>({...C,boolTrueValue:T.target.value})),helperText:"OSM value that maps to true",size:"small"}),n.createElement(a.TextField,{label:"False Value",value:h.boolFalseValue,onChange:T=>x(C=>({...C,boolFalseValue:T.target.value})),helperText:"OSM value that maps to false",size:"small"}))),h.fieldType==="enum"&&n.createElement(a.Stack,{spacing:2},n.createElement(a.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.createElement(a.Typography,{variant:"subtitle2"},"Enum Mappings"),n.createElement(a.Button,{size:"small",startIcon:n.createElement(Yn,null),onClick:y},"Add Mapping")),n.createElement(a.Stack,{spacing:1},Object.entries(h.enumMappings).map(([T,C])=>n.createElement(a.Stack,{key:T,direction:"row",spacing:1,alignItems:"center"},n.createElement(a.TextField,{label:"OSM Value",value:T,onChange:P=>w(T,P.target.value,C),size:"small",sx:{flex:1}}),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"→"),n.createElement(a.TextField,{label:"Dataset Value",value:C,onChange:P=>w(T,T,P.target.value),size:"small",sx:{flex:1}}),n.createElement(a.IconButton,{size:"small",onClick:()=>S(T),color:"error"},n.createElement(qe,{fontSize:"small"}))))),h.osmKey&&n.createElement(a.Alert,{severity:"info"},n.createElement(a.Typography,{variant:"body2"},"Common values for ",n.createElement("strong",null,h.osmKey),": ",A(h.osmKey).join(", ")))),n.createElement(a.TextField,{label:"Default Value",value:h.defaultValue,onChange:T=>x(C=>({...C,defaultValue:T.target.value})),helperText:"Value to use when OSM tag is not found",placeholder:"e.g., unknown, null, 0"}),n.createElement(a.TextField,{label:"Description",value:h.description,onChange:T=>x(C=>({...C,description:T.target.value})),helperText:"Optional description for documentation",multiline:!0,rows:2}))),n.createElement(a.DialogActions,null,n.createElement(a.Button,{onClick:b},"Cancel"),n.createElement(a.Button,{onClick:O,variant:"contained",disabled:!h.osmKey||!h.fieldName||m.includes(h.fieldName)&&(c===null||(($=e[c])==null?void 0:$.fieldName)!==h.fieldName)},c!==null?"Update":"Add"," Mapping"))))}const ac=[{value:"string",label:"String",description:"Text values"},{value:"int",label:"Integer",description:"Whole numbers"},{value:"float",label:"Float",description:"Decimal numbers"},{value:"bool",label:"Boolean",description:"True/False values"}];function sc({tagMappings:e,osmTags:t,onAddMapping:r,onUpdateMapping:o,onRemoveMapping:s}){var w;const i=a.useTheme(),l=Ne(),[u,d]=n.useState(!1),[c,p]=n.useState(null),[m,v]=n.useState([]);n.useEffect(()=>{(async()=>{var A;if(l)try{const $=await l.get_field_mappings();((A=$==null?void 0:$.result)==null?void 0:A.status)==="success"&&v($.result.used_field_names||[])}catch($){console.error("Error loading field mappings:",$)}})()},[l,e]);const[h,x]=n.useState({osmKey:"",fieldName:"",fieldType:"string",boolTrueValue:"yes",boolFalseValue:"no"}),f=S=>{if(S!==void 0){const A=e[S];x({osmKey:A.osmKey,fieldName:A.fieldName,fieldType:A.fieldType,boolTrueValue:A.boolTrueValue||"yes",boolFalseValue:A.boolFalseValue||"no"}),p(S)}else x({osmKey:"",fieldName:"",fieldType:"string",boolTrueValue:"yes",boolFalseValue:"no"}),p(null);d(!0)},b=()=>{d(!1),p(null)},O=()=>{const S={osmKey:h.osmKey,fieldName:h.fieldName,fieldType:h.fieldType,boolTrueValue:h.fieldType==="bool"?h.boolTrueValue:void 0,boolFalseValue:h.fieldType==="bool"?h.boolFalseValue:void 0};c!==null?o(c,S):r(S),b()},y=S=>{const A=t.find($=>$.key===S);return(A==null?void 0:A.examples)||[]};return n.createElement(a.Box,null,n.createElement(a.Stack,{spacing:2},n.createElement(a.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.createElement(a.Typography,{variant:"h6",sx:{fontWeight:600}},"Tag Mappings (",e.length,")"),n.createElement(a.Button,{variant:"contained",startIcon:n.createElement(Yn,null),onClick:()=>f(),size:"small"},"Add Tag Mapping")),e.length===0?n.createElement(a.Alert,{severity:"info",sx:{mb:2}},'No tag mappings configured. Click "Add Tag Mapping" to create your first mapping.'):n.createElement(a.Stack,{spacing:1},e.map((S,A)=>n.createElement(a.Paper,{key:`${S.osmKey}-${S.fieldName}-${A}`,elevation:1,sx:{p:2,border:`1px solid ${a.alpha(i.palette.divider,.5)}`,borderRadius:1}},n.createElement(a.Stack,{direction:"row",spacing:2,alignItems:"center"},n.createElement(a.Box,{sx:{flex:1}},n.createElement(a.Stack,{direction:"row",spacing:2,alignItems:"center"},n.createElement(a.Chip,{label:S.osmKey,size:"small",color:"primary",variant:"outlined"}),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"→"),n.createElement(a.Chip,{label:S.fieldName,size:"small",color:"secondary",variant:"outlined"}),n.createElement(a.Chip,{label:S.fieldType,size:"small",color:"default",variant:"filled"}),S.fieldType==="bool"&&n.createElement(n.Fragment,null,n.createElement(a.Typography,{variant:"caption",color:"text.secondary"},S.boolTrueValue," = true"),n.createElement(a.Typography,{variant:"caption",color:"text.secondary"},S.boolFalseValue," = false")))),n.createElement(a.Stack,{direction:"row",spacing:1},n.createElement(a.Tooltip,{title:"Edit mapping"},n.createElement(a.IconButton,{size:"small",onClick:()=>f(A)},n.createElement(Oo,{fontSize:"small"}))),n.createElement(a.Tooltip,{title:"Delete mapping"},n.createElement(a.IconButton,{size:"small",onClick:()=>s(A),color:"error"},n.createElement(qe,{fontSize:"small"}))))))))),n.createElement(a.Dialog,{open:u,onClose:b,maxWidth:"md",fullWidth:!0},n.createElement(a.DialogTitle,null,c!==null?"Edit Tag Mapping":"Add Tag Mapping"),n.createElement(a.DialogContent,null,n.createElement(a.Stack,{spacing:3,sx:{mt:1}},n.createElement(a.Autocomplete,{freeSolo:!0,options:t.map(S=>S.key),value:h.osmKey,onChange:(S,A)=>{const $=A||"";x(T=>({...T,osmKey:$,fieldName:$}))},renderInput:S=>n.createElement(a.TextField,{...S,label:"OSM Tag Key",placeholder:"e.g., building, highway, amenity",helperText:"The OSM tag key to map from",required:!0}),renderOption:(S,A)=>{const $=t.find(T=>T.key===A);return n.createElement(a.Box,{component:"li",...S},n.createElement(a.Box,{sx:{width:"100%"}},n.createElement(a.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5}},n.createElement(a.Typography,{variant:"body2",sx:{fontWeight:500}},A),$&&n.createElement(a.Typography,{variant:"caption",color:"text.secondary"},$.count," features")),$&&$.examples&&$.examples.length>0&&n.createElement(a.Box,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},$.examples.slice(0,3).map((T,C)=>n.createElement(a.Chip,{key:C,label:T,size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:20,"& .MuiChip-label":{px:.5}}})),$.examples.length>3&&n.createElement(a.Typography,{variant:"caption",color:"text.secondary",sx:{alignSelf:"center"}},"+",$.examples.length-3," more"))))}}),n.createElement(a.TextField,{label:"Sample Field Name",value:h.fieldName,onChange:S=>x(A=>({...A,fieldName:S.target.value})),placeholder:"e.g., has_building, road_type, amenity_type",helperText:"The field name where the tag value will be stored on samples",required:!0,error:m.includes(h.fieldName)&&h.fieldName!=="",InputProps:{endAdornment:m.includes(h.fieldName)&&h.fieldName!==""?n.createElement(a.Tooltip,{title:"This field name is already used"},n.createElement(Io,{color:"error",fontSize:"small"})):null}}),m.includes(h.fieldName)&&h.fieldName!==""&&n.createElement(a.Alert,{severity:"error",size:"small"},'Field name "',h.fieldName,'" is already used in another mapping.'),n.createElement(a.FormControl,{fullWidth:!0},n.createElement(a.InputLabel,null,"Field Type"),n.createElement(a.Select,{value:h.fieldType,onChange:S=>x(A=>({...A,fieldType:S.target.value})),label:"Field Type"},ac.map(S=>n.createElement(a.MenuItem,{key:S.value,value:S.value},n.createElement(a.Box,null,n.createElement(a.Typography,{variant:"body2",sx:{fontWeight:500}},S.label),n.createElement(a.Typography,{variant:"caption",color:"text.secondary"},S.description)))))),h.fieldType==="bool"&&n.createElement(a.Stack,{spacing:2},n.createElement(a.Typography,{variant:"subtitle2"},"Boolean Mapping"),n.createElement(a.Stack,{direction:"row",spacing:2},n.createElement(a.TextField,{label:"True Value",value:h.boolTrueValue,onChange:S=>x(A=>({...A,boolTrueValue:S.target.value})),helperText:"OSM value that maps to true",size:"small"}),n.createElement(a.TextField,{label:"False Value",value:h.boolFalseValue,onChange:S=>x(A=>({...A,boolFalseValue:S.target.value})),helperText:"OSM value that maps to false",size:"small"})),h.osmKey&&n.createElement(a.Alert,{severity:"info"},n.createElement(a.Typography,{variant:"body2"},"Example values for ",n.createElement("strong",null,h.osmKey),": ",y(h.osmKey).join(", ")))),h.fieldType!=="bool"&&h.osmKey&&n.createElement(a.Alert,{severity:"info"},n.createElement(a.Typography,{variant:"body2"},"Example values for ",n.createElement("strong",null,h.osmKey),": ",y(h.osmKey).join(", "))))),n.createElement(a.DialogActions,null,n.createElement(a.Button,{onClick:b},"Cancel"),n.createElement(a.Button,{onClick:O,variant:"contained",disabled:!h.osmKey||!h.fieldName||m.includes(h.fieldName)&&(c===null||((w=e[c])==null?void 0:w.fieldName)!==h.fieldName)},c!==null?"Update":"Add"," Mapping"))))}function ic(){const e=a.useTheme(),{state:t,actions:r}=$t(),{osmTags:o,loading:s,error:i,hasLoaded:l}=nc();return Ne(),n.createElement(a.Box,{sx:{maxWidth:1200,mx:"auto",p:3}},n.createElement(a.Typography,{variant:"h4",sx:{mb:4,fontWeight:600}},"Step 3: Mapping Configuration"),n.createElement(a.Typography,{variant:"body1",sx:{mb:4,color:"text.secondary"}},"Configure how OpenStreetMap data should be mapped to your dataset. You can create 3D detections, tag samples, map OSM tags to fields, and include metadata."),n.createElement(a.Box,{sx:{mb:3,display:"flex",justifyContent:"flex-end"}},n.createElement(a.Button,{variant:"outlined",color:"warning",startIcon:n.createElement(qe,null),onClick:r.clearMappingConfig,sx:{minWidth:200}},"Clear Configuration")),n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:3}},n.createElement(a.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2}},n.createElement(Vn,{color:"primary"}),n.createElement(a.Typography,{variant:"h6",sx:{fontWeight:600}},"Available OSM Tags"),s&&n.createElement(a.Typography,{variant:"caption",color:"primary"},"Loading...")),n.createElement(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2}},"OSM tags from your indexed data are automatically loaded to help configure mappings."),i&&n.createElement(a.Alert,{severity:"error",sx:{mb:2}},"Error: ",i),o.length>0&&n.createElement(a.Box,null,n.createElement(a.Typography,{variant:"body2",sx:{mb:1}},"Found ",o.length," OSM tags:"),n.createElement(a.Box,{sx:{display:"flex",flexWrap:"wrap",gap:1}},o.slice(0,20).map(u=>n.createElement(a.Chip,{key:u.key,label:`${u.key} (${u.count})`,size:"small",color:"primary",variant:"outlined"})),o.length>20&&n.createElement(a.Chip,{label:`+${o.length-20} more`,size:"small",color:"default",variant:"outlined"}))),o.length===0&&!s&&!i&&l&&n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"No OSM tags found. Please complete the indexing step first."),o.length===0&&!s&&!i&&!l&&n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"Loading OSM tags...")),n.createElement(a.Paper,{elevation:0,sx:{p:3,mb:3,border:`1px solid ${a.alpha(e.palette.divider,.5)}`,borderRadius:1}},n.createElement(a.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2}},n.createElement(pt,{color:"primary"}),n.createElement(a.Typography,{variant:"h6",sx:{fontWeight:600}},"3D Detections")),n.createElement(a.FormControlLabel,{control:n.createElement(a.Switch,{checked:t.enable3DDetections,onChange:u=>r.setEnable3DDetections(u.target.checked)}),label:"Enable 3D detections",sx:{mb:2}}),t.enable3DDetections&&n.createElement(a.Stack,{spacing:3},n.createElement(a.TextField,{label:"3D Slice",value:t.threeDSlice,onChange:u=>r.setThreeDSlice(u.target.value),placeholder:"e.g., default, lidar, pointcloud",helperText:"The slice of the group dataset containing 3D data",fullWidth:!0}),n.createElement(a.TextField,{label:"Detection Field Name",value:t.detectionFieldName,onChange:u=>r.setDetectionFieldName(u.target.value),placeholder:"e.g., my_detections, osm_detections",helperText:"The field name where 3D detections will be stored",fullWidth:!0}),n.createElement(a.Autocomplete,{freeSolo:!0,options:o.map(u=>u.key),value:t.detectionLabelTag,onChange:(u,d)=>r.setDetectionLabelTag(d||""),renderInput:u=>n.createElement(a.TextField,{...u,label:"Label Tag",placeholder:"e.g., type, amenity, building",helperText:"The OSM tag to use as the detection label"}),renderOption:(u,d)=>{const c=o.find(p=>p.key===d);return n.createElement(a.Box,{component:"li",...u},n.createElement(a.Box,{sx:{width:"100%"}},n.createElement(a.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5}},n.createElement(a.Typography,{variant:"body2",sx:{fontWeight:500}},d),c&&n.createElement(a.Typography,{variant:"caption",color:"text.secondary"},c.count," features")),c&&c.examples&&c.examples.length>0&&n.createElement(a.Box,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},c.examples.slice(0,3).map((p,m)=>n.createElement(a.Chip,{key:m,label:p,size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:20,"& .MuiChip-label":{px:.5}}})),c.examples.length>3&&n.createElement(a.Typography,{variant:"caption",color:"text.secondary",sx:{alignSelf:"center"}},"+",c.examples.length-3," more"))))}}),n.createElement(a.TextField,{label:"Detection Radius (meters)",type:"number",value:t.detectionRadius,onChange:u=>r.setDetectionRadius(Number(u.target.value)),helperText:"OSM nodes further than this distance will not be mapped",inputProps:{min:1,max:1e4},fullWidth:!0}))),n.createElement(a.Paper,{elevation:0,sx:{p:3,mb:3,border:`1px solid ${a.alpha(e.palette.divider,.5)}`,borderRadius:1}},n.createElement(a.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2}},n.createElement(pt,{color:"primary"}),n.createElement(a.Typography,{variant:"h6",sx:{fontWeight:600}},"Sample Tagging")),n.createElement(a.FormControlLabel,{control:n.createElement(a.Switch,{checked:t.enableSampleTagging,onChange:u=>r.setEnableSampleTagging(u.target.checked)}),label:"Enable sample tagging",sx:{mb:2}}),t.enableSampleTagging&&n.createElement(a.Stack,{spacing:3},n.createElement(a.TextField,{label:"Tag Slice",value:t.tagSlice,onChange:u=>r.setTagSlice(u.target.value),placeholder:"e.g., default, tags, metadata",helperText:"The slice where tags will be stored",fullWidth:!0}),n.createElement(a.TextField,{label:"Tag Radius (meters)",type:"number",value:t.tagRadius,onChange:u=>r.setTagRadius(Number(u.target.value)),helperText:"OSM nodes further than this distance will not be considered",inputProps:{min:1,max:1e4},fullWidth:!0}),n.createElement(a.Box,null,n.createElement(a.Typography,{variant:"subtitle2",sx:{mb:2}},"Rendering Options"),n.createElement(a.Stack,{direction:"row",spacing:2},n.createElement(a.FormControlLabel,{control:n.createElement(a.Switch,{checked:t.renderOn3D,onChange:u=>r.setRenderOn3D(u.target.checked)}),label:"Render on 3D"}),n.createElement(a.FormControlLabel,{control:n.createElement(a.Switch,{checked:t.renderOn2D,onChange:u=>r.setRenderOn2D(u.target.checked)}),label:"Render on 2D"}))),n.createElement(a.Box,null,n.createElement(a.Typography,{variant:"subtitle2",sx:{mb:2}},"OSM Tag Mappings"),n.createElement(a.Alert,{severity:"info",sx:{mb:2}},'Configure which OSM tags should be used for sample tagging. For example, map "building=yes" to a boolean field.'),n.createElement(sc,{tagMappings:t.tagMappings,osmTags:o,onAddMapping:r.addTagMapping,onUpdateMapping:r.updateTagMapping,onRemoveMapping:r.removeTagMapping})))),n.createElement(a.Paper,{elevation:0,sx:{p:3,mb:3,border:`1px solid ${a.alpha(e.palette.divider,.5)}`,borderRadius:1}},n.createElement(a.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2}},n.createElement(pt,{color:"primary"}),n.createElement(a.Typography,{variant:"h6",sx:{fontWeight:600}},"Field Mapping")),n.createElement(a.FormControlLabel,{control:n.createElement(a.Switch,{checked:t.enableFieldMapping,onChange:u=>r.setEnableFieldMapping(u.target.checked)}),label:"Enable field mapping",sx:{mb:2}}),t.enableFieldMapping&&n.createElement(oc,{fieldMappings:t.fieldMappings,osmTags:o,onAddMapping:r.addFieldMapping,onUpdateMapping:r.updateFieldMapping,onRemoveMapping:r.removeFieldMapping})),n.createElement(a.Paper,{elevation:0,sx:{p:3,mb:3,border:`1px solid ${a.alpha(e.palette.divider,.5)}`,borderRadius:1}},n.createElement(a.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2}},n.createElement(pt,{color:"primary"}),n.createElement(a.Typography,{variant:"h6",sx:{fontWeight:600}},"Metadata")),n.createElement(a.FormControlLabel,{control:n.createElement(a.Switch,{checked:t.includeAllTagsAsMetadata,onChange:u=>r.setIncludeAllTagsAsMetadata(u.target.checked)}),label:"Include all OSM tags as metadata",sx:{mb:2}}),t.includeAllTagsAsMetadata&&n.createElement(a.TextField,{label:"Metadata Field Name",value:t.metadataFieldName,onChange:u=>r.setMetadataFieldName(u.target.value),placeholder:"e.g., osm_metadata, tags, properties",helperText:"The field name where all OSM tags will be stored as metadata",fullWidth:!0})),n.createElement(a.Box,{sx:{display:"flex",justifyContent:"flex-end",mt:3}},n.createElement(a.Button,{variant:"outlined",color:"error",onClick:()=>r.resetMapping()},"Reset Configuration")))}function lc(){const{state:e}=$t(),t=Ne(),[r,o]=n.useState(!1),[s,i]=n.useState(!1),[l,u]=n.useState("not_started"),[d,c]=n.useState(!1),p=()=>{const x=new Set;return e.enableSampleTagging&&e.tagMappings.forEach(f=>{f.fieldName&&x.add(f.fieldName)}),e.enableFieldMapping&&e.fieldMappings.forEach(f=>{f.fieldName&&x.add(f.fieldName)}),e.includeAllTagsAsMetadata&&x.add(e.metadataFieldName||"osm_metadata"),e.enable3DDetections&&x.add(e.detectionFieldName||"detections"),Array.from(x)},m=()=>{const x=[];return e.enableSampleTagging&&e.tagMappings.forEach(f=>{f.fieldName&&x.push({name:f.fieldName,type:f.fieldType||"string",category:"Sample Tagging",description:`OSM tag "${f.osmKey}" → ${f.fieldType||"string"} field`,enabled:!0})}),e.enableFieldMapping&&e.fieldMappings.forEach(f=>{f.fieldName&&x.push({name:f.fieldName,type:f.fieldType||"string",category:"Field Mapping",description:`OSM tag "${f.osmKey}" → ${f.fieldType||"string"} field`,enabled:!0})}),e.includeAllTagsAsMetadata&&x.push({name:e.metadataFieldName||"osm_metadata",type:"list",category:"Metadata",description:"All OSM features from the grid cell",enabled:!0}),e.enable3DDetections&&x.push({name:e.detectionFieldName||"detections",type:"list",category:"3D Detections",description:`3D detections using "${e.detectionLabelTag||"type"}" tag`,enabled:!0}),x},v=async()=>{var x,f;if(!(!t||r)){o(!0);try{const b=await t.clear_enrichment_data();((x=b==null?void 0:b.result)==null?void 0:x.status)==="success"?console.log("Enrichment data cleared successfully:",b.result.message):console.error("Failed to clear enrichment data:",(f=b==null?void 0:b.result)==null?void 0:f.message)}catch(b){console.error("Error clearing enrichment data:",b)}finally{o(!1),i(!1)}}},h=async()=>{var x,f;if(t){c(!0),u("starting");try{await t.save_mapping_config({mapping_config:e});const b=await t.enrich_dataset_async();((x=b==null?void 0:b.result)==null?void 0:x.status)==="success"?(u("running"),console.log("Enrichment started successfully")):(u("failed"),console.error("Failed to start enrichment:",(f=b==null?void 0:b.result)==null?void 0:f.message))}catch(b){u("failed"),console.error("Error starting enrichment:",b)}finally{c(!1)}}};return n.createElement(a.Box,{sx:{p:3}},n.createElement(a.Typography,{variant:"h5",sx:{mb:3,fontWeight:600}},"Step 4: Dataset Enrichment"),n.createElement(a.Typography,{variant:"body1",sx:{mb:3,color:"text.secondary"}},"Apply your mapping configuration to enrich the dataset with OpenStreetMap data. This process runs asynchronously and supports multi-dashboard environments."),n.createElement(a.Box,{sx:{mb:3,display:"flex",justifyContent:"flex-end"}},n.createElement(a.Button,{variant:"outlined",color:"info",startIcon:r?n.createElement(a.CircularProgress,{size:20}):n.createElement(qe,null),onClick:()=>i(!0),disabled:r,sx:{minWidth:200}},r?"Clearing...":"Clear Enrichment Data")),n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:3,border:"1px solid rgba(0, 0, 0, 0.12)",borderRadius:1}},n.createElement(a.Stack,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2}},n.createElement(pt,{color:"primary"}),n.createElement(a.Typography,{variant:"h6",sx:{fontWeight:600}},"Dataset Enrichment")),n.createElement(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},"Start the enrichment process to apply your mapping configuration to the dataset. This process runs asynchronously and supports multi-dashboard environments."),m().length>0&&n.createElement(a.Alert,{severity:"info",sx:{mb:3}},n.createElement(a.Typography,{variant:"body2"},n.createElement("strong",null,"Ready to enrich ",m().length," field",m().length!==1?"s":"")," across your dataset. Each sample will be enriched with OpenStreetMap data based on its geographic location and your configured mappings.")),n.createElement(a.Paper,{elevation:0,sx:{p:2,mb:3,border:"1px solid rgba(0, 0, 0, 0.12)",borderRadius:1,backgroundColor:"rgba(0, 0, 0, 0.02)"}},n.createElement(a.Typography,{variant:"subtitle2",sx:{mb:2,fontWeight:600}},"📋 Enrichment Preview"),m().length>0?n.createElement(a.Box,null,n.createElement(a.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2}},"The following fields will be populated in your dataset:"),Object.entries(m().reduce((x,f)=>(x[f.category]||(x[f.category]=[]),x[f.category].push(f),x),{})).map(([x,f])=>n.createElement(a.Box,{key:x,sx:{mb:2}},n.createElement(a.Typography,{variant:"caption",sx:{fontWeight:600,color:"primary.main",display:"block",mb:1}},x),n.createElement(a.Box,{sx:{display:"flex",flexWrap:"wrap",gap:1,ml:1}},f.map((b,O)=>n.createElement(a.Chip,{key:O,label:`${b.name} (${b.type})`,color:"primary",variant:"filled",size:"small",title:b.description}))))),n.createElement(a.Typography,{variant:"caption",color:"text.secondary",sx:{mt:2,display:"block"}},"💡 Hover over field chips to see detailed mapping information")):n.createElement(a.Alert,{severity:"info",sx:{mb:0}},"No enrichment fields are configured. Please go back to the Mapping step to configure field mappings.")),n.createElement(a.Stack,{direction:"row",spacing:2,alignItems:"center"},n.createElement(a.Button,{variant:"contained",onClick:h,disabled:d||l==="running"||m().length===0,sx:{minWidth:200}},d?"Starting...":l==="running"?"Enrichment Running...":m().length===0?"No Fields Configured":"Start Enrichment"),l==="running"&&n.createElement(a.Typography,{variant:"body2",color:"primary"},"Enrichment in progress... This may take several minutes for large datasets."),l==="completed"&&n.createElement(a.Alert,{severity:"success",sx:{flex:1}},"Dataset enrichment completed successfully!"),l==="failed"&&n.createElement(a.Alert,{severity:"error",sx:{flex:1}},"Dataset enrichment failed. Please check the logs for details."))),n.createElement(a.Dialog,{open:s,onClose:()=>!r&&i(!1),maxWidth:"sm",fullWidth:!0},n.createElement(a.DialogTitle,null,n.createElement(a.Box,{sx:{display:"flex",alignItems:"center",gap:1}},n.createElement(qe,{color:"warning"}),"Confirm Clear Enrichment Data")),n.createElement(a.DialogContent,null,n.createElement(a.Typography,{variant:"body1",sx:{mb:2}},"This action will permanently delete all enrichment data from the following fields:"),p().length>0?n.createElement(a.Box,{sx:{mb:2}},p().map((x,f)=>n.createElement(a.Chip,{key:f,label:x,color:"primary",variant:"outlined",size:"small",sx:{mr:1,mb:1}}))):n.createElement(a.Alert,{severity:"info",sx:{mb:2}},"No enrichment fields are currently configured. Nothing will be cleared."),n.createElement(a.Alert,{severity:"warning",sx:{mt:2}},n.createElement("strong",null,"Warning:")," This action cannot be undone. All data in these fields will be permanently removed from your dataset.")),n.createElement(a.DialogActions,null,n.createElement(a.Button,{onClick:()=>i(!1),disabled:r},"Cancel"),n.createElement(a.Button,{onClick:v,color:"error",variant:"contained",disabled:r||p().length===0,startIcon:r?n.createElement(a.CircularProgress,{size:20}):n.createElement(qe,null)},r?"Clearing...":"Clear Data"))))}const cc=["Index Configuration","Indexing","Mapping","Enrich","Search & Cleanup"];function uc(){const e=a.useTheme(),{state:t,actions:r,derived:o}=Qn(),s=n.useRef(!1);return console.log("🔍 MetageoView render: state =",t,"derived =",o),n.useEffect(()=>{s.current||(console.log("🔍 MetageoView: useEffect triggered, calling loadCurrentIndexingState"),s.current=!0,r.loadCurrentIndexingState().then(i=>{console.log("🔍 MetageoView: loadCurrentIndexingState result:",i),i!=null&&i.success&&(i!=null&&i.hasExistingIndex)?console.log("🔍 MetageoView: Found existing index, should show indexing step"):console.log("🔍 MetageoView: No existing index found")}).catch(i=>{console.error("🔍 MetageoView: Error loading current indexing state:",i)}))},[]),t.isLoadingState?n.createElement(a.Box,null,n.createElement(a.Paper,{elevation:1,sx:{p:6,textAlign:"center",borderRadius:2,backgroundColor:e.palette.background.paper}},n.createElement(a.Typography,{variant:"h6",gutterBottom:!0},"Loading Metageo Configuration..."),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"Please wait while we check for existing indexing data."))):!t.hasStarted&&!o.hasExistingIndex?(console.log("🔍 MetageoView: Showing Configuration Required - hasStarted =",t.hasStarted,"hasExistingIndex =",o.hasExistingIndex),n.createElement(a.Box,null,n.createElement(a.Paper,{elevation:1,sx:{p:6,textAlign:"center",background:`linear-gradient(135deg, ${a.alpha(e.palette.primary.main,.05)} 0%, ${a.alpha(e.palette.secondary.main,.05)} 100%)`,border:`1px solid ${a.alpha(e.palette.primary.main,.1)}`,borderRadius:3}},n.createElement(a.Typography,{variant:"h3",sx:{mb:3,fontWeight:700,background:`linear-gradient(135deg, ${e.palette.primary.main}, ${e.palette.secondary.main})`,backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}},"Welcome to Metageo"),n.createElement(a.Typography,{variant:"h6",sx:{mb:4,color:e.palette.text.secondary,fontWeight:400,lineHeight:1.6}},"Enrich your datasets with OpenStreetMap data using intelligent geographic indexing"),n.createElement(a.Button,{onClick:r.start,variant:"contained",size:"large",startIcon:n.createElement(Nl,null),sx:{px:6,py:2,borderRadius:3,fontSize:"1.2rem",fontWeight:600,background:`linear-gradient(135deg, ${e.palette.primary.main}, ${e.palette.primary.dark})`,"&:hover":{background:`linear-gradient(135deg, ${e.palette.primary.dark}, ${e.palette.primary.main})`}}},"Get Started"),n.createElement(a.Box,{sx:{mt:4,display:"flex",justifyContent:"center",gap:3}},n.createElement(a.Box,{sx:{textAlign:"center"}},n.createElement(a.Typography,{variant:"h4",sx:{color:e.palette.primary.main,fontWeight:600}},"🗺️"),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"Geographic Indexing")),n.createElement(a.Box,{sx:{textAlign:"center"}},n.createElement(a.Typography,{variant:"h4",sx:{color:e.palette.secondary.main,fontWeight:600}},"🔍"),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"OSM Integration")),n.createElement(a.Box,{sx:{textAlign:"center"}},n.createElement(a.Typography,{variant:"h4",sx:{color:e.palette.success.main,fontWeight:600}},"⚡"),n.createElement(a.Typography,{variant:"body2",color:"text.secondary"},"Real-time Updates")))))):n.createElement(a.Box,null,n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:4,background:`linear-gradient(135deg, ${a.alpha(e.palette.primary.main,.05)} 0%, ${a.alpha(e.palette.secondary.main,.05)} 100%)`,border:`1px solid ${a.alpha(e.palette.primary.main,.1)}`,borderRadius:2}},n.createElement(a.Typography,{variant:"h4",sx:{mb:1,fontWeight:700,background:`linear-gradient(135deg, ${e.palette.primary.main}, ${e.palette.secondary.main})`,backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}},"Metageo Plugin"),n.createElement(a.Typography,{variant:"body1",color:"text.secondary"},"OpenStreetMap Data Enrichment for FiftyOne")),n.createElement(a.Paper,{elevation:1,sx:{p:3,mb:4,background:a.alpha(e.palette.background.paper,.8),border:`1px solid ${a.alpha(e.palette.divider,.2)}`,borderRadius:2}},n.createElement(a.Stepper,{activeStep:o.effectiveStep,alternativeLabel:!0},cc.map((i,l)=>n.createElement(a.Step,{key:i},n.createElement(a.StepLabel,{sx:{"& .MuiStepLabel-label":{fontSize:"0.875rem",fontWeight:500}}},i))))),n.createElement(a.Box,{sx:{mb:4}},o.effectiveStep===oe.INDEX_CONFIGURATION&&n.createElement(Zl,null),o.effectiveStep===oe.INDEXING&&n.createElement(tc,null),o.effectiveStep===oe.MAPPING&&n.createElement(ic,null),o.effectiveStep===oe.ENRICH&&n.createElement(lc,null),o.effectiveStep===oe.SEARCH_CLEANUP&&n.createElement(a.Paper,{elevation:1,sx:{p:6,textAlign:"center",background:a.alpha(e.palette.success.main,.02),border:`1px solid ${a.alpha(e.palette.success.main,.1)}`,borderRadius:2}},n.createElement(a.Typography,{variant:"h5",sx:{mb:2,fontWeight:600}},"🎉 Search & Cleanup"),n.createElement(a.Typography,{variant:"body1",color:"text.secondary"},"This step will be implemented next. It will provide search capabilities and data cleanup tools for your enriched dataset."))),n.createElement(a.Paper,{elevation:1,sx:{p:3,background:a.alpha(e.palette.background.paper,.9),border:`1px solid ${a.alpha(e.palette.divider,.2)}`,borderRadius:2}},n.createElement(a.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.createElement(a.Button,{onClick:r.back,disabled:!o.canGoBack,startIcon:n.createElement(Fl,null),variant:"outlined",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},"Back"),n.createElement(a.Box,{sx:{display:"flex",gap:2}},n.createElement(a.Button,{onClick:r.next,disabled:!o.canGoNext,endIcon:n.createElement(Dl,null),variant:"contained",size:"large",sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600}},"Next")))))}class dc extends pe.Operator{get config(){return new pe.OperatorConfig({name:"indexing_started",label:"Indexing Started",unlisted:!0})}useHooks(){return{setIndexingState:Se.useSetRecoilState(mt)}}async execute({hooks:t,params:r}){const{indexing_id:o,total_cells:s,active_cells:i,status:l}=r;console.log("IndexingStartedOperator: Indexing started",{indexing_id:o,total_cells:s,active_cells:i}),t.setIndexingState(u=>({...u,indexingStatus:"running"}))}}class fc extends pe.Operator{get config(){return new pe.OperatorConfig({name:"cell_status_update",label:"Cell Status Update",unlisted:!0})}useHooks(){const[t,r]=Se.useRecoilState(mt);return{indexingState:t,setIndexingState:r}}async execute({hooks:t,params:r}){const{cell_id:o,status:s,progress:i,osm_features:l,error:u}=r;console.log(`CellStatusUpdateOperator: Updating cell ${o} to status ${s} with ${l} features`),t.setIndexingState(d=>{const c=d.gridCells.map(p=>p.id===o?{...p,status:s,progress:i||0,error:u||void 0,osm_features:l?[l]:void 0}:p);return{...d,gridCells:c}})}}class pc extends pe.Operator{get config(){return new pe.OperatorConfig({name:"indexing_progress",label:"Indexing Progress",unlisted:!0})}useHooks(){return{setIndexingState:Se.useSetRecoilState(mt)}}async execute({hooks:t,params:r}){const{indexing_id:o,completed_cells:s,failed_cells:i,total_cells:l,total_features:u,progress:d}=r;console.log("IndexingProgressOperator: Progress update",{indexing_id:o,completed_cells:s,failed_cells:i,total_cells:l,total_features:u,progress:d})}}class gc extends pe.Operator{get config(){return new pe.OperatorConfig({name:"indexing_completed",label:"Indexing Completed",unlisted:!0})}useHooks(){return{setIndexingState:Se.useSetRecoilState(mt)}}async execute({hooks:t,params:r}){const{indexing_id:o,completed_cells:s,failed_cells:i,total_cells:l,total_features:u,status:d}=r;console.log("IndexingCompletedOperator: Indexing completed",{indexing_id:o,completed_cells:s,failed_cells:i,total_cells:l,total_features:u,status:d}),t.setIndexingState(c=>({...c,indexingStatus:"completed"}))}}class mc extends pe.Operator{get config(){return new pe.OperatorConfig({name:"grid_indexing_completed",label:"Grid Indexing Completed",unlisted:!0})}useHooks(){return{setIndexingState:Se.useSetRecoilState(mt)}}async execute({hooks:t,params:r}){const{indexing_id:o,completed_cells:s,failed_cells:i,rate_limited_cells:l,total_features:u,status:d}=r;console.log("GridIndexingCompletedOperator: Grid indexing completed!"),console.log("Completed cells:",s),console.log("Failed cells:",i),console.log("Rate limited cells:",l),console.log("Total features:",u),t.setIndexingState(c=>({...c,indexingStatus:"completed"}))}}function hc(){try{pe.registerOperator(dc,"@voxel51/metageo"),pe.registerOperator(fc,"@voxel51/metageo"),pe.registerOperator(pc,"@voxel51/metageo"),pe.registerOperator(gc,"@voxel51/metageo"),pe.registerOperator(mc,"@voxel51/metageo"),console.log("Metageo operators registered successfully")}catch(e){console.error("Error registering Metageo operators:",e)}}hc(),Fe.registerComponent({name:"MetageoView",label:"Metageo",component:uc,type:Fe.PluginComponentType.Component,activator:()=>!0})});
//# sourceMappingURL=index.umd.js.map
